{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ruala\\\\Desktop\\\\ASahak\\\\daser\\\\next\\\\CryptoGraphy\\\\components\\\\Chat-Users.jsx\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as moment from 'moment';\nimport UI_ELEMENTS from \"components/shared/UI\";\nimport Skeleton from 'components/Skeleton';\nimport { __GET_CHAT_USERS, __ADD_MESSAGE, __GO_PRIVATE_CHAT } from 'store/saga';\nimport { __CHANGE_MOBILE_LIST_OPEN, __SET_ACTIVE_USER, __SEND_MOBILE_MESSAGE_NOTIFY } from 'store/actions';\nimport { __detectCryptIcon } from 'components/shared/helpers/global-functions';\nimport NoChatUsers from 'components/elements/NoChatUsers';\nimport CommonRoom from 'components/elements/CommonRoom';\nimport { connect } from 'react-redux';\nimport { Bus } from 'components/shared/helpers/Bus';\n\nvar EveryUser = function EveryUser(props) {\n  return __jsx(\"div\", {\n    onClick: function onClick() {\n      return props.goPrivateChat(props.id);\n    },\n    className: \"user-messages-container \".concat(props.isActiveUser === props.id ? 'active-user' : '', \" \\n          \").concat(props.dataMSG.letters.owner && props.dataMSG.letters.owner !== 'Me' && props.dataMSG.isSeen === false ? 'must-open-message' : ''),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, __jsx(UI_ELEMENTS.UserImage, {\n    firstName: props.dataMSG.fullName.split(' ')[0],\n    lastName: props.dataMSG.fullName.split(' ')[1] || '',\n    fill: props.dataMSG.color,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"user-message-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"user-message-info_left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }, __jsx(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 19\n    }\n  }, props.dataMSG.fullName + (props.dataMSG.letters.owner && props.dataMSG.letters.owner !== 'Me' && props.dataMSG.isSeen === false ? \" ( \".concat(props.dataMSG.countMessagesDelivered, \" )\") : '')), props.dataMSG.isTyping === true ? __jsx(\"div\", {\n    className: \"spinner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"bounce1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    className: \"bounce2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    className: \"bounce3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 27\n    }\n  })) : __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 23\n    }\n  }, props.dataMSG.letters && props.dataMSG.letters.message ? __detectCryptIcon(props.dataMSG.letters) ? __jsx(\"img\", {\n    src: \"./assets/images/key.png\",\n    alt: \"iconKey\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 31\n    }\n  }) : props.dataMSG.letters.message : 'No messages yet')), __jsx(\"div\", {\n    className: \"user-message-info_right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, props.dataMSG.letters && props.dataMSG.letters.time ? moment(props.dataMSG.letters.time).fromNow() : ''))));\n};\n\nEveryUser.propTypes = {\n  id: PropTypes.string,\n  isActiveUser: PropTypes.string,\n  dataMSG: PropTypes.object,\n  loggedUser: PropTypes.string\n};\n\nvar ChatUsers = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChatUsers, _React$Component);\n\n  var _super = _createSuper(ChatUsers);\n\n  function ChatUsers(props) {\n    var _this2;\n\n    _classCallCheck(this, ChatUsers);\n\n    _this2 = _super.call(this, props);\n    _this2.state = {\n      commonRoom: false,\n      startedNewChat: true\n    };\n    _this2.__moveToCommonRoom = _this2.__moveToCommonRoom.bind(_assertThisInitialized(_this2));\n    _this2.__goPrivateChat = _this2.__goPrivateChat.bind(_assertThisInitialized(_this2));\n    Bus.subscribe('startChat', function (data) {\n      return _this2.__startPrivateChat(data);\n    });\n    return _this2;\n  }\n\n  _createClass(ChatUsers, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      __GET_CHAT_USERS().next();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      if (this.props.usersList instanceof Array) {\n        if (this.props.usersList.some(function (user) {\n          return user.isSeen === false && user.isSender === false;\n        })) {\n          this.props.__SEND_MOBILE_MESSAGE_NOTIFY(true);\n        } else {\n          this.props.__SEND_MOBILE_MESSAGE_NOTIFY(false);\n        }\n      }\n\n      if (prevProps.usersList !== this.props.usersList) {\n        this.props.__SET_ACTIVE_USER(this.props.activeUser.id ? this.props.activeUser : this.props.usersList[0]);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Bus.unsubscribe('startChat');\n\n      __GET_CHAT_USERS({}).next();\n    }\n  }, {\n    key: \"__moveToCommonRoom\",\n    value: function __moveToCommonRoom() {\n      this.setState({\n        commonRoom: !this.state.commonRoom\n      });\n    }\n  }, {\n    key: \"__goPrivateChat\",\n    value: function __goPrivateChat(idUser) {\n      return _regeneratorRuntime.async(function __goPrivateChat$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.props.__CHANGE_MOBILE_LIST_OPEN(false);\n\n              this.setState({\n                startedNewChat: false\n              });\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(__GO_PRIVATE_CHAT(idUser, this.props.loggedUser.id).next());\n\n            case 4:\n              this.setState({\n                startedNewChat: true\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"__startPrivateChat\",\n    value: function __startPrivateChat(data) {\n      var _reverseArray;\n\n      return _regeneratorRuntime.async(function __startPrivateChat$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.setState({\n                startedNewChat: false\n              });\n              _reverseArray = [_objectSpread({}, data)].concat(_toConsumableArray(this.props.usersList));\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(__ADD_MESSAGE({\n                my: {\n                  friendId: data.id,\n                  loggedUser: this.props.loggedUser,\n                  msgData: {\n                    time: null,\n                    message: ''\n                  }\n                }\n              }).next());\n\n            case 4:\n              __GET_CHAT_USERS(_reverseArray).next();\n\n              this.props.__SET_ACTIVE_USER(data);\n\n              this.__moveToCommonRoom();\n\n              this.setState({\n                startedNewChat: true\n              });\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]) + \" \" + \"chat-users\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, __jsx(\"h4\", {\n        className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, !this.state.commonRoom ? 'Your Messages' : __jsx(\"a\", {\n        onClick: this.__moveToCommonRoom,\n        className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      }, __jsx(\"span\", {\n        className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]) + \" \" + \"lnr lnr-chevron-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 58\n        }\n      }), \" Back\"), __jsx(\"span\", {\n        onClick: function onClick() {\n          return _this3.props.__CHANGE_MOBILE_LIST_OPEN(false);\n        },\n        className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]) + \" \" + \"lnr lnr-arrow-left d-none_sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      })), __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]) + \" \" + \"chat-room-wrapper \".concat(!this.state.startedNewChat ? 'until-load-allowing' : ''),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, !this.state.commonRoom ? __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]) + \" \" + \"users-messages-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 47\n        }\n      }, this.props.usersList === null ? new Array(8).fill('').map(function (_, i) {\n        return __jsx(\"div\", {\n          key: i + Math.random().toString(16).slice(2, 6),\n          style: {\n            opacity: (8 - i) * 0.09\n          },\n          className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]) + \" \" + \"skeleton-container\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 32\n          }\n        }, __jsx(Skeleton, {\n          width: \"35px\",\n          height: \"35px\",\n          margin: ['5px', '10px', '0px', '10px'],\n          radius: \"50%\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 36\n          }\n        }), __jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"756282593\", [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0]]]) + \" \" + \"line-wrap\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 36\n          }\n        }, __jsx(Skeleton, {\n          width: \"100%\",\n          height: \"12px\",\n          margin: ['5px', '0px', '10px', '0px'],\n          radius: \"0%\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 40\n          }\n        }), __jsx(Skeleton, {\n          width: \"100%\",\n          height: \"12px\",\n          margin: ['5px', '0px', '10px', '0px'],\n          radius: \"0%\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 40\n          }\n        })));\n      }) : this.props.usersList.length ? this.props.usersList.map(function (user) {\n        var _this3$props$activeUs, _this3$props$loggedUs;\n\n        return __jsx(EveryUser, {\n          isActiveUser: (_this3$props$activeUs = _this3.props.activeUser) === null || _this3$props$activeUs === void 0 ? void 0 : _this3$props$activeUs.id,\n          loggedUser: (_this3$props$loggedUs = _this3.props.loggedUser) === null || _this3$props$loggedUs === void 0 ? void 0 : _this3$props$loggedUs.id,\n          id: user.id,\n          dataMSG: user,\n          key: user.id,\n          goPrivateChat: _this3.__goPrivateChat,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 92\n          }\n        });\n      }) : __jsx(NoChatUsers, {\n        goToCommonRoom: function goToCommonRoom() {\n          return _this3.__moveToCommonRoom;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 32\n        }\n      })) : __jsx(CommonRoom, {\n        startedNewChat: this.state.startedNewChat,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 29\n        }\n      }), !this.state.commonRoom && this.props.usersList !== null && this.props.usersList.length ? __jsx(UI_ELEMENTS.Button, {\n        background: \"transparent\",\n        color: \"#37415c\",\n        fontSize: 11,\n        hover: \"hover-from-transparent\",\n        type: \"button\",\n        text: 'Common Room',\n        width: 150,\n        margin: ['20px', 'auto', '0', 'auto'],\n        onClick: this.__moveToCommonRoom,\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }\n      }) : ''), __jsx(_JSXStyle, {\n        id: \"756282593\",\n        dynamic: [_this3.props.mobileUsersListOpen ? 1 : 0, !_this3.props.mobileUsersListOpen ? 'width' : '', _this3.props.mobileUsersListOpen ? 100 : 0],\n        __self: this\n      }, \".until-load-allowing{pointer-events:none;}.skeleton-container{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.skeleton-container .line-wrap{width:calc(100% - 70px);}.chat-users{width:30%;box-shadow:0 3px 1px -2px rgba(0,0,0,0.2),0 2px 2px 0 rgba(0,0,0,0.14),0 1px 5px 0 rgba(0,0,0,0.12);}.chat-users>h4{margin:0;padding:10px;border-bottom:1px solid #e3dede;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:41.5px;}.chat-users>h4>a>span{font-size:12px;}.chat-users>h4>a{cursor:pointer;color:#0000ffba;font-size:13px;}.users-messages-container .user-messages-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px;border-bottom:1px solid #e3dede;-webkit-transition:.4s;transition:.4s;cursor:pointer;}.users-messages-container .user-messages-container.active-user{border-right:2px solid #1ab898;background-color:#eeeeee;}.users-messages-container .must-open-message{background-color:#eeeeee63;font-weight:900;}.users-messages-container .user-messages-container:hover{background-color:#eeeeee;}.user-messages-container .user-message-info{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:10px;width:calc(100% - 50px);-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.user-messages-container .user-message-info .user-message-info_left{width:calc(100% - 90px);}.user-messages-container .user-message-info .user-message-info_right{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;white-space:nowrap;}.user-messages-container .user-message-info .user-message-info_right>span{font-size:13px;}.user-messages-container .user-message-info .user-message-info_left h4{margin-top:2px;font-size:14px;margin-bottom:5px;}.user-messages-container .user-message-info .user-message-info_left p{margin:0;height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;}.user-messages-container .user-message-info .user-message-info_left p>img{height:15px;}.chat-room-wrapper{height:calc(100% - 41.5px);}.chat-room-wrapper .users-messages-container{overflow-x:hidden;max-height:calc(100% - 60px);}.chat-room-wrapper .main-room-list{overflow-x:hidden;max-height:100%;}.chat-room-wrapper .main-room-list::-webkit-scrollbar,.chat-room-wrapper .users-messages-container::-webkit-scrollbar{width:0px;height:10px;}.chat-room-wrapper .main-room-list::-webkit-scrollbar-thumb,.chat-room-wrapper .users-messages-container::-webkit-scrollbar-thumb{background:transparent;}.chat-room-wrapper .main-room-list::-webkit-scrollbar-track,.chat-room-wrapper .users-messages-container::-webkit-scrollbar-track{background:transparent;}.d-none_sm{display:none;}.chat-users>h4 .lnr-arrow-left{font-size:26px;cursor:pointer;}@media screen and (max-width:767px){.d-none_sm{display:block;}.chat-users{opacity:\".concat(this.props.mobileUsersListOpen ? 1 : 0, \";-webkit-transition:\").concat(!this.props.mobileUsersListOpen ? 'width' : '', \" .2s;transition:\").concat(!this.props.mobileUsersListOpen ? 'width' : '', \" .2s;overflow:hidden;width:\").concat(this.props.mobileUsersListOpen ? 100 : 0, \"%;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccnVhbGFcXERlc2t0b3BcXEFTYWhha1xcZGFzZXJcXG5leHRcXENyeXB0b0dyYXBoeVxcY29tcG9uZW50c1xcQ2hhdC1Vc2Vycy5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa01tQyxBQUc2QyxBQUdMLEFBSVMsQUFHZCxBQUlELEFBUU0sQUFHQSxBQUtGLEFBUWtCLEFBSUosQUFJRixBQUdaLEFBTVcsQUFHTixBQUlILEFBR0EsQUFLTixBQVFHLEFBR2UsQUFHVCxBQUlBLEFBSVIsQUFLYSxBQUdBLEFBR1YsQUFHRSxBQUtHLEFBR3VCLFNBbkc1QixBQXdERCxDQTVEMEYsQUFrRjFGLEVBZGhCLENBeUJBLENBUUksQ0E1R2EsQUFtQmpCLEFBR29CLEFBcUNwQixBQUdtQixBQXlDQSxHQXRCYyxBQUliLEVBeEZwQixDQXVFb0IsQ0F4RGdCLEFBOEVwQyxDQUlBLEFBR0EsQ0E3RkEsQUFnREEsQ0FUQSxFQUpvQixBQXVDcEIsR0Fmc0IsQUF5Q3RCLENBakZtQixBQVlVLEdBbUQ3QixHQWpCMkIsQUEwQ3lCLE1BdkVwRCxHQWhCQSxDQTBEQSxDQWxCQSxNQW5EaUIsRUF1QmpCLElBa0N1QixPQWZBLE9BNUJBLEFBbUJGLEtBeUJGLE9BZm5CLEdBdkRBLEVBOEM0QixHQXlCNUIsZ0JBaEVBLEtBd0NrQyxhQWxDQSxLQWtHVixnQkFDb0Isa0JBckYzQixhQUNtQixLQXFGaEMsMkJBcEZlLGtCQW1CbkIsYUFsQ2tCLE9BZ0JDLE9BZm5CLFFBZ0JBIiwiZmlsZSI6IkM6XFxVc2Vyc1xccnVhbGFcXERlc2t0b3BcXEFTYWhha1xcZGFzZXJcXG5leHRcXENyeXB0b0dyYXBoeVxcY29tcG9uZW50c1xcQ2hhdC1Vc2Vycy5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuaW1wb3J0IFVJX0VMRU1FTlRTIGZyb20gXCJjb21wb25lbnRzL3NoYXJlZC9VSVwiO1xyXG5pbXBvcnQgU2tlbGV0b24gZnJvbSAnY29tcG9uZW50cy9Ta2VsZXRvbic7XHJcbmltcG9ydCB7XHJcbiAgICBfX0dFVF9DSEFUX1VTRVJTLFxyXG4gICAgX19BRERfTUVTU0FHRSxcclxuICAgIF9fR09fUFJJVkFURV9DSEFULFxyXG59IGZyb20gJ3N0b3JlL3NhZ2EnO1xyXG5pbXBvcnQge1xyXG4gICAgX19DSEFOR0VfTU9CSUxFX0xJU1RfT1BFTixcclxuICAgIF9fU0VUX0FDVElWRV9VU0VSLFxyXG4gICAgX19TRU5EX01PQklMRV9NRVNTQUdFX05PVElGWSxcclxufSBmcm9tICdzdG9yZS9hY3Rpb25zJztcclxuaW1wb3J0IHtcclxuICAgIF9fZGV0ZWN0Q3J5cHRJY29uXHJcbn0gZnJvbSAnY29tcG9uZW50cy9zaGFyZWQvaGVscGVycy9nbG9iYWwtZnVuY3Rpb25zJztcclxuaW1wb3J0IE5vQ2hhdFVzZXJzIGZyb20gJ2NvbXBvbmVudHMvZWxlbWVudHMvTm9DaGF0VXNlcnMnO1xyXG5pbXBvcnQgQ29tbW9uUm9vbSBmcm9tICdjb21wb25lbnRzL2VsZW1lbnRzL0NvbW1vblJvb20nO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgeyBCdXMgfSBmcm9tICdjb21wb25lbnRzL3NoYXJlZC9oZWxwZXJzL0J1cyc7XHJcblxyXG5jb25zdCBFdmVyeVVzZXIgPSBwcm9wcyA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwcm9wcy5nb1ByaXZhdGVDaGF0KHByb3BzLmlkKX1cclxuICAgICAgICAgIGNsYXNzTmFtZT17YHVzZXItbWVzc2FnZXMtY29udGFpbmVyICR7cHJvcHMuaXNBY3RpdmVVc2VyID09PSBwcm9wcy5pZCA/ICdhY3RpdmUtdXNlcicgOiAnJ30gXHJcbiAgICAgICAgICAkeyBwcm9wcy5kYXRhTVNHLmxldHRlcnMub3duZXIgJiYgcHJvcHMuZGF0YU1TRy5sZXR0ZXJzLm93bmVyICE9PSAnTWUnICYmIHByb3BzLmRhdGFNU0cuaXNTZWVuID09PSBmYWxzZSA/ICdtdXN0LW9wZW4tbWVzc2FnZScgOiAnJ31gfT5cclxuICAgICAgICAgIDxVSV9FTEVNRU5UUy5Vc2VySW1hZ2VcclxuICAgICAgICAgICAgICBmaXJzdE5hbWU9e3Byb3BzLmRhdGFNU0cuZnVsbE5hbWUuc3BsaXQoJyAnKVswXX1cclxuICAgICAgICAgICAgICBsYXN0TmFtZT17cHJvcHMuZGF0YU1TRy5mdWxsTmFtZS5zcGxpdCgnICcpWzFdIHx8ICcnfVxyXG4gICAgICAgICAgICAgIGZpbGw9e3Byb3BzLmRhdGFNU0cuY29sb3J9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW1lc3NhZ2UtaW5mb1wiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1tZXNzYWdlLWluZm9fbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aDQ+e3Byb3BzLmRhdGFNU0cuZnVsbE5hbWUgKyAocHJvcHMuZGF0YU1TRy5sZXR0ZXJzLm93bmVyICYmIHByb3BzLmRhdGFNU0cubGV0dGVycy5vd25lciAhPT0gJ01lJyAmJiBwcm9wcy5kYXRhTVNHLmlzU2VlbiA9PT0gZmFsc2UgPyBgICggJHtwcm9wcy5kYXRhTVNHLmNvdW50TWVzc2FnZXNEZWxpdmVyZWR9IClgIDogJycpfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgIHtwcm9wcy5kYXRhTVNHLmlzVHlwaW5nID09PSB0cnVlID9cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGlubmVyJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYm91bmNlMSc+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JvdW5jZTInPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdib3VuY2UzJz48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PjpcclxuICAgICAgICAgICAgICAgICAgICAgIDxwPnsocHJvcHMuZGF0YU1TRy5sZXR0ZXJzICYmIHByb3BzLmRhdGFNU0cubGV0dGVycy5tZXNzYWdlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX19kZXRlY3RDcnlwdEljb24ocHJvcHMuZGF0YU1TRy5sZXR0ZXJzKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9hc3NldHMvaW1hZ2VzL2tleS5wbmdcIiBhbHQ9XCJpY29uS2V5XCIvPiA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmRhdGFNU0cubGV0dGVycy5tZXNzYWdlIDogJ05vIG1lc3NhZ2VzIHlldCd9PC9wPn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItbWVzc2FnZS1pbmZvX3JpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuPnsocHJvcHMuZGF0YU1TRy5sZXR0ZXJzICYmIHByb3BzLmRhdGFNU0cubGV0dGVycy50aW1lKSA/IG1vbWVudChwcm9wcy5kYXRhTVNHLmxldHRlcnMudGltZSkuZnJvbU5vdygpIDogJyd9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gIClcclxufTtcclxuRXZlcnlVc2VyLnByb3BUeXBlcyA9IHtcclxuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgaXNBY3RpdmVVc2VyOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgZGF0YU1TRzogUHJvcFR5cGVzLm9iamVjdCxcclxuICAgIGxvZ2dlZFVzZXI6IFByb3BUeXBlcy5zdHJpbmcsXHJcbn07XHJcblxyXG5jbGFzcyBDaGF0VXNlcnMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgY29tbW9uUm9vbTogZmFsc2UsXHJcbiAgICAgICAgICAgIHN0YXJ0ZWROZXdDaGF0OiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fX21vdmVUb0NvbW1vblJvb20gICAgICAgICAgPSB0aGlzLl9fbW92ZVRvQ29tbW9uUm9vbS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX19nb1ByaXZhdGVDaGF0ICAgICAgICAgICAgID0gdGhpcy5fX2dvUHJpdmF0ZUNoYXQuYmluZCh0aGlzKTtcclxuICAgICAgICBCdXMuc3Vic2NyaWJlKCdzdGFydENoYXQnLCAoZGF0YSkgPT4gdGhpcy5fX3N0YXJ0UHJpdmF0ZUNoYXQoZGF0YSkpXHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgX19HRVRfQ0hBVF9VU0VSUygpLm5leHQoKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy51c2Vyc0xpc3QgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy51c2Vyc0xpc3Quc29tZSh1c2VyID0+ICh1c2VyLmlzU2VlbiA9PT0gZmFsc2UgJiYgdXNlci5pc1NlbmRlciA9PT0gZmFsc2UpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5fX1NFTkRfTU9CSUxFX01FU1NBR0VfTk9USUZZKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5fX1NFTkRfTU9CSUxFX01FU1NBR0VfTk9USUZZKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJldlByb3BzLnVzZXJzTGlzdCAhPT0gdGhpcy5wcm9wcy51c2Vyc0xpc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5fX1NFVF9BQ1RJVkVfVVNFUih0aGlzLnByb3BzLmFjdGl2ZVVzZXIuaWQgPyB0aGlzLnByb3BzLmFjdGl2ZVVzZXIgOiB0aGlzLnByb3BzLnVzZXJzTGlzdFswXSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgQnVzLnVuc3Vic2NyaWJlKCdzdGFydENoYXQnKTtcclxuICAgICAgICBfX0dFVF9DSEFUX1VTRVJTKHt9KS5uZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgX19tb3ZlVG9Db21tb25Sb29tICgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY29tbW9uUm9vbTogIXRoaXMuc3RhdGUuY29tbW9uUm9vbVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX19nb1ByaXZhdGVDaGF0IChpZFVzZXIpIHtcclxuICAgICAgICB0aGlzLnByb3BzLl9fQ0hBTkdFX01PQklMRV9MSVNUX09QRU4oZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzdGFydGVkTmV3Q2hhdDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBhd2FpdCBfX0dPX1BSSVZBVEVfQ0hBVChpZFVzZXIsIHRoaXMucHJvcHMubG9nZ2VkVXNlci5pZCkubmV4dCgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzdGFydGVkTmV3Q2hhdDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9fc3RhcnRQcml2YXRlQ2hhdCAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzdGFydGVkTmV3Q2hhdDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBfcmV2ZXJzZUFycmF5ID0gW1xyXG4gICAgICAgICAgICB7Li4uZGF0YX0sXHJcbiAgICAgICAgICAgIC4uLnRoaXMucHJvcHMudXNlcnNMaXN0XHJcbiAgICAgICAgXTtcclxuICAgICAgICBhd2FpdCBfX0FERF9NRVNTQUdFKHtteToge1xyXG4gICAgICAgICAgICAgICAgZnJpZW5kSWQ6IGRhdGEuaWQsXHJcbiAgICAgICAgICAgICAgICBsb2dnZWRVc2VyOiB0aGlzLnByb3BzLmxvZ2dlZFVzZXIsXHJcbiAgICAgICAgICAgICAgICBtc2dEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH19KS5uZXh0KCk7XHJcbiAgICAgICAgX19HRVRfQ0hBVF9VU0VSUyhfcmV2ZXJzZUFycmF5KS5uZXh0KCk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5fX1NFVF9BQ1RJVkVfVVNFUihkYXRhKTtcclxuICAgICAgICB0aGlzLl9fbW92ZVRvQ29tbW9uUm9vbSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzdGFydGVkTmV3Q2hhdDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXVzZXJzXCI+XHJcbiAgICAgICAgICAgICAgICA8aDQ+eyF0aGlzLnN0YXRlLmNvbW1vblJvb20gP1xyXG4gICAgICAgICAgICAgICAgICAgICdZb3VyIE1lc3NhZ2VzJzpcclxuICAgICAgICAgICAgICAgICAgICA8YSBvbkNsaWNrPXt0aGlzLl9fbW92ZVRvQ29tbW9uUm9vbX0+PHNwYW4gY2xhc3NOYW1lPVwibG5yIGxuci1jaGV2cm9uLWxlZnRcIj48L3NwYW4+IEJhY2s8L2E+fVxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxuciBsbnItYXJyb3ctbGVmdCBkLW5vbmVfc21cIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLl9fQ0hBTkdFX01PQklMRV9MSVNUX09QRU4oZmFsc2UpfT48L3NwYW4+PC9oND5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgY2hhdC1yb29tLXdyYXBwZXIgJHshdGhpcy5zdGF0ZS5zdGFydGVkTmV3Q2hhdCA/ICd1bnRpbC1sb2FkLWFsbG93aW5nJyA6ICcnfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5jb21tb25Sb29tID8gPGRpdiBjbGFzc05hbWU9XCJ1c2Vycy1tZXNzYWdlcy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMudXNlcnNMaXN0ID09PSBudWxsID8gbmV3IEFycmF5KDgpLmZpbGwoJycpLm1hcCgoXywgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJza2VsZXRvbi1jb250YWluZXJcIiBrZXk9e2kgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zbGljZSgyLCA2KX0gc3R5bGU9e3tvcGFjaXR5OiAoOCAtIGkpICogMC4wOX19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjM1cHhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIzNXB4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPXtbJzVweCcsICcxMHB4JyAsICcwcHgnLCAnMTBweCddfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM9XCI1MCVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5lLXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTJweFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW49e1snNXB4JywgJzBweCcgLCAnMTBweCcsICcwcHgnXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1cz1cIjAlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTJweFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW49e1snNXB4JywgJzBweCcgLCAnMTBweCcsICcwcHgnXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1cz1cIjAlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTogdGhpcy5wcm9wcy51c2Vyc0xpc3QubGVuZ3RoID8gdGhpcy5wcm9wcy51c2Vyc0xpc3QubWFwKHVzZXIgPT4gPEV2ZXJ5VXNlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmVVc2VyPXt0aGlzLnByb3BzLmFjdGl2ZVVzZXI/LmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VkVXNlcj17dGhpcy5wcm9wcy5sb2dnZWRVc2VyPy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXt1c2VyLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YU1TRz17dXNlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dXNlci5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvUHJpdmF0ZUNoYXQ9e3RoaXMuX19nb1ByaXZhdGVDaGF0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPiApIDogPE5vQ2hhdFVzZXJzIGdvVG9Db21tb25Sb29tPXsoKSA9PiB0aGlzLl9fbW92ZVRvQ29tbW9uUm9vbX0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+OiA8Q29tbW9uUm9vbSBzdGFydGVkTmV3Q2hhdD17dGhpcy5zdGF0ZS5zdGFydGVkTmV3Q2hhdH0vPn1cclxuICAgICAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuY29tbW9uUm9vbSAmJiB0aGlzLnByb3BzLnVzZXJzTGlzdCAhPT0gbnVsbCAmJiB0aGlzLnByb3BzLnVzZXJzTGlzdC5sZW5ndGggP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VUlfRUxFTUVOVFMuQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kPVwidHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCIjMzc0MTVjXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPXsxMX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyPVwiaG92ZXItZnJvbS10cmFuc3BhcmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9eydDb21tb24gUm9vbSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MTUwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPXtbJzIwcHgnLCAnYXV0bycsICcwJywgJ2F1dG8nXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX19tb3ZlVG9Db21tb25Sb29tfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxyXG4gICAgICAgICAgICAgICAgICAgIC51bnRpbC1sb2FkLWFsbG93aW5nIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5za2VsZXRvbi1jb250YWluZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5za2VsZXRvbi1jb250YWluZXIgLmxpbmUtd3JhcCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA3MHB4KTsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY2hhdC11c2VycyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAzMCU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsMC4yKSwgMCAycHggMnB4IDAgcmdiYSgwLDAsMCwwLjE0KSwgMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjEyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNoYXQtdXNlcnMgPiBoNCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlM2RlZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0MS41cHg7ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY2hhdC11c2VycyA+IGg0ID4gYSA+IHNwYW57IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAuY2hhdC11c2VycyA+IGg0ID4gYXsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMwMDAwZmZiYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAudXNlcnMtbWVzc2FnZXMtY29udGFpbmVyIC51c2VyLW1lc3NhZ2VzLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTNkZWRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAuNHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLnVzZXJzLW1lc3NhZ2VzLWNvbnRhaW5lciAudXNlci1tZXNzYWdlcy1jb250YWluZXIuYWN0aXZlLXVzZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCAjMWFiODk4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAudXNlcnMtbWVzc2FnZXMtY29udGFpbmVyIC5tdXN0LW9wZW4tbWVzc2FnZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU2MztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDkwMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLnVzZXJzLW1lc3NhZ2VzLWNvbnRhaW5lciAudXNlci1tZXNzYWdlcy1jb250YWluZXI6aG92ZXJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC51c2VyLW1lc3NhZ2VzLWNvbnRhaW5lciAudXNlci1tZXNzYWdlLWluZm8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDUwcHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC51c2VyLW1lc3NhZ2VzLWNvbnRhaW5lciAudXNlci1tZXNzYWdlLWluZm8gLnVzZXItbWVzc2FnZS1pbmZvX2xlZnQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gOTBweCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC51c2VyLW1lc3NhZ2VzLWNvbnRhaW5lciAudXNlci1tZXNzYWdlLWluZm8gLnVzZXItbWVzc2FnZS1pbmZvX3JpZ2h0IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAudXNlci1tZXNzYWdlcy1jb250YWluZXIgLnVzZXItbWVzc2FnZS1pbmZvIC51c2VyLW1lc3NhZ2UtaW5mb19yaWdodCA+IHNwYW4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC51c2VyLW1lc3NhZ2VzLWNvbnRhaW5lciAudXNlci1tZXNzYWdlLWluZm8gLnVzZXItbWVzc2FnZS1pbmZvX2xlZnQgaDQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAudXNlci1tZXNzYWdlcy1jb250YWluZXIgLnVzZXItbWVzc2FnZS1pbmZvIC51c2VyLW1lc3NhZ2UtaW5mb19sZWZ0IHAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTZweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLnVzZXItbWVzc2FnZXMtY29udGFpbmVyIC51c2VyLW1lc3NhZ2UtaW5mbyAudXNlci1tZXNzYWdlLWluZm9fbGVmdCBwID4gaW1ne1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDE1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jaGF0LXJvb20td3JhcHBlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gNDEuNXB4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNoYXQtcm9vbS13cmFwcGVyIC51c2Vycy1tZXNzYWdlcy1jb250YWluZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwJSAtIDYwcHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgLmNoYXQtcm9vbS13cmFwcGVyIC5tYWluLXJvb20tbGlzdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4LWhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNoYXQtcm9vbS13cmFwcGVyIC5tYWluLXJvb20tbGlzdDo6LXdlYmtpdC1zY3JvbGxiYXIsIC5jaGF0LXJvb20td3JhcHBlciAudXNlcnMtbWVzc2FnZXMtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLmNoYXQtcm9vbS13cmFwcGVyIC5tYWluLXJvb20tbGlzdDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIsIC5jaGF0LXJvb20td3JhcHBlciAudXNlcnMtbWVzc2FnZXMtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY2hhdC1yb29tLXdyYXBwZXIgLm1haW4tcm9vbS1saXN0Ojotd2Via2l0LXNjcm9sbGJhci10cmFjaywgLmNoYXQtcm9vbS13cmFwcGVyIC51c2Vycy1tZXNzYWdlcy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5kLW5vbmVfc20ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY2hhdC11c2VycyA+IGg0IC5sbnItYXJyb3ctbGVmdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjZweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZC1ub25lX3NtIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGF0LXVzZXJzIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6ICR7dGhpcy5wcm9wcy5tb2JpbGVVc2Vyc0xpc3RPcGVuID8gMSA6IDB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJHshdGhpcy5wcm9wcy5tb2JpbGVVc2Vyc0xpc3RPcGVuID8gJ3dpZHRoJzogJyd9IC4ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJHt0aGlzLnByb3BzLm1vYmlsZVVzZXJzTGlzdE9wZW4gPyAxMDAgOiAwfSU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHtcclxuICAgIGxvZ2dlZFVzZXI6IHN0YXRlLmNoYXQubG9nZ2VkVXNlcixcclxuICAgIHVzZXJzTGlzdDogc3RhdGUuY2hhdC5teUNoYXRVc2VycyxcclxuICAgIGFjdGl2ZVVzZXI6IHN0YXRlLmNoYXQuYWN0aXZlVXNlcixcclxuICAgIG1vYmlsZVVzZXJzTGlzdE9wZW46IHN0YXRlLmNoYXQubW9iaWxlVXNlcnNMaXN0T3BlbixcclxufSk7XHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSB7XHJcbiAgICBfX1NFVF9BQ1RJVkVfVVNFUixcclxuICAgIF9fQ0hBTkdFX01PQklMRV9MSVNUX09QRU4sXHJcbiAgICBfX1NFTkRfTU9CSUxFX01FU1NBR0VfTk9USUZZLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcclxuICAgIG1hcFN0YXRlVG9Qcm9wcyxcclxuICAgIG1hcERpc3BhdGNoVG9Qcm9wc1xyXG4pKENoYXRVc2Vycyk7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\ruala\\\\\\\\Desktop\\\\\\\\ASahak\\\\\\\\daser\\\\\\\\next\\\\\\\\CryptoGraphy\\\\\\\\components\\\\\\\\Chat-Users.jsx */\")));\n    }\n  }]);\n\n  return ChatUsers;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedUser: state.chat.loggedUser,\n    usersList: state.chat.myChatUsers,\n    activeUser: state.chat.activeUser,\n    mobileUsersListOpen: state.chat.mobileUsersListOpen\n  };\n};\n\nvar mapDispatchToProps = {\n  __SET_ACTIVE_USER: __SET_ACTIVE_USER,\n  __CHANGE_MOBILE_LIST_OPEN: __CHANGE_MOBILE_LIST_OPEN,\n  __SEND_MOBILE_MESSAGE_NOTIFY: __SEND_MOBILE_MESSAGE_NOTIFY\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatUsers);","map":{"version":3,"sources":["C:/Users/ruala/Desktop/ASahak/daser/next/CryptoGraphy/components/Chat-Users.jsx"],"names":["React","PropTypes","moment","UI_ELEMENTS","Skeleton","__GET_CHAT_USERS","__ADD_MESSAGE","__GO_PRIVATE_CHAT","__CHANGE_MOBILE_LIST_OPEN","__SET_ACTIVE_USER","__SEND_MOBILE_MESSAGE_NOTIFY","__detectCryptIcon","NoChatUsers","CommonRoom","connect","Bus","EveryUser","props","goPrivateChat","id","isActiveUser","dataMSG","letters","owner","isSeen","fullName","split","color","countMessagesDelivered","isTyping","message","time","fromNow","propTypes","string","object","loggedUser","ChatUsers","state","commonRoom","startedNewChat","__moveToCommonRoom","bind","__goPrivateChat","subscribe","data","__startPrivateChat","next","prevProps","prevState","snapshot","usersList","Array","some","user","isSender","activeUser","unsubscribe","setState","idUser","_reverseArray","my","friendId","msgData","mobileUsersListOpen","fill","map","_","i","Math","random","toString","slice","opacity","length","Component","mapStateToProps","chat","myChatUsers","mapDispatchToProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,SACIC,gBADJ,EAEIC,aAFJ,EAGIC,iBAHJ,QAIO,YAJP;AAKA,SACIC,yBADJ,EAEIC,iBAFJ,EAGIC,4BAHJ,QAIO,eAJP;AAKA,SACIC,iBADJ,QAEO,4CAFP;AAGA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,GAAT,QAAoB,+BAApB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,KAAK,EAAI;AACvB,SACE;AACI,IAAA,OAAO,EAAE;AAAA,aAAMA,KAAK,CAACC,aAAN,CAAoBD,KAAK,CAACE,EAA1B,CAAN;AAAA,KADb;AAEI,IAAA,SAAS,oCAA6BF,KAAK,CAACG,YAAN,KAAuBH,KAAK,CAACE,EAA7B,GAAkC,aAAlC,GAAkD,EAA/E,0BACNF,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBC,KAAtB,IAA+BN,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBC,KAAtB,KAAgC,IAA/D,IAAuEN,KAAK,CAACI,OAAN,CAAcG,MAAd,KAAyB,KAAhG,GAAwG,mBAAxG,GAA8H,EADxH,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII,MAAC,WAAD,CAAa,SAAb;AACI,IAAA,SAAS,EAAEP,KAAK,CAACI,OAAN,CAAcI,QAAd,CAAuBC,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CADf;AAEI,IAAA,QAAQ,EAAET,KAAK,CAACI,OAAN,CAAcI,QAAd,CAAuBC,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,KAAwC,EAFtD;AAGI,IAAA,IAAI,EAAET,KAAK,CAACI,OAAN,CAAcM,KAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EASI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKV,KAAK,CAACI,OAAN,CAAcI,QAAd,IAA0BR,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBC,KAAtB,IAA+BN,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBC,KAAtB,KAAgC,IAA/D,IAAuEN,KAAK,CAACI,OAAN,CAAcG,MAAd,KAAyB,KAAhG,gBAA8GP,KAAK,CAACI,OAAN,CAAcO,sBAA5H,UAAyJ,EAAnL,CAAL,CADJ,EAEKX,KAAK,CAACI,OAAN,CAAcQ,QAAd,KAA2B,IAA3B,GACG;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADH,GAMG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKZ,KAAK,CAACI,OAAN,CAAcC,OAAd,IAAyBL,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBQ,OAAhD,GACAnB,iBAAiB,CAACM,KAAK,CAACI,OAAN,CAAcC,OAAf,CAAjB,GACI;AAAK,IAAA,GAAG,EAAC,yBAAT;AAAmC,IAAA,GAAG,EAAC,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,GAEIL,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBQ,OAH1B,GAGoC,iBAHxC,CARR,CADJ,EAcI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQb,KAAK,CAACI,OAAN,CAAcC,OAAd,IAAyBL,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBS,IAAhD,GAAwD7B,MAAM,CAACe,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBS,IAAvB,CAAN,CAAmCC,OAAnC,EAAxD,GAAuG,EAA9G,CADJ,CAdJ,CATJ,CADF;AA8BH,CA/BD;;AAgCAhB,SAAS,CAACiB,SAAV,GAAsB;AAClBd,EAAAA,EAAE,EAAElB,SAAS,CAACiC,MADI;AAElBd,EAAAA,YAAY,EAAEnB,SAAS,CAACiC,MAFN;AAGlBb,EAAAA,OAAO,EAAEpB,SAAS,CAACkC,MAHD;AAIlBC,EAAAA,UAAU,EAAEnC,SAAS,CAACiC;AAJJ,CAAtB;;IAOMG,S;;;;;AACF,qBAAYpB,KAAZ,EAAmB;AAAA;;AAAA;;AACf,+BAAMA,KAAN;AACA,WAAKqB,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAE,KADH;AAETC,MAAAA,cAAc,EAAE;AAFP,KAAb;AAIA,WAAKC,kBAAL,GAAmC,OAAKA,kBAAL,CAAwBC,IAAxB,gCAAnC;AACA,WAAKC,eAAL,GAAmC,OAAKA,eAAL,CAAqBD,IAArB,gCAAnC;AACA3B,IAAAA,GAAG,CAAC6B,SAAJ,CAAc,WAAd,EAA2B,UAACC,IAAD;AAAA,aAAU,OAAKC,kBAAL,CAAwBD,IAAxB,CAAV;AAAA,KAA3B;AARe;AASlB;;;;wCAEmB;AAChBxC,MAAAA,gBAAgB,GAAG0C,IAAnB;AACH;;;uCAEkBC,S,EAAWC,S,EAAWC,Q,EAAU;AAC/C,UAAI,KAAKjC,KAAL,CAAWkC,SAAX,YAAgCC,KAApC,EAA2C;AACvC,YAAI,KAAKnC,KAAL,CAAWkC,SAAX,CAAqBE,IAArB,CAA0B,UAAAC,IAAI;AAAA,iBAAKA,IAAI,CAAC9B,MAAL,KAAgB,KAAhB,IAAyB8B,IAAI,CAACC,QAAL,KAAkB,KAAhD;AAAA,SAA9B,CAAJ,EAA2F;AACvF,eAAKtC,KAAL,CAAWP,4BAAX,CAAwC,IAAxC;AACH,SAFD,MAEO;AACH,eAAKO,KAAL,CAAWP,4BAAX,CAAwC,KAAxC;AACH;AACJ;;AACD,UAAIsC,SAAS,CAACG,SAAV,KAAwB,KAAKlC,KAAL,CAAWkC,SAAvC,EAAkD;AAC9C,aAAKlC,KAAL,CAAWR,iBAAX,CAA6B,KAAKQ,KAAL,CAAWuC,UAAX,CAAsBrC,EAAtB,GAA2B,KAAKF,KAAL,CAAWuC,UAAtC,GAAmD,KAAKvC,KAAL,CAAWkC,SAAX,CAAqB,CAArB,CAAhF;AACH;AACJ;;;2CAEsB;AACnBpC,MAAAA,GAAG,CAAC0C,WAAJ,CAAgB,WAAhB;;AACApD,MAAAA,gBAAgB,CAAC,EAAD,CAAhB,CAAqB0C,IAArB;AACH;;;yCAEqB;AAClB,WAAKW,QAAL,CAAc;AACVnB,QAAAA,UAAU,EAAE,CAAC,KAAKD,KAAL,CAAWC;AADd,OAAd;AAGH;;;oCAEsBoB,M;;;;;AACnB,mBAAK1C,KAAL,CAAWT,yBAAX,CAAqC,KAArC;;AACA,mBAAKkD,QAAL,CAAc;AACVlB,gBAAAA,cAAc,EAAE;AADN,eAAd;;+CAGMjC,iBAAiB,CAACoD,MAAD,EAAS,KAAK1C,KAAL,CAAWmB,UAAX,CAAsBjB,EAA/B,CAAjB,CAAoD4B,IAApD,E;;;AACN,mBAAKW,QAAL,CAAc;AACVlB,gBAAAA,cAAc,EAAE;AADN,eAAd;;;;;;;;;;;uCAKsBK,I;;;;;;;AACtB,mBAAKa,QAAL,CAAc;AACVlB,gBAAAA,cAAc,EAAE;AADN,eAAd;AAGMoB,cAAAA,a,sBACEf,I,6BACD,KAAK5B,KAAL,CAAWkC,S;;+CAEZ7C,aAAa,CAAC;AAACuD,gBAAAA,EAAE,EAAE;AACjBC,kBAAAA,QAAQ,EAAEjB,IAAI,CAAC1B,EADE;AAEjBiB,kBAAAA,UAAU,EAAE,KAAKnB,KAAL,CAAWmB,UAFN;AAGjB2B,kBAAAA,OAAO,EAAE;AACLhC,oBAAAA,IAAI,EAAE,IADD;AAELD,oBAAAA,OAAO,EAAE;AAFJ;AAHQ;AAAL,eAAD,CAAb,CAOFiB,IAPE,E;;;AAQN1C,cAAAA,gBAAgB,CAACuD,aAAD,CAAhB,CAAgCb,IAAhC;;AACA,mBAAK9B,KAAL,CAAWR,iBAAX,CAA6BoC,IAA7B;;AACA,mBAAKJ,kBAAL;;AACA,mBAAKiB,QAAL,CAAc;AACVlB,gBAAAA,cAAc,EAAE;AADN,eAAd;;;;;;;;;;;6BAKM;AAAA;;AACN,aACI;AAAA,qDA2K2B,MAAI,CAACvB,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CA3KhE,EA4K8B,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EA5KzE,EA8KyB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CA9KhE,aAAe,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA,qDA0KuB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CA1K5D,EA2K0B,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EA3KrE,EA6KqB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CA7K5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,CAAC,KAAK1B,KAAL,CAAWC,UAAZ,GACD,eADC,GAED;AAAG,QAAA,OAAO,EAAE,KAAKE,kBAAjB;AAAA,qDAwKmB,MAAI,CAACxB,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CAxKxD,EAyKsB,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EAzKjE,EA2KiB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CA3KxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqC;AAAA,qDAwKlB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CAxKnB,EAyKf,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EAzK5B,EA2KpB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CA3KnB,aAAgB,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArC,UAFJ,EAGI;AAA+C,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC/C,KAAL,CAAWT,yBAAX,CAAqC,KAArC,CAAN;AAAA,SAAxD;AAAA,qDAuKmB,MAAI,CAACS,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CAvKxD,EAwKsB,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EAxKjE,EA0KiB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CA1KxD,aAAgB,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CADJ,EAKI;AAAA,qDAsKuB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CAtK5D,EAuK0B,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EAvKrE,EAyKqB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CAzK5D,yCAAqC,CAAC,KAAK1B,KAAL,CAAWE,cAAZ,GAA6B,qBAA7B,GAAqD,EAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,CAAC,KAAKF,KAAL,CAAWC,UAAZ,GAAyB;AAAA,qDAqKP,MAAI,CAACtB,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CArK9B,EAsKJ,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EAtKvC,EAwKT,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CAxK9B,aAAe,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACrB,KAAK/C,KAAL,CAAWkC,SAAX,KAAyB,IAAzB,GAAgC,IAAIC,KAAJ,CAAU,CAAV,EAAaa,IAAb,CAAkB,EAAlB,EAAsBC,GAAtB,CAA0B,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAClE,eACI;AAAoC,UAAA,GAAG,EAAEA,CAAC,GAAGC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,KAA3B,CAAiC,CAAjC,EAAoC,CAApC,CAA7C;AAAqF,UAAA,KAAK,EAAE;AAACC,YAAAA,OAAO,EAAE,CAAC,IAAIL,CAAL,IAAU;AAApB,WAA5F;AAAA,uDAkKQ,MAAI,CAACnD,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CAlK7C,EAmKW,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EAnKtD,EAqKM,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CArK7C,aAAe,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,QAAD;AACI,UAAA,KAAK,EAAC,MADV;AAEI,UAAA,MAAM,EAAC,MAFX;AAGI,UAAA,MAAM,EAAE,CAAC,KAAD,EAAQ,MAAR,EAAiB,KAAjB,EAAwB,MAAxB,CAHZ;AAII,UAAA,MAAM,EAAC,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAOI;AAAA,uDA2JI,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CA3JzC,EA4JO,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EA5JlD,EA8JE,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CA9JzC,aAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,QAAD;AACI,UAAA,KAAK,EAAC,MADV;AAEI,UAAA,MAAM,EAAC,MAFX;AAGI,UAAA,MAAM,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAgB,MAAhB,EAAwB,KAAxB,CAHZ;AAII,UAAA,MAAM,EAAC,IAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAOI,MAAC,QAAD;AACI,UAAA,KAAK,EAAC,MADV;AAEI,UAAA,MAAM,EAAC,MAFX;AAGI,UAAA,MAAM,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAgB,MAAhB,EAAwB,KAAxB,CAHZ;AAII,UAAA,MAAM,EAAC,IAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPJ,CAPJ,CADJ;AAwBF,OAzBgC,CAAhC,GAyBG,KAAK/C,KAAL,CAAWkC,SAAX,CAAqBuB,MAArB,GAA8B,KAAKzD,KAAL,CAAWkC,SAAX,CAAqBe,GAArB,CAAyB,UAAAZ,IAAI;AAAA;;AAAA,eAAI,MAAC,SAAD;AAC/D,UAAA,YAAY,2BAAE,MAAI,CAACrC,KAAL,CAAWuC,UAAb,0DAAE,sBAAuBrC,EAD0B;AAE/D,UAAA,UAAU,2BAAE,MAAI,CAACF,KAAL,CAAWmB,UAAb,0DAAE,sBAAuBjB,EAF4B;AAG/D,UAAA,EAAE,EAAEmC,IAAI,CAACnC,EAHsD;AAI/D,UAAA,OAAO,EAAEmC,IAJsD;AAK/D,UAAA,GAAG,EAAEA,IAAI,CAACnC,EALqD;AAM/D,UAAA,aAAa,EAAE,MAAI,CAACwB,eAN2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA,OAA7B,CAA9B,GAOG,MAAC,WAAD;AAAa,QAAA,cAAc,EAAE;AAAA,iBAAM,MAAI,CAACF,kBAAX;AAAA,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjCe,CAAzB,GAkCO,MAAC,UAAD;AAAY,QAAA,cAAc,EAAE,KAAKH,KAAL,CAAWE,cAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnCZ,EAoCK,CAAC,KAAKF,KAAL,CAAWC,UAAZ,IAA0B,KAAKtB,KAAL,CAAWkC,SAAX,KAAyB,IAAnD,IAA2D,KAAKlC,KAAL,CAAWkC,SAAX,CAAqBuB,MAAhF,GACG,MAAC,WAAD,CAAa,MAAb;AACI,QAAA,UAAU,EAAC,aADf;AAEI,QAAA,KAAK,EAAC,SAFV;AAGI,QAAA,QAAQ,EAAE,EAHd;AAII,QAAA,KAAK,EAAC,wBAJV;AAKI,QAAA,IAAI,EAAC,QALT;AAMI,QAAA,IAAI,EAAE,aANV;AAOI,QAAA,KAAK,EAAE,GAPX;AAQI,QAAA,MAAM,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,GAAjB,EAAsB,MAAtB,CARZ;AASI,QAAA,OAAO,EAAE,KAAKjC,kBATlB;AAUI,QAAA,IAAI,EAAC,IAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,GAYK,EAhDV,CALJ;AAAA;AAAA,kBA2K2B,MAAI,CAACxB,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CA3KhE,EA4K8B,CAAC,MAAI,CAAC/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EA5KzE,EA8KyB,MAAI,CAAC/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CA9KhE;AAAA;AAAA,4kGA2K2B,KAAK/C,KAAL,CAAW+C,mBAAX,GAAiC,CAAjC,GAAqC,CA3KhE,iCA4K8B,CAAC,KAAK/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EA5KzE,6BA4K8B,CAAC,KAAK/C,KAAL,CAAW+C,mBAAZ,GAAkC,OAAlC,GAA2C,EA5KzE,wCA8KyB,KAAK/C,KAAL,CAAW+C,mBAAX,GAAiC,GAAjC,GAAuC,CA9KhE,6jrBADJ;AAqLH;;;;EAjQmBhE,KAAK,CAAC2E,S;;AAoQ9B,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAtC,KAAK;AAAA,SAAK;AAC9BF,IAAAA,UAAU,EAAEE,KAAK,CAACuC,IAAN,CAAWzC,UADO;AAE9Be,IAAAA,SAAS,EAAEb,KAAK,CAACuC,IAAN,CAAWC,WAFQ;AAG9BtB,IAAAA,UAAU,EAAElB,KAAK,CAACuC,IAAN,CAAWrB,UAHO;AAI9BQ,IAAAA,mBAAmB,EAAE1B,KAAK,CAACuC,IAAN,CAAWb;AAJF,GAAL;AAAA,CAA7B;;AAOA,IAAMe,kBAAkB,GAAG;AACvBtE,EAAAA,iBAAiB,EAAjBA,iBADuB;AAEvBD,EAAAA,yBAAyB,EAAzBA,yBAFuB;AAGvBE,EAAAA,4BAA4B,EAA5BA;AAHuB,CAA3B;AAMA,eAAeI,OAAO,CAClB8D,eADkB,EAElBG,kBAFkB,CAAP,CAGb1C,SAHa,CAAf","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as moment from 'moment';\r\nimport UI_ELEMENTS from \"components/shared/UI\";\r\nimport Skeleton from 'components/Skeleton';\r\nimport {\r\n    __GET_CHAT_USERS,\r\n    __ADD_MESSAGE,\r\n    __GO_PRIVATE_CHAT,\r\n} from 'store/saga';\r\nimport {\r\n    __CHANGE_MOBILE_LIST_OPEN,\r\n    __SET_ACTIVE_USER,\r\n    __SEND_MOBILE_MESSAGE_NOTIFY,\r\n} from 'store/actions';\r\nimport {\r\n    __detectCryptIcon\r\n} from 'components/shared/helpers/global-functions';\r\nimport NoChatUsers from 'components/elements/NoChatUsers';\r\nimport CommonRoom from 'components/elements/CommonRoom';\r\nimport { connect } from 'react-redux';\r\nimport { Bus } from 'components/shared/helpers/Bus';\r\n\r\nconst EveryUser = props => {\r\n    return (\r\n      <div\r\n          onClick={() => props.goPrivateChat(props.id)}\r\n          className={`user-messages-container ${props.isActiveUser === props.id ? 'active-user' : ''} \r\n          ${ props.dataMSG.letters.owner && props.dataMSG.letters.owner !== 'Me' && props.dataMSG.isSeen === false ? 'must-open-message' : ''}`}>\r\n          <UI_ELEMENTS.UserImage\r\n              firstName={props.dataMSG.fullName.split(' ')[0]}\r\n              lastName={props.dataMSG.fullName.split(' ')[1] || ''}\r\n              fill={props.dataMSG.color}\r\n          />\r\n          <div className=\"user-message-info\">\r\n              <div className=\"user-message-info_left\">\r\n                  <h4>{props.dataMSG.fullName + (props.dataMSG.letters.owner && props.dataMSG.letters.owner !== 'Me' && props.dataMSG.isSeen === false ? ` ( ${props.dataMSG.countMessagesDelivered} )` : '')}</h4>\r\n                  {props.dataMSG.isTyping === true ?\r\n                      <div className='spinner'>\r\n                          <div className='bounce1'></div>\r\n                          <div className='bounce2'></div>\r\n                          <div className='bounce3'></div>\r\n                      </div>:\r\n                      <p>{(props.dataMSG.letters && props.dataMSG.letters.message) ?\r\n                          __detectCryptIcon(props.dataMSG.letters) ?\r\n                              <img src=\"./assets/images/key.png\" alt=\"iconKey\"/> :\r\n                              props.dataMSG.letters.message : 'No messages yet'}</p>}\r\n              </div>\r\n              <div className=\"user-message-info_right\">\r\n                  <span>{(props.dataMSG.letters && props.dataMSG.letters.time) ? moment(props.dataMSG.letters.time).fromNow() : ''}</span>\r\n              </div>\r\n          </div>\r\n      </div>\r\n  )\r\n};\r\nEveryUser.propTypes = {\r\n    id: PropTypes.string,\r\n    isActiveUser: PropTypes.string,\r\n    dataMSG: PropTypes.object,\r\n    loggedUser: PropTypes.string,\r\n};\r\n\r\nclass ChatUsers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            commonRoom: false,\r\n            startedNewChat: true,\r\n        };\r\n        this.__moveToCommonRoom          = this.__moveToCommonRoom.bind(this);\r\n        this.__goPrivateChat             = this.__goPrivateChat.bind(this);\r\n        Bus.subscribe('startChat', (data) => this.__startPrivateChat(data))\r\n    }\r\n\r\n    componentDidMount() {\r\n        __GET_CHAT_USERS().next()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.usersList instanceof Array) {\r\n            if (this.props.usersList.some(user => (user.isSeen === false && user.isSender === false))) {\r\n                this.props.__SEND_MOBILE_MESSAGE_NOTIFY(true);\r\n            } else {\r\n                this.props.__SEND_MOBILE_MESSAGE_NOTIFY(false);\r\n            }\r\n        }\r\n        if (prevProps.usersList !== this.props.usersList) {\r\n            this.props.__SET_ACTIVE_USER(this.props.activeUser.id ? this.props.activeUser : this.props.usersList[0])\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        Bus.unsubscribe('startChat');\r\n        __GET_CHAT_USERS({}).next();\r\n    }\r\n\r\n    __moveToCommonRoom () {\r\n        this.setState({\r\n            commonRoom: !this.state.commonRoom\r\n        })\r\n    }\r\n\r\n    async __goPrivateChat (idUser) {\r\n        this.props.__CHANGE_MOBILE_LIST_OPEN(false);\r\n        this.setState({\r\n            startedNewChat: false\r\n        });\r\n        await __GO_PRIVATE_CHAT(idUser, this.props.loggedUser.id).next();\r\n        this.setState({\r\n            startedNewChat: true\r\n        });\r\n    }\r\n\r\n    async __startPrivateChat (data) {\r\n        this.setState({\r\n            startedNewChat: false\r\n        });\r\n        const _reverseArray = [\r\n            {...data},\r\n            ...this.props.usersList\r\n        ];\r\n        await __ADD_MESSAGE({my: {\r\n                friendId: data.id,\r\n                loggedUser: this.props.loggedUser,\r\n                msgData: {\r\n                    time: null,\r\n                    message: ''\r\n                }\r\n        }}).next();\r\n        __GET_CHAT_USERS(_reverseArray).next();\r\n        this.props.__SET_ACTIVE_USER(data);\r\n        this.__moveToCommonRoom();\r\n        this.setState({\r\n            startedNewChat: true\r\n        });\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"chat-users\">\r\n                <h4>{!this.state.commonRoom ?\r\n                    'Your Messages':\r\n                    <a onClick={this.__moveToCommonRoom}><span className=\"lnr lnr-chevron-left\"></span> Back</a>}\r\n                    <span className=\"lnr lnr-arrow-left d-none_sm\" onClick={() => this.props.__CHANGE_MOBILE_LIST_OPEN(false)}></span></h4>\r\n                <div className={`chat-room-wrapper ${!this.state.startedNewChat ? 'until-load-allowing' : ''}`}>\r\n                    {!this.state.commonRoom ? <div className=\"users-messages-container\">\r\n                        {this.props.usersList === null ? new Array(8).fill('').map((_, i) => {\r\n                           return (\r\n                               <div className=\"skeleton-container\" key={i + Math.random().toString(16).slice(2, 6)} style={{opacity: (8 - i) * 0.09}}>\r\n                                   <Skeleton\r\n                                       width=\"35px\"\r\n                                       height=\"35px\"\r\n                                       margin={['5px', '10px' , '0px', '10px']}\r\n                                       radius=\"50%\"\r\n                                   />\r\n                                   <div className=\"line-wrap\">\r\n                                       <Skeleton\r\n                                           width=\"100%\"\r\n                                           height=\"12px\"\r\n                                           margin={['5px', '0px' , '10px', '0px']}\r\n                                           radius=\"0%\"\r\n                                       />\r\n                                       <Skeleton\r\n                                           width=\"100%\"\r\n                                           height=\"12px\"\r\n                                           margin={['5px', '0px' , '10px', '0px']}\r\n                                           radius=\"0%\"\r\n                                       />\r\n                                   </div>\r\n                                </div>\r\n                           )\r\n                        }): this.props.usersList.length ? this.props.usersList.map(user => <EveryUser\r\n                            isActiveUser={this.props.activeUser?.id}\r\n                            loggedUser={this.props.loggedUser?.id}\r\n                            id={user.id}\r\n                            dataMSG={user}\r\n                            key={user.id}\r\n                            goPrivateChat={this.__goPrivateChat}\r\n                        /> ) : <NoChatUsers goToCommonRoom={() => this.__moveToCommonRoom} />}\r\n                    </div>: <CommonRoom startedNewChat={this.state.startedNewChat}/>}\r\n                    {!this.state.commonRoom && this.props.usersList !== null && this.props.usersList.length ?\r\n                        <UI_ELEMENTS.Button\r\n                            background=\"transparent\"\r\n                            color=\"#37415c\"\r\n                            fontSize={11}\r\n                            hover=\"hover-from-transparent\"\r\n                            type=\"button\"\r\n                            text={'Common Room'}\r\n                            width={150}\r\n                            margin={['20px', 'auto', '0', 'auto']}\r\n                            onClick={this.__moveToCommonRoom}\r\n                            size=\"sm\"/>\r\n                        : ''}\r\n                </div>\r\n                <style jsx global>{`\r\n                    .until-load-allowing {\r\n                        pointer-events: none;\r\n                    }\r\n                    .skeleton-container {\r\n                        padding: 10px 0;\r\n                        display: flex;\r\n                    }\r\n                    .skeleton-container .line-wrap {\r\n                        width: calc(100% - 70px);                    \r\n                    }\r\n                    .chat-users {\r\n                        width: 30%;\r\n                        box-shadow: 0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);\r\n                    }\r\n                    .chat-users > h4 {\r\n                        margin: 0;\r\n                        padding: 10px;\r\n                        border-bottom: 1px solid #e3dede;\r\n                        display: flex;\r\n                        justify-content: space-between;\r\n                        height: 41.5px;    \r\n                    }\r\n                    .chat-users > h4 > a > span{ \r\n                        font-size: 12px;\r\n                    } \r\n                    .chat-users > h4 > a{ \r\n                        cursor: pointer;\r\n                        color: #0000ffba;\r\n                        font-size: 13px;\r\n                    }\r\n                    .users-messages-container .user-messages-container {\r\n                        display: flex;\r\n                        align-items: center;\r\n                        padding: 10px;\r\n                        border-bottom: 1px solid #e3dede;\r\n                        transition: .4s;\r\n                        cursor: pointer;\r\n                    }\r\n                    .users-messages-container .user-messages-container.active-user {\r\n                        border-right: 2px solid #1ab898;\r\n                        background-color: #eeeeee;\r\n                    }\r\n                    .users-messages-container .must-open-message {\r\n                        background-color: #eeeeee63;\r\n                        font-weight: 900;\r\n                    }\r\n                    .users-messages-container .user-messages-container:hover{\r\n                        background-color: #eeeeee;\r\n                    }\r\n                    .user-messages-container .user-message-info {\r\n                        display: flex;\r\n                        margin-left: 10px;\r\n                        width: calc(100% - 50px);\r\n                        justify-content: space-between;\r\n                    }\r\n                    .user-messages-container .user-message-info .user-message-info_left {\r\n                        width: calc(100% - 90px);\r\n                    }\r\n                    .user-messages-container .user-message-info .user-message-info_right {\r\n                        width: fit-content;\r\n                        white-space: nowrap;\r\n                    }\r\n                    .user-messages-container .user-message-info .user-message-info_right > span {\r\n                        font-size: 13px;\r\n                    }\r\n                    .user-messages-container .user-message-info .user-message-info_left h4 {\r\n                        margin-top: 2px;\r\n                        font-size: 14px;\r\n                        margin-bottom: 5px;\r\n                    }\r\n                    .user-messages-container .user-message-info .user-message-info_left p {\r\n                        margin: 0;\r\n                        height: 16px;\r\n                        overflow: hidden;\r\n                        text-overflow: ellipsis;\r\n                        white-space: nowrap;\r\n                        font-size: 12px;\r\n                    }\r\n                    .user-messages-container .user-message-info .user-message-info_left p > img{\r\n                        height: 15px;\r\n                    }\r\n                    .chat-room-wrapper {\r\n                        height: calc(100% - 41.5px);\r\n                    }\r\n                    .chat-room-wrapper .users-messages-container {\r\n                        overflow-x: hidden;\r\n                        max-height: calc(100% - 60px);\r\n                    } \r\n                    .chat-room-wrapper .main-room-list {\r\n                        overflow-x: hidden;\r\n                        max-height: 100%;\r\n                    }\r\n                    .chat-room-wrapper .main-room-list::-webkit-scrollbar, .chat-room-wrapper .users-messages-container::-webkit-scrollbar {\r\n                        width: 0px;\r\n                        height: 10px;\r\n                    }\r\n                    \r\n                    .chat-room-wrapper .main-room-list::-webkit-scrollbar-thumb, .chat-room-wrapper .users-messages-container::-webkit-scrollbar-thumb {\r\n                        background: transparent;\r\n                    }\r\n                    .chat-room-wrapper .main-room-list::-webkit-scrollbar-track, .chat-room-wrapper .users-messages-container::-webkit-scrollbar-track {\r\n                        background: transparent;\r\n                    }\r\n                    .d-none_sm {\r\n                        display: none;\r\n                    }\r\n                    .chat-users > h4 .lnr-arrow-left {\r\n                        font-size: 26px;\r\n                        cursor: pointer;\r\n                    }\r\n                    @media screen and (max-width: 767px) {\r\n                        .d-none_sm {\r\n                            display: block;\r\n                        }\r\n                        .chat-users {\r\n                            opacity: ${this.props.mobileUsersListOpen ? 1 : 0};\r\n                            transition: ${!this.props.mobileUsersListOpen ? 'width': ''} .2s;\r\n                            overflow: hidden;\r\n                            width: ${this.props.mobileUsersListOpen ? 100 : 0}%;\r\n                        }\r\n                    }\r\n                `}</style>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedUser: state.chat.loggedUser,\r\n    usersList: state.chat.myChatUsers,\r\n    activeUser: state.chat.activeUser,\r\n    mobileUsersListOpen: state.chat.mobileUsersListOpen,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    __SET_ACTIVE_USER,\r\n    __CHANGE_MOBILE_LIST_OPEN,\r\n    __SEND_MOBILE_MESSAGE_NOTIFY,\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(ChatUsers);"]},"metadata":{},"sourceType":"module"}