{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\ruala\\\\Desktop\\\\ASahak\\\\daser\\\\next\\\\CryptoGraphy\\\\components\\\\elements\\\\PrivateMessageContent.jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport UI_ELEMENTS from \"components/shared/UI\";\nimport * as moment from 'moment';\nimport Icon from 'components/Icons/icon';\nimport debounce from \"lodash.debounce\";\nimport { __LOAD_MORE_MESSAGES } from 'store/actions';\nimport { Bus } from 'components/shared/helpers/Bus';\nimport { _EVERY_PAGE_LIMIT_MESSAGES } from 'components/shared/helpers/constants';\nimport { __getUserMessages } from 'store/reselect';\nimport { __detectCryptIcon } from 'components/shared/helpers/global-functions';\nimport { __EDIT_MESSAGE, __REMOVE_MESSAGE } from \"store/saga\";\n\nvar PrivateMessageContent = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(PrivateMessageContent, _React$PureComponent);\n\n  var _super = _createSuper(PrivateMessageContent);\n\n  function PrivateMessageContent(props) {\n    var _this$props$activeUse, _this$props$loggedUse;\n\n    var _this;\n\n    _classCallCheck(this, PrivateMessageContent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      leftColor: _this.props.activeUser && ((_this$props$activeUse = _this.props.activeUser) === null || _this$props$activeUse === void 0 ? void 0 : _this$props$activeUse.color) || '#0C4651',\n      rightColor: _this.props.activeUser && ((_this$props$loggedUse = _this.props.loggedUser) === null || _this$props$loggedUse === void 0 ? void 0 : _this$props$loggedUse.color) || '#1BBC9B',\n      scrollLoadingAllow: true,\n      messagesSelector: [],\n      encryptIcon: true,\n      scrollPosition: null,\n      previousScrollHeight: 0,\n      previousScrollTop: 0,\n      loadingMessages: false,\n      isEditing: false,\n      isRemoving: false,\n      editingMsgIndex: null\n    };\n    _this._messagesEnd = null;\n    _this._handleDomClick = null;\n    _this._handleClickRemove = null;\n    _this.__scrollToBottom = _this.__scrollToBottom.bind(_assertThisInitialized(_this));\n    _this.__handleScrollTop = _this.__handleScrollTop.bind(_assertThisInitialized(_this));\n    _this.__showEncryptPopUp = _this.__showEncryptPopUp.bind(_assertThisInitialized(_this));\n    _this.__doEncryptType = _this.__doEncryptType.bind(_assertThisInitialized(_this));\n    _this.__hidePopUpEncrypt = _this.__hidePopUpEncrypt.bind(_assertThisInitialized(_this));\n    _this.__editMessage = _this.__editMessage.bind(_assertThisInitialized(_this));\n    _this.__removeMessageConfirm = _this.__removeMessageConfirm.bind(_assertThisInitialized(_this));\n    _this.__removeMessage = _this.__removeMessage.bind(_assertThisInitialized(_this));\n    _this.__clickRemovePopUp = _this.__clickRemovePopUp.bind(_assertThisInitialized(_this));\n    _this._scrollContent = React.createRef();\n    Bus.subscribe('cancelEditing', function () {\n      _this.setState({\n        isEditing: false\n      });\n    });\n    Bus.subscribe('endEditing', function () {\n      _this.setState({\n        isEditing: false,\n        isRemoving: false,\n        editingMsgIndex: null\n      });\n    });\n    return _this;\n  }\n\n  _createClass(PrivateMessageContent, [{\n    key: \"__scrollToBottom\",\n    value: function __scrollToBottom(behavior) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        var _this2$_messagesEnd;\n\n        (_this2$_messagesEnd = _this2._messagesEnd) === null || _this2$_messagesEnd === void 0 ? void 0 : _this2$_messagesEnd.scrollIntoView({\n          behavior: behavior ? 'smooth' : 'auto'\n        });\n      }, 0);\n    }\n  }, {\n    key: \"__handleScrollTop\",\n    value: function __handleScrollTop(e) {\n      var _this3 = this;\n\n      if (this.state.scrollLoadingAllow && e.target.scrollTop < 50) {\n        var _this$_scrollContent, _this$_scrollContent2;\n\n        this.setState({\n          previousScrollTop: (_this$_scrollContent = this._scrollContent) === null || _this$_scrollContent === void 0 ? void 0 : _this$_scrollContent.scrollTop,\n          previousScrollHeight: (_this$_scrollContent2 = this._scrollContent) === null || _this$_scrollContent2 === void 0 ? void 0 : _this$_scrollContent2.scrollHeight,\n          scrollLoadingAllow: false,\n          loadingMessages: true\n        }, function () {\n          setTimeout(function () {\n            _this3.props.__LOAD_MORE_MESSAGES(1);\n          }, 1000);\n        });\n      } else {\n        this.setState({\n          scrollLoadingAllow: true\n        });\n      }\n    }\n  }, {\n    key: \"__showEncryptPopUp\",\n    value: function __showEncryptPopUp(evt, index, isKey) {\n      var _this4 = this;\n\n      if (evt.target.closest('.remove-confirm-container')) return;\n\n      var _currentSrc = evt.target.closest('.separate-p');\n\n      if (document.body.querySelector('.opened-encryptPopUp') && document.body.querySelector('.opened-encryptPopUp') !== _currentSrc) {\n        document.body.querySelector('.opened-encryptPopUp').setAttribute('data-hint-encrypt', false);\n        document.body.querySelector('.opened-encryptPopUp').classList.remove('opened-encryptPopUp');\n      }\n\n      if (isKey) return;\n\n      if (_currentSrc) {\n        var dataIcon = _currentSrc.getAttribute('data-hint-encrypt');\n\n        this.state.messagesSelector = _toConsumableArray(this.state.messagesSelector);\n        this.state.messagesSelector[index].isEncrypt = false;\n        this.setState({\n          encryptIcon: JSON.parse(dataIcon),\n          messagesSelector: this.state.messagesSelector\n        }, function () {\n          return _this4.forceUpdate();\n        });\n\n        _currentSrc.classList.toggle('opened-encryptPopUp');\n      }\n\n      setTimeout(function () {\n        addEventListener('click', _this4._handleDomClick = _this4.__hidePopUpEncrypt.bind(_this4, index));\n      }, 0);\n    }\n  }, {\n    key: \"__hidePopUpEncrypt\",\n    value: function __hidePopUpEncrypt(index, e) {\n      var _this5 = this;\n\n      this.state.messagesSelector = _toConsumableArray(this.state.messagesSelector);\n      delete this.state.messagesSelector[index].isEncrypt;\n      this.setState({\n        messagesSelector: this.state.messagesSelector\n      }, function () {\n        return _this5.forceUpdate();\n      });\n      removeEventListener('click', this._handleDomClick);\n\n      if (!e.target.closest('div[data-hint-encrypt]') && document.body.querySelector('.opened-encryptPopUp')) {\n        document.body.querySelector('.opened-encryptPopUp').setAttribute('data-hint-encrypt', false);\n        document.body.querySelector('.opened-encryptPopUp').classList.remove('opened-encryptPopUp');\n      }\n    }\n  }, {\n    key: \"__doEncryptType\",\n    value: function __doEncryptType(e, index) {\n      var _this6 = this;\n\n      var _currentSrc = e.target.closest('.separate-p');\n\n      e.stopPropagation();\n      this.setState({\n        encryptIcon: !this.state.encryptIcon\n      }, function () {\n        _currentSrc.setAttribute('data-hint-encrypt', _this6.state.encryptIcon);\n\n        var newEncryption = _toConsumableArray(_this6.state.messagesSelector);\n\n        newEncryption[index].isEncrypt = _this6.state.encryptIcon;\n\n        _this6.setState({\n          messagesSelector: newEncryption\n        });\n      });\n    }\n  }, {\n    key: \"__editMessage\",\n    value: function __editMessage(evt, msg, time) {\n      var _this$props$activeUse2, _this$props$loggedUse2;\n\n      var index = this.props.messages.findIndex(function (msg) {\n        return msg.time === time;\n      });\n\n      __EDIT_MESSAGE(null, index, {\n        idUser: (_this$props$activeUse2 = this.props.activeUser) === null || _this$props$activeUse2 === void 0 ? void 0 : _this$props$activeUse2.id,\n        myId: (_this$props$loggedUse2 = this.props.loggedUser) === null || _this$props$loggedUse2 === void 0 ? void 0 : _this$props$loggedUse2.id\n      }).next();\n\n      evt.stopPropagation();\n      this.setState({\n        isEditing: true,\n        editingMsgIndex: index\n      }, function () {\n        Bus.dispatch('editMessage', {\n          msg: msg,\n          index: index\n        });\n      });\n    }\n  }, {\n    key: \"__removeMessageConfirm\",\n    value: function __removeMessageConfirm(evt) {\n      var _evt$target$closest,\n          _this7 = this;\n\n      evt.stopPropagation();\n\n      var _currentSrc = evt.target.closest('.separate-p');\n\n      var alreadyDeclared = (_evt$target$closest = evt.target.closest('.messages-content')) === null || _evt$target$closest === void 0 ? void 0 : _evt$target$closest.querySelector('.opened-pop-confirm-remove');\n\n      if (alreadyDeclared) {\n        alreadyDeclared.classList.remove('opened-pop-confirm-remove');\n      }\n\n      _currentSrc.classList.add('opened-pop-confirm-remove');\n\n      setTimeout(function () {\n        addEventListener('click', _this7._handleClickRemove = _this7.__clickRemovePopUp.bind(_this7));\n      }, 0);\n    }\n  }, {\n    key: \"__removeMessage\",\n    value: function __removeMessage(time) {\n      var _this$props$activeUse3, _this$props$loggedUse3;\n\n      __REMOVE_MESSAGE(time, {\n        idUser: (_this$props$activeUse3 = this.props.activeUser) === null || _this$props$activeUse3 === void 0 ? void 0 : _this$props$activeUse3.id,\n        myId: (_this$props$loggedUse3 = this.props.loggedUser) === null || _this$props$loggedUse3 === void 0 ? void 0 : _this$props$loggedUse3.id\n      }).next();\n    }\n  }, {\n    key: \"__clickRemovePopUp\",\n    value: function __clickRemovePopUp(evt) {\n      var _evt$target$closest2;\n\n      var alreadyDeclared = (_evt$target$closest2 = evt.target.closest('.messages-content')) === null || _evt$target$closest2 === void 0 ? void 0 : _evt$target$closest2.querySelector('.opened-pop-confirm-remove');\n\n      if (alreadyDeclared && !evt.target.closest('.remove-confirm-container') || evt.target.closest('.trigger-close-dialog')) {\n        alreadyDeclared.classList.remove('opened-pop-confirm-remove');\n        removeEventListener('click', this._handleClickRemove);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      var _this$props$activeUse4,\n          _prevProps$messages$t,\n          _this$props$messages$,\n          _this8 = this,\n          _this$props$activeUse5,\n          _this$props$activeUse6,\n          _this$props$activeUse7;\n\n      // if (prevProps.activeUser.isTyping !== this.props.activeUser.isTyping) { todo\n      //     this.props.activeUser.isTyping && this.__scrollToBottom('behavior');\n      // }\n      // Detect if there are removed message\n      if (((_this$props$activeUse4 = this.props.activeUser) === null || _this$props$activeUse4 === void 0 ? void 0 : _this$props$activeUse4.removedMessageIndex) >= 0 && (((_prevProps$messages$t = prevProps.messages[this.props.activeUser.removedMessageIndex]) === null || _prevProps$messages$t === void 0 ? void 0 : _prevProps$messages$t.removed) !== ((_this$props$messages$ = this.props.messages[this.props.activeUser.removedMessageIndex]) === null || _this$props$messages$ === void 0 ? void 0 : _this$props$messages$.removed) || !function () {\n        var _this8$state$messages;\n\n        var currentIndex = _this8.state.messagesSelector.length - (_this8.props.messages.length - _this8.props.activeUser.removedMessageIndex);\n        if (currentIndex < 0) return false;\n        return (_this8$state$messages = _this8.state.messagesSelector[currentIndex]) === null || _this8$state$messages === void 0 ? void 0 : _this8$state$messages.removed;\n      }())) {\n        var currentIndex = this.state.messagesSelector.length - (this.props.messages.length - this.props.activeUser.removedMessageIndex);\n\n        if (currentIndex >= 0) {\n          var newEncryption = _toConsumableArray(this.state.messagesSelector);\n\n          if (newEncryption[currentIndex]) {\n            newEncryption[currentIndex].removed = true;\n            this.setState({\n              messagesSelector: newEncryption\n            });\n          }\n        }\n      } // when editing have been finished\n\n\n      if (((_this$props$activeUse5 = this.props.activeUser) === null || _this$props$activeUse5 === void 0 ? void 0 : _this$props$activeUse5.editedMsgIndex) >= 0 && (this.props.messages[(_this$props$activeUse6 = this.props.activeUser) === null || _this$props$activeUse6 === void 0 ? void 0 : _this$props$activeUse6.editedMsgIndex].message !== prevProps.messages[(_this$props$activeUse7 = this.props.activeUser) === null || _this$props$activeUse7 === void 0 ? void 0 : _this$props$activeUse7.editedMsgIndex].message || function () {\n        var _this8$props$activeUs, _this8$props$activeUs2;\n\n        var currentIndex = _this8.state.messagesSelector.length - (_this8.props.messages.length - ((_this8$props$activeUs = _this8.props.activeUser) === null || _this8$props$activeUs === void 0 ? void 0 : _this8$props$activeUs.editedMsgIndex));\n        if (currentIndex < 0) return false;\n        return _this8.state.messagesSelector[currentIndex].message !== _this8.props.messages[(_this8$props$activeUs2 = _this8.props.activeUser) === null || _this8$props$activeUs2 === void 0 ? void 0 : _this8$props$activeUs2.editedMsgIndex].message;\n      }())) {\n        var _this$props$activeUse8;\n\n        var _currentIndex = this.state.messagesSelector.length - (this.props.messages.length - ((_this$props$activeUse8 = this.props.activeUser) === null || _this$props$activeUse8 === void 0 ? void 0 : _this$props$activeUse8.editedMsgIndex));\n\n        if (_currentIndex >= 0) {\n          var _this$props$activeUse9;\n\n          var editedArray = _toConsumableArray(this.state.messagesSelector);\n\n          editedArray[_currentIndex] = this.props.messages[(_this$props$activeUse9 = this.props.activeUser) === null || _this$props$activeUse9 === void 0 ? void 0 : _this$props$activeUse9.editedMsgIndex];\n          this.setState({\n            isEditing: false,\n            isRemoving: false,\n            editingMsgIndex: null,\n            messagesSelector: editedArray\n          });\n        }\n      } // Sending notification when there was not any messages\n\n\n      if (this.props.messages.length === 1 && this.props.messages[0].message === '' || prevProps.messages.length === 1 && prevProps.messages[0].message === '') {\n        this.props.messagesHaveBeenDeleted();\n      } // Update message list\n\n\n      if (prevProps.messagesPage !== this.props.messagesPage || prevProps.messages.length !== this.props.messages.length) {\n        if ((this.props.messagesPage - 1) * _EVERY_PAGE_LIMIT_MESSAGES <= this.props.messages.length) {\n          this.setState({\n            scrollLoadingAllow: true,\n            loadingMessages: false,\n            messagesSelector: __getUserMessages({\n              data: this.props.messages,\n              page: this.props.messagesPage\n            })\n          }, function () {\n            if (prevProps.messages.length !== _this8.props.messages.length) {\n              _this8.__scrollToBottom('behavior');\n            } else {\n              _this8._scrollContent.scrollTo(0, _this8._scrollContent.scrollHeight - _this8.state.previousScrollHeight + _this8.state.previousScrollTop - 45);\n            }\n          });\n        } else {\n          this.props.__LOAD_MORE_MESSAGES(-1);\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this9 = this;\n\n      this.setState({\n        messagesSelector: __getUserMessages({\n          data: this.props.messages,\n          page: this.props.messagesPage\n        })\n      }, function () {\n        _this9._scrollContent.onscroll = debounce(function (e) {\n          if (_this9.props.messages.length > _EVERY_PAGE_LIMIT_MESSAGES) {\n            _this9.__handleScrollTop(e);\n          }\n        }, 100);\n\n        _this9.__scrollToBottom();\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      removeEventListener('click', this._handleClickRemove);\n      removeEventListener('click', this._handleDomClick);\n      Bus.unsubscribe('cancelEditing');\n      Bus.unsubscribe('endEditing');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      return __jsx(React.Fragment, null, __jsx(\"div\", {\n        ref: function ref(el) {\n          return _this10._scrollContent = el;\n        },\n        className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"messages-content \".concat(this.state.loadingMessages ? 'scroll-disable' : ''),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 17\n        }\n      }, this.state.loadingMessages && __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"sbl-circ\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 52\n        }\n      }), this.state.messagesSelector.map(function (message, index) {\n        var _isOwner = message.owner === 'Me';\n\n        var _dataMSG = _isOwner ? _this10.props.loggedUser : _this10.props.activeUser;\n\n        if (!_dataMSG) return '';\n        return __jsx(\"div\", {\n          key: message.time + index,\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + ((_isOwner ? 'content-right_owner' : 'content-left_owner') || \"\"),\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 29\n          }\n        }, __jsx(UI_ELEMENTS.UserImage, {\n          firstName: _dataMSG.fullName.split(' ')[0],\n          lastName: _dataMSG.fullName.split(' ')[1] || '',\n          fill: _dataMSG.color,\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 33\n          }\n        }), message.removed ? __jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"removed-message\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 52\n          }\n        }, \"Removed message\") : __jsx(\"div\", {\n          \"data-message-type\": message.encryptType,\n          \"data-message-key\": message.key,\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"message-time \".concat(__detectCryptIcon(message) ? 'crypt-message' : ''),\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 33\n          }\n        }, __jsx(\"div\", {\n          onClick: function onClick(e) {\n            return _this10.__showEncryptPopUp(e, index, __detectCryptIcon(message));\n          },\n          \"data-hint-encrypt\": false,\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"separate-p\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 37\n          }\n        }, _isOwner && !__detectCryptIcon(message) && !_this10.state.isEditing && !_this10.state.isRemoving && __jsx(\"span\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"edit-remove\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 41\n          }\n        }, __jsx(\"i\", {\n          onClick: function onClick(e) {\n            return _this10.__editMessage(e, message, message.time);\n          },\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"lnr lnr-pencil\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 45\n          }\n        }), __jsx(\"i\", {\n          onClick: function onClick(e) {\n            return _this10.__removeMessageConfirm(e);\n          },\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"lnr lnr-cross\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 45\n          }\n        }), __jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"remove-confirm-container\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 45\n          }\n        }, \"Are you sure?\", __jsx(\"p\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]),\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 49\n          }\n        }, __jsx(\"a\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"trigger-close-dialog\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 53\n          }\n        }, \"No\"), __jsx(\"a\", {\n          onClick: function onClick() {\n            return _this10.__removeMessage(message.time);\n          },\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]),\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 53\n          }\n        }, \"Yes\")))), __jsx(\"span\", {\n          onClick: function onClick(e) {\n            return _this10.__doEncryptType(e, index);\n          },\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"encryptPopUp\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 41\n          }\n        }, _this10.state.encryptIcon ? __jsx(Icon, {\n          name: \"unlocked\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 71\n          }\n        }) : __jsx(Icon, {\n          name: \"locked\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 45\n          }\n        })), __detectCryptIcon(message) ? __jsx(\"img\", {\n          src: \"./assets/images/key.png\",\n          alt: \"iconSend\",\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]),\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 71\n          }\n        }) : __jsx(\"span\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]),\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 45\n          }\n        }, message.isEncrypt === false ? message.decryptedMsg : //there will be some case which is equal undefined\n        message.isEncrypt === true ? message.encryptedMsg : message.message, \" \"), \" \", message.edited && __jsx(\"span\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"edited-msg\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 146\n          }\n        }, \"(edited)\")), __jsx(\"span\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"time-wrap\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 37\n          }\n        }, moment(+message.time).format('lll')), _isOwner ? index === _this10.state.messagesSelector.length - 1 ? _this10.props.activeUser.isSeen ? __jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"status-message\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 41\n          }\n        }, \"Seen\") : __jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"status-message\",\n          __self: _this10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 85\n          }\n        }, \"Delivered\") : '' : ''));\n      }), __jsx(\"div\", {\n        ref: function ref(el) {\n          _this10._messagesEnd = el;\n        },\n        className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }\n      })), this.props.activeUser.isTyping && __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + \"is-typing-wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 52\n        }\n      }, this.FN + this.LN + ' is typing ', __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + 'spinner',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + 'bounce1',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 25\n        }\n      }), __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + 'bounce2',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 25\n        }\n      }), __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"2020876622\", [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor]]]) + \" \" + 'bounce3',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 25\n        }\n      }))), __jsx(_JSXStyle, {\n        id: \"2020876622\",\n        dynamic: [_this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.rightColor, _this10.state.leftColor, _this10.state.rightColor, _this10.state.leftColor],\n        __self: this\n      }, \".sbl-circ{height:35px;width:35px;color:#5a5a5a;position:relative;display:block;border:2px solid;border-radius:50%;border-top-color:transparent;-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;margin:5px auto;}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}@keyframes rotate{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}.messages-content{height:100%;overflow-x:hidden;position:relative;padding-top:10px;}.scroll-disable{overflow:hidden;}.messages-content::-webkit-scrollbar{width:0px;height:10px;}.messages-content::-webkit-scrollbar-thumb{background:transparent;}.messages-content::-webkit-scrollbar-track{background:transparent;}.content-right_owner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-flow:row-reverse;-ms-flex-flow:row-reverse;flex-flow:row-reverse;text-align:right;padding:0 10px;margin:7px;}.content-left_owner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;text-align:left;padding:0 10px;margin:7px;}.content-left_owner .message-time{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:5px 10px;max-width:50%;position:relative;}.content-left_owner .removed-message,.content-right_owner .removed-message{padding:5px 10px;max-width:50%;position:relative;background-color:#d9d7d7;border-radius:6px;font-size:14px;height:27px;font-style:italic;color:#767575;margin-top:5px;margin-bottom:10px;}.content-left_owner .removed-message{margin-left:10px;}.content-right_owner .removed-message{margin-right:10px;}.content-right_owner .message-time{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;padding:5px 10px;max-width:50%;position:relative;}.content-left_owner .message-time>div.separate-p .edited-msg,.content-right_owner .message-time>div.separate-p .edited-msg{font-size:10px;font-family:sans-serif;font-style:italic;}.content-left_owner .crypt-message>div.separate-p,.content-right_owner .crypt-message>div.separate-p{background-color:transparent !important;padding:0 !important;height:27px;}.content-left_owner .crypt-message>div.separate-p img,.content-right_owner .crypt-message>div.separate-p img{width:30px;}.content-left_owner .crypt-message>div.separate-p:before,.content-right_owner .crypt-message>div.separate-p:before{border-color:transparent !important;}.message-time .status-message{font-size:12px;color:#424242;}.message-time:hover>span{opacity:1 !important;visibility:visible !important;}.content-right_owner .message-time>span,.content-left_owner .message-time>span{opacity:0;-webkit-transition:.4s;transition:.4s;font-size:9px;font-family:sans-serif;position:absolute;top:-13px;text-align:center;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;background-color:red;padding:3px 5px;color:#fff;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;white-space:nowrap;border-radius:4px;visibility:hidden;}.content-right_owner .message-time>div.separate-p .edit-remove i{padding:2px 4px;position:relative;}.content-right_owner .message-time>div.separate-p .edit-remove i.lnr-pencil:after{content:'';position:absolute;width:5px;height:5px;background:\".concat(this.state.rightColor, \";top:0;right:-5px;}.content-right_owner .message-time>div.separate-p .edit-remove i.lnr-cross:after{content:'';position:absolute;width:5px;height:5px;background:\").concat(this.state.rightColor, \";bottom:0;right:-5px;}.content-right_owner .message-time>div.separate-p .edit-remove .remove-confirm-container p{margin:4px 0 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}.content-right_owner .message-time>div.separate-p .edit-remove .remove-confirm-container p>a:first-child{height:19px;display:inline-block;border:1px solid #ccc;width:25px;border-radius:2px;text-align:center;font-size:12px;vertical-align:middle;margin-right:7px;background-color:\").concat(this.state.rightColor, \";color:#fff;cursor:pointer;}.opened-pop-confirm-remove .edit-remove{opacity:1 !important;visibility:visible !important;left:-18px !important;}.content-right_owner .message-time>div.separate-p .edit-remove .remove-confirm-container p>a:last-child{height:19px;display:inline-block;border:1px solid #ccc;width:25px;border-radius:2px;text-align:center;font-size:12px;vertical-align:middle;background-color:#c5cbca;color:#fff;cursor:pointer;}.content-right_owner .message-time>div.separate-p .edit-remove .remove-confirm-container{position:absolute;width:120px;right:24px;padding:6px;color:#000;font-size:13px;border:1px solid #ccc;border-radius:3px;top:14px;bottom:0;margin:auto;height:55px;opacity:0;z-index:22;background:#fff;-webkit-transition:.4s;transition:.4s;visibility:hidden;cursor:default;}.content-right_owner .message-time>div.separate-p .edit-remove .remove-confirm-container:after{content:'';width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid #dcdcdc;position:absolute;right:-4px;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);top:21px;}.content-right_owner .message-time>div.separate-p .edit-remove .remove-confirm-container:before{content:'';width:0;height:0;border-top:3px solid transparent;border-bottom:3px solid transparent;border-left:3px solid #fff;position:absolute;right:-3px;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);top:22px;z-index:22;}.opened-pop-confirm-remove .remove-confirm-container{opacity:1 !important;visibility:visible !important;}.opened-pop-confirm-remove+.time-wrap{display:none;}.content-right_owner .message-time>div.separate-p .edit-remove{position:absolute;left:-15px;background:\").concat(this.state.rightColor, \";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;top:0;width:18px;font-size:9px;height:27px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-right:1px solid;opacity:0;-webkit-transition:.2s;transition:.2s;visibility:hidden;}.content-right_owner .message-time>div.separate-p:hover .edit-remove{opacity:1;visibility:visible;left:-18px;}.content-right_owner .message-time>div.separate-p .edit-remove:after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;height:0.8px;width:18px;margin:auto;background:#fff;}.content-right_owner .message-time>div.separate-p .edit-remove:before{content:'';position:absolute;top:0;bottom:0;right:-1px;height:27px;width:0.8px;margin:auto;background:#fff;z-index:2;}.opened-encryptPopUp .edit-remove{display:none !important;}.content-right_owner .message-time>div.separate-p .encryptPopUp,.content-left_owner .message-time>div.separate-p .encryptPopUp{position:absolute;height:25px;display:none;width:25px;padding:2px;bottom:0;top:0;margin:auto;cursor:pointer;border-radius:5px;}.content-right_owner .message-time>div.separate-p .encryptPopUp{left:-30px;}.content-left_owner .message-time>div.separate-p .encryptPopUp{right:-30px;}.opened-encryptPopUp{background-color:#e7e7e7 !important;color:#000 !important;}.opened-encryptPopUp:before{border-left-color:#e7e7e7 !important;}.opened-encryptPopUp .encryptPopUp{display:block !important;}.content-right_owner .message-time>div.separate-p,.content-left_owner .message-time>div.separate-p{cursor:pointer;text-align:left;margin:0 0 5px 0;display:inline-block;padding:5px 10px;color:#fff;font-size:13px;border-radius:5px;position:relative;min-height:27px;word-break:break-all;}.content-right_owner .message-time>div.separate-p,.content-right_owner .message-time>span{background-color:\").concat(this.state.rightColor, \";}.content-left_owner .message-time>div.separate-p,.content-left_owner .message-time>span{background-color:\").concat(this.state.leftColor, \";}.content-right_owner .message-time>div.separate-p:before{content:'';width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid \").concat(this.state.rightColor, \";position:absolute;right:-3px;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);top:7px;}.content-left_owner .message-time>div.separate-p:before{content:'';width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid \").concat(this.state.leftColor, \";position:absolute;left:-3px;-webkit-transform:rotate(-180deg);-ms-transform:rotate(-180deg);transform:rotate(-180deg);top:7px;}.is-typing-wrap{margin-left:20px;margin-bottom:7px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;}.is-typing-wrap .spinner{margin-top:5px;margin-left:10px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccnVhbGFcXERlc2t0b3BcXEFTYWhha1xcZGFzZXJcXG5leHRcXENyeXB0b0dyYXBoeVxcY29tcG9uZW50c1xcZWxlbWVudHNcXFByaXZhdGVNZXNzYWdlQ29udGVudC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ1dtQyxBQUdtQyxBQWNVLEFBRUssQUFJYixBQU1JLEFBR1IsQUFLYSxBQUlBLEFBR1IsQUFRQSxBQU9BLEFBUUksQUFhQSxBQUdDLEFBR0wsQUFTRSxBQU15QixBQU03QixBQUd5QixBQUdyQixBQUlNLEFBS1gsQUFpQk0sQUFJTCxBQVNBLEFBU0ksQUFLSCxBQWNTLEFBS1QsQUFhTSxBQW9CUCxBQWNBLEFBZVUsQUFJUixBQUdLLEFBd0JSLEFBS0MsQUFZQSxBQVlhLEFBS04sQUFhUCxBQUdDLEFBSXdCLEFBSUMsQUFHWixBQUlWLEFBYStCLEFBR0EsQUFHbkMsQUFZQSxBQWFNLEFBT0YsVUF6V0wsQUEwRkssQUE0SkksQ0EzS3ZCLEFBb0NzQixBQVNBLEFBa0VWLEFBY0EsQUFtRFUsQUFZQSxBQThCdEIsQUFxQ1ksQUFZQSxDQW5YQyxBQW9CUyxBQStJRyxBQW1CQSxBQStJekIsQ0E3RUEsRUE1SjJCLEFBa0JULEFBZ0RELEFBc0xFLEFBbURFLENBN1dyQixBQThHc0IsQ0F4RUosQUFhbEIsQUFtVHNCLENBaFR0QixBQW1IZ0IsQUF3REQsQUEwREMsQ0E3RkgsQUFjQSxBQWtJQSxBQVlBLEVBbFFxQixBQStEQSxBQW1FQSxDQXRObEMsQ0E3QmdCLEFBaUNoQixBQUlBLENBMFFBLENBZ0NBLEdBdkhxQyxBQWNBLEFBa0lBLEFBWUEsQ0F0UXJDLEFBOEJjLEFBU0EsQUFzRzhCLEFBd0I3QixBQUtMLEFBWUEsQ0FoUlksQUErS1AsQUFrSEUsQ0FyUEssQUFvUkQsQ0FtRHJCLENBcE8wQixBQW1CQSxDQTlDMUIsQ0FpSmEsQUFZQSxBQTJGSSxDQXRSakIsQUE4TjBCLENBdlVOLEFBMlVwQixDQWhQc0IsQ0FpRFAsQUFTQSxDQXJEVSxBQW1MekIsQ0FoRmdCLEVBa0hELENBNUJKLEFBWUksRUEwRGYsQUFHQSxFQTlVcUIsQUFrR0gsQUE4Tk8sQ0FwUkksQ0E2RWUsQUFTQSxDQXJDNUMsQUErRDBCLEFBbUUxQixBQXVDWSxFQXRGRyxDQWtIQyxDQXJUQSxBQWtLRCxBQW1CQSxBQWdIQyxDQTFNaEIsRUE0T0EsQ0E3Q2lCLEVBMUxELEFBdUh3QixBQWNBLEFBa0lBLEFBWUEsQ0E3UGIsRUE4RVIsQ0FoTG5CLENBK0lzQixBQW1CQSxBQWdJVCxDQWhCRyxFQXJTRyxBQXlQSyxBQTBGSCxHQTFVSSxBQWlSVixDQTFMZixBQStFQSxDQTFJK0IsQUFRUCxBQU9FLEFBV0osQUFnQkksQ0F1T2hCLElBbEhnQixBQWtHVixFQWlCQSxFQTVCQSxDQXhITSxBQW1CQSxDQWhFQSxDQXJIRixBQW1WTCxDQXpVZSxFQWdKRCxBQStGSixDQTlHZixBQVNHLENBa0pPLENBdk9ELENBd1BBLEVBNUJDLENBL0lMLENBMEVtQixBQWNILEFBZ0haLEFBa0JvQyxBQVlBLEVBN054QyxFQStDTyxDQWpDSCxBQW1CQSxDQWhFTCxDQXJIaUIsR0ErRGYsQUE2RWhCLEFBMEpjLENBaUJRLENBcUVDLENBdk92QixBQW9Hd0IsQ0FrQ3hCLENBeURzQixDQTlOQSxJQTZDSSxBQW1CQSxBQWlIMUIsRUF2T3NCLEFBb0lULEtBZ0NTLEVBcUZ0QixDQW5Hc0IsQ0FqQlQsRUFxREksQUEyRkssQ0E5TkksRUF0SFksSUFnRXBCLEFBcUlGLEVBbENLLEFBbUJRLEdBOENkLEdBZEEsR0ErSEssQUFnQkUsQUFZQSxDQTNLTixFQXJJRyxDQWZRLEFBMkJGLENBd0pVLEdBakVlLEFBbURmLEtBNUtmLEFBNEpOLEdBaEJDLEFBK0pVLEVBcFJGLEFBb1NSLEFBWUQsS0ExS0MsSUFoQkksQ0EyTFcsQ0F2VVgsQUEyVFEsRUFwVUQsR0FzS04sRUE2QlcsQ0FuSy9CLEFBb1JBLENBOUxBLENBK0QrQixHQS9CL0IsRUE1SWUsTUE2SkksSUFyQ0osQUF1TkksQ0E5VW5CLENBNE1rQyxNQW5JVCxDQWdIRSxFQXRPVCxBQXFLQyxDQW1EUSxHQW9LM0IsV0F0TkEsQ0FyS0EsRUFzSG9CLEdBbUlVLEVBaERSLFdBbEZQLE1BM0NNLENBOEhGLEdBeEtFLENBc0ZILEFBOE9OLEVBNUdjLENBek1MLEtBc1RyQixBQVdZLEdBdktaLENBOUhrQixJQTFDQyxBQWdWbkIsSUFqVWtCLE1BNEJJLEtBMUNQLEdBZU8sQUFtTFQsR0FkQSxLQW5MYixDQWtNZSxDQXhKZixFQTBJQSxNQXJLQSxFQW9MQSxFQS9HdUIsbUJBQ0QsS0FpSVosTUFDSyxPQWpJTyxJQWtJSixjQWpJbEIsQUFrSWdCLFlBQ2EseUJBQ2Esc0NBQ2hCLHNCQUNRLG1IQUNQLHVCQUNiLFVBQ0ssc0NBQ0csa0JBQ3RCIiwiZmlsZSI6IkM6XFxVc2Vyc1xccnVhbGFcXERlc2t0b3BcXEFTYWhha1xcZGFzZXJcXG5leHRcXENyeXB0b0dyYXBoeVxcY29tcG9uZW50c1xcZWxlbWVudHNcXFByaXZhdGVNZXNzYWdlQ29udGVudC5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgVUlfRUxFTUVOVFMgZnJvbSBcImNvbXBvbmVudHMvc2hhcmVkL1VJXCI7XHJcbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5pbXBvcnQgSWNvbiBmcm9tICdjb21wb25lbnRzL0ljb25zL2ljb24nO1xyXG5pbXBvcnQgZGVib3VuY2UgZnJvbSBcImxvZGFzaC5kZWJvdW5jZVwiO1xyXG5pbXBvcnQge1xyXG4gICAgX19MT0FEX01PUkVfTUVTU0FHRVMsXHJcbn0gZnJvbSAnc3RvcmUvYWN0aW9ucyc7XHJcbmltcG9ydCB7IEJ1cyB9IGZyb20gJ2NvbXBvbmVudHMvc2hhcmVkL2hlbHBlcnMvQnVzJztcclxuaW1wb3J0IHtcclxuICAgIF9FVkVSWV9QQUdFX0xJTUlUX01FU1NBR0VTXHJcbn0gZnJvbSAnY29tcG9uZW50cy9zaGFyZWQvaGVscGVycy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBfX2dldFVzZXJNZXNzYWdlcyB9IGZyb20gJ3N0b3JlL3Jlc2VsZWN0JztcclxuaW1wb3J0IHtcclxuICAgIF9fZGV0ZWN0Q3J5cHRJY29uXHJcbn0gZnJvbSAnY29tcG9uZW50cy9zaGFyZWQvaGVscGVycy9nbG9iYWwtZnVuY3Rpb25zJztcclxuaW1wb3J0IHtcclxuICAgIF9fRURJVF9NRVNTQUdFLFxyXG4gICAgX19SRU1PVkVfTUVTU0FHRSxcclxufSBmcm9tIFwic3RvcmUvc2FnYVwiO1xyXG5cclxuY2xhc3MgUHJpdmF0ZU1lc3NhZ2VDb250ZW50IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudHtcclxuICAgIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBsZWZ0Q29sb3I6IHRoaXMucHJvcHMuYWN0aXZlVXNlciAmJiB0aGlzLnByb3BzLmFjdGl2ZVVzZXI/LmNvbG9yIHx8ICcjMEM0NjUxJyxcclxuICAgICAgICAgICAgcmlnaHRDb2xvcjogdGhpcy5wcm9wcy5hY3RpdmVVc2VyICYmIHRoaXMucHJvcHMubG9nZ2VkVXNlcj8uY29sb3IgfHwgJyMxQkJDOUInLFxyXG4gICAgICAgICAgICBzY3JvbGxMb2FkaW5nQWxsb3c6IHRydWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2VzU2VsZWN0b3I6IFtdLFxyXG4gICAgICAgICAgICBlbmNyeXB0SWNvbjogdHJ1ZSxcclxuICAgICAgICAgICAgc2Nyb2xsUG9zaXRpb246IG51bGwsXHJcbiAgICAgICAgICAgIHByZXZpb3VzU2Nyb2xsSGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICBwcmV2aW91c1Njcm9sbFRvcDogMCxcclxuICAgICAgICAgICAgbG9hZGluZ01lc3NhZ2VzOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNSZW1vdmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGVkaXRpbmdNc2dJbmRleDogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX21lc3NhZ2VzRW5kICAgICAgICAgICA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRG9tQ2xpY2sgICAgICAgID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDbGlja1JlbW92ZSAgICAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX19zY3JvbGxUb0JvdHRvbSAgICAgICA9IHRoaXMuX19zY3JvbGxUb0JvdHRvbS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX19oYW5kbGVTY3JvbGxUb3AgICAgICA9IHRoaXMuX19oYW5kbGVTY3JvbGxUb3AuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fc2hvd0VuY3J5cHRQb3BVcCAgICAgPSB0aGlzLl9fc2hvd0VuY3J5cHRQb3BVcC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX19kb0VuY3J5cHRUeXBlICAgICAgICA9IHRoaXMuX19kb0VuY3J5cHRUeXBlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5fX2hpZGVQb3BVcEVuY3J5cHQgICAgID0gdGhpcy5fX2hpZGVQb3BVcEVuY3J5cHQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fZWRpdE1lc3NhZ2UgICAgICAgICAgPSB0aGlzLl9fZWRpdE1lc3NhZ2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fcmVtb3ZlTWVzc2FnZUNvbmZpcm0gPSB0aGlzLl9fcmVtb3ZlTWVzc2FnZUNvbmZpcm0uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fcmVtb3ZlTWVzc2FnZSAgICAgICAgPSB0aGlzLl9fcmVtb3ZlTWVzc2FnZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX19jbGlja1JlbW92ZVBvcFVwID0gdGhpcy5fX2NsaWNrUmVtb3ZlUG9wVXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9zY3JvbGxDb250ZW50ICAgICA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG4gICAgICAgIEJ1cy5zdWJzY3JpYmUoJ2NhbmNlbEVkaXRpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEJ1cy5zdWJzY3JpYmUoJ2VuZEVkaXRpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzUmVtb3Zpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZWRpdGluZ01zZ0luZGV4OiBudWxsLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX19zY3JvbGxUb0JvdHRvbSAoYmVoYXZpb3IpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fbWVzc2FnZXNFbmQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IChiZWhhdmlvciA/ICdzbW9vdGgnIDogJ2F1dG8nKX0pO1xyXG4gICAgICAgIH0sIDApXHJcbiAgICB9XHJcblxyXG4gICAgX19oYW5kbGVTY3JvbGxUb3AgKGUpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2Nyb2xsTG9hZGluZ0FsbG93ICYmIGUudGFyZ2V0LnNjcm9sbFRvcCA8IDUwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNTY3JvbGxUb3A6IHRoaXMuX3Njcm9sbENvbnRlbnQ/LnNjcm9sbFRvcCxcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzU2Nyb2xsSGVpZ2h0OiB0aGlzLl9zY3JvbGxDb250ZW50Py5zY3JvbGxIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxMb2FkaW5nQWxsb3c6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbG9hZGluZ01lc3NhZ2VzOiB0cnVlLFxyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLl9fTE9BRF9NT1JFX01FU1NBR0VTKDEpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxMb2FkaW5nQWxsb3c6IHRydWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX19zaG93RW5jcnlwdFBvcFVwIChldnQsIGluZGV4LCBpc0tleSkge1xyXG4gICAgICAgIGlmIChldnQudGFyZ2V0LmNsb3Nlc3QoJy5yZW1vdmUtY29uZmlybS1jb250YWluZXInKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBfY3VycmVudFNyYyA9IGV2dC50YXJnZXQuY2xvc2VzdCgnLnNlcGFyYXRlLXAnKTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCcub3BlbmVkLWVuY3J5cHRQb3BVcCcpICYmXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignLm9wZW5lZC1lbmNyeXB0UG9wVXAnKSAhPT0gX2N1cnJlbnRTcmNcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCcub3BlbmVkLWVuY3J5cHRQb3BVcCcpLnNldEF0dHJpYnV0ZSgnZGF0YS1oaW50LWVuY3J5cHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignLm9wZW5lZC1lbmNyeXB0UG9wVXAnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuZWQtZW5jcnlwdFBvcFVwJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzS2V5KSByZXR1cm47XHJcbiAgICAgICAgaWYgKF9jdXJyZW50U3JjKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJY29uID0gX2N1cnJlbnRTcmMuZ2V0QXR0cmlidXRlKCdkYXRhLWhpbnQtZW5jcnlwdCcpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1lc3NhZ2VzU2VsZWN0b3IgPSBbLi4udGhpcy5zdGF0ZS5tZXNzYWdlc1NlbGVjdG9yXTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlc1NlbGVjdG9yW2luZGV4XS5pc0VuY3J5cHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBlbmNyeXB0SWNvbjogSlNPTi5wYXJzZShkYXRhSWNvbiksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1NlbGVjdG9yOiB0aGlzLnN0YXRlLm1lc3NhZ2VzU2VsZWN0b3JcclxuICAgICAgICAgICAgfSwgKCkgPT4gdGhpcy5mb3JjZVVwZGF0ZSgpKTtcclxuICAgICAgICAgICAgX2N1cnJlbnRTcmMuY2xhc3NMaXN0LnRvZ2dsZSgnb3BlbmVkLWVuY3J5cHRQb3BVcCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb21DbGljayA9IHRoaXMuX19oaWRlUG9wVXBFbmNyeXB0LmJpbmQodGhpcywgaW5kZXgpKVxyXG4gICAgICAgIH0sIDApXHJcbiAgICB9XHJcblxyXG4gICAgX19oaWRlUG9wVXBFbmNyeXB0IChpbmRleCwgZSkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUubWVzc2FnZXNTZWxlY3RvciA9IFsuLi50aGlzLnN0YXRlLm1lc3NhZ2VzU2VsZWN0b3JdO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLm1lc3NhZ2VzU2VsZWN0b3JbaW5kZXhdLmlzRW5jcnlwdDtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbWVzc2FnZXNTZWxlY3RvcjogdGhpcy5zdGF0ZS5tZXNzYWdlc1NlbGVjdG9yXHJcbiAgICAgICAgfSwgKCkgPT4gdGhpcy5mb3JjZVVwZGF0ZSgpKTtcclxuXHJcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb21DbGljayk7XHJcbiAgICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdkaXZbZGF0YS1oaW50LWVuY3J5cHRdJykgJiYgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCcub3BlbmVkLWVuY3J5cHRQb3BVcCcpKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignLm9wZW5lZC1lbmNyeXB0UG9wVXAnKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGludC1lbmNyeXB0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoJy5vcGVuZWQtZW5jcnlwdFBvcFVwJykuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbmVkLWVuY3J5cHRQb3BVcCcpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9fZG9FbmNyeXB0VHlwZSAoZSwgaW5kZXgpIHtcclxuICAgICAgICBjb25zdCBfY3VycmVudFNyYyA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zZXBhcmF0ZS1wJyk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVuY3J5cHRJY29uOiAhdGhpcy5zdGF0ZS5lbmNyeXB0SWNvblxyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgX2N1cnJlbnRTcmMuc2V0QXR0cmlidXRlKCdkYXRhLWhpbnQtZW5jcnlwdCcsIHRoaXMuc3RhdGUuZW5jcnlwdEljb24pO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFbmNyeXB0aW9uID0gWy4uLnRoaXMuc3RhdGUubWVzc2FnZXNTZWxlY3Rvcl07XHJcbiAgICAgICAgICAgIG5ld0VuY3J5cHRpb25baW5kZXhdLmlzRW5jcnlwdCA9IHRoaXMuc3RhdGUuZW5jcnlwdEljb247XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXNTZWxlY3RvcjogbmV3RW5jcnlwdGlvblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgX19lZGl0TWVzc2FnZSAoZXZ0LCBtc2csIHRpbWUpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucHJvcHMubWVzc2FnZXMuZmluZEluZGV4KG1zZyA9PiBtc2cudGltZSA9PT0gdGltZSk7XHJcbiAgICAgICAgX19FRElUX01FU1NBR0UobnVsbCwgaW5kZXgsIHtpZFVzZXI6IHRoaXMucHJvcHMuYWN0aXZlVXNlcj8uaWQsIG15SWQ6IHRoaXMucHJvcHMubG9nZ2VkVXNlcj8uaWR9KS5uZXh0KCk7XHJcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0VkaXRpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGVkaXRpbmdNc2dJbmRleDogaW5kZXhcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEJ1cy5kaXNwYXRjaCgnZWRpdE1lc3NhZ2UnLCB7bXNnLCBpbmRleH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgIF9fcmVtb3ZlTWVzc2FnZUNvbmZpcm0gKGV2dCkge1xyXG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBjb25zdCBfY3VycmVudFNyYyAgICAgID0gZXZ0LnRhcmdldC5jbG9zZXN0KCcuc2VwYXJhdGUtcCcpO1xyXG4gICAgICAgIGNvbnN0IGFscmVhZHlEZWNsYXJlZCAgPSBldnQudGFyZ2V0LmNsb3Nlc3QoJy5tZXNzYWdlcy1jb250ZW50Jyk/LnF1ZXJ5U2VsZWN0b3IoJy5vcGVuZWQtcG9wLWNvbmZpcm0tcmVtb3ZlJyk7XHJcbiAgICAgICAgaWYgKGFscmVhZHlEZWNsYXJlZCkge1xyXG4gICAgICAgICAgICBhbHJlYWR5RGVjbGFyZWQuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbmVkLXBvcC1jb25maXJtLXJlbW92ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfY3VycmVudFNyYy5jbGFzc0xpc3QuYWRkKCdvcGVuZWQtcG9wLWNvbmZpcm0tcmVtb3ZlJyk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tSZW1vdmUgPSB0aGlzLl9fY2xpY2tSZW1vdmVQb3BVcC5iaW5kKHRoaXMpKVxyXG4gICAgICAgIH0sIDApO1xyXG4gICAgfVxyXG5cclxuICAgIF9fcmVtb3ZlTWVzc2FnZSAodGltZSkge1xyXG4gICAgICAgIF9fUkVNT1ZFX01FU1NBR0UodGltZSwge2lkVXNlcjogdGhpcy5wcm9wcy5hY3RpdmVVc2VyPy5pZCwgbXlJZDogdGhpcy5wcm9wcy5sb2dnZWRVc2VyPy5pZH0pLm5leHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBfX2NsaWNrUmVtb3ZlUG9wVXAgKGV2dCkge1xyXG4gICAgICAgIGNvbnN0IGFscmVhZHlEZWNsYXJlZCAgPSBldnQudGFyZ2V0LmNsb3Nlc3QoJy5tZXNzYWdlcy1jb250ZW50Jyk/LnF1ZXJ5U2VsZWN0b3IoJy5vcGVuZWQtcG9wLWNvbmZpcm0tcmVtb3ZlJyk7XHJcbiAgICAgICAgaWYgKGFscmVhZHlEZWNsYXJlZCAmJiAhZXZ0LnRhcmdldC5jbG9zZXN0KCcucmVtb3ZlLWNvbmZpcm0tY29udGFpbmVyJykgfHwgZXZ0LnRhcmdldC5jbG9zZXN0KCcudHJpZ2dlci1jbG9zZS1kaWFsb2cnKSkge1xyXG4gICAgICAgICAgICBhbHJlYWR5RGVjbGFyZWQuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbmVkLXBvcC1jb25maXJtLXJlbW92ZScpO1xyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCkge1xyXG4gICAgICAgIC8vIGlmIChwcmV2UHJvcHMuYWN0aXZlVXNlci5pc1R5cGluZyAhPT0gdGhpcy5wcm9wcy5hY3RpdmVVc2VyLmlzVHlwaW5nKSB7IHRvZG9cclxuICAgICAgICAvLyAgICAgdGhpcy5wcm9wcy5hY3RpdmVVc2VyLmlzVHlwaW5nICYmIHRoaXMuX19zY3JvbGxUb0JvdHRvbSgnYmVoYXZpb3InKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIERldGVjdCBpZiB0aGVyZSBhcmUgcmVtb3ZlZCBtZXNzYWdlXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVXNlcj8ucmVtb3ZlZE1lc3NhZ2VJbmRleCA+PSAwICYmXHJcbiAgICAgICAgICAgIChwcmV2UHJvcHMubWVzc2FnZXNbdGhpcy5wcm9wcy5hY3RpdmVVc2VyLnJlbW92ZWRNZXNzYWdlSW5kZXhdPy5yZW1vdmVkICE9PSB0aGlzLnByb3BzLm1lc3NhZ2VzW3RoaXMucHJvcHMuYWN0aXZlVXNlci5yZW1vdmVkTWVzc2FnZUluZGV4XT8ucmVtb3ZlZCB8fFxyXG4gICAgICAgICAgICAhKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuc3RhdGUubWVzc2FnZXNTZWxlY3Rvci5sZW5ndGggLSAodGhpcy5wcm9wcy5tZXNzYWdlcy5sZW5ndGggLSB0aGlzLnByb3BzLmFjdGl2ZVVzZXIucmVtb3ZlZE1lc3NhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUubWVzc2FnZXNTZWxlY3RvcltjdXJyZW50SW5kZXhdPy5yZW1vdmVkXHJcbiAgICAgICAgICAgIH0pKCkpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuc3RhdGUubWVzc2FnZXNTZWxlY3Rvci5sZW5ndGggLSAodGhpcy5wcm9wcy5tZXNzYWdlcy5sZW5ndGggLSB0aGlzLnByb3BzLmFjdGl2ZVVzZXIucmVtb3ZlZE1lc3NhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RW5jcnlwdGlvbiA9IFsuLi50aGlzLnN0YXRlLm1lc3NhZ2VzU2VsZWN0b3JdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0VuY3J5cHRpb25bY3VycmVudEluZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0VuY3J5cHRpb25bY3VycmVudEluZGV4XS5yZW1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNTZWxlY3RvcjogbmV3RW5jcnlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHdoZW4gZWRpdGluZyBoYXZlIGJlZW4gZmluaXNoZWRcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVVc2VyPy5lZGl0ZWRNc2dJbmRleCA+PSAwICYmXHJcbiAgICAgICAgICAgICh0aGlzLnByb3BzLm1lc3NhZ2VzW3RoaXMucHJvcHMuYWN0aXZlVXNlcj8uZWRpdGVkTXNnSW5kZXhdLm1lc3NhZ2UgIT09IHByZXZQcm9wcy5tZXNzYWdlc1t0aGlzLnByb3BzLmFjdGl2ZVVzZXI/LmVkaXRlZE1zZ0luZGV4XS5tZXNzYWdlIHx8XHJcbiAgICAgICAgICAgICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0aGlzLnN0YXRlLm1lc3NhZ2VzU2VsZWN0b3IubGVuZ3RoIC0gKHRoaXMucHJvcHMubWVzc2FnZXMubGVuZ3RoIC0gdGhpcy5wcm9wcy5hY3RpdmVVc2VyPy5lZGl0ZWRNc2dJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUubWVzc2FnZXNTZWxlY3RvcltjdXJyZW50SW5kZXhdLm1lc3NhZ2UgIT09IHRoaXMucHJvcHMubWVzc2FnZXNbdGhpcy5wcm9wcy5hY3RpdmVVc2VyPy5lZGl0ZWRNc2dJbmRleF0ubWVzc2FnZTtcclxuICAgICAgICAgICAgfSkoKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5zdGF0ZS5tZXNzYWdlc1NlbGVjdG9yLmxlbmd0aCAtICh0aGlzLnByb3BzLm1lc3NhZ2VzLmxlbmd0aCAtIHRoaXMucHJvcHMuYWN0aXZlVXNlcj8uZWRpdGVkTXNnSW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRlZEFycmF5ID0gWy4uLnRoaXMuc3RhdGUubWVzc2FnZXNTZWxlY3Rvcl07XHJcbiAgICAgICAgICAgICAgICBlZGl0ZWRBcnJheVtjdXJyZW50SW5kZXhdID0gdGhpcy5wcm9wcy5tZXNzYWdlc1t0aGlzLnByb3BzLmFjdGl2ZVVzZXI/LmVkaXRlZE1zZ0luZGV4XTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZW1vdmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdGluZ01zZ0luZGV4OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzU2VsZWN0b3I6IGVkaXRlZEFycmF5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZW5kaW5nIG5vdGlmaWNhdGlvbiB3aGVuIHRoZXJlIHdhcyBub3QgYW55IG1lc3NhZ2VzXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWVzc2FnZXMubGVuZ3RoID09PSAxICYmIHRoaXMucHJvcHMubWVzc2FnZXNbMF0ubWVzc2FnZSA9PT0gJycgfHwgcHJldlByb3BzLm1lc3NhZ2VzLmxlbmd0aCA9PT0gMSAmJiBwcmV2UHJvcHMubWVzc2FnZXNbMF0ubWVzc2FnZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tZXNzYWdlc0hhdmVCZWVuRGVsZXRlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcGRhdGUgbWVzc2FnZSBsaXN0XHJcbiAgICAgICAgaWYgKChwcmV2UHJvcHMubWVzc2FnZXNQYWdlICE9PSB0aGlzLnByb3BzLm1lc3NhZ2VzUGFnZSB8fCBwcmV2UHJvcHMubWVzc2FnZXMubGVuZ3RoICE9PSB0aGlzLnByb3BzLm1lc3NhZ2VzLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLm1lc3NhZ2VzUGFnZSAtIDEpICogX0VWRVJZX1BBR0VfTElNSVRfTUVTU0FHRVMgPD0gdGhpcy5wcm9wcy5tZXNzYWdlcy5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxMb2FkaW5nQWxsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01lc3NhZ2VzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc1NlbGVjdG9yOiBfX2dldFVzZXJNZXNzYWdlcyh7ZGF0YTogdGhpcy5wcm9wcy5tZXNzYWdlcywgcGFnZTogdGhpcy5wcm9wcy5tZXNzYWdlc1BhZ2V9KVxyXG4gICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2UHJvcHMubWVzc2FnZXMubGVuZ3RoICE9PSB0aGlzLnByb3BzLm1lc3NhZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9fc2Nyb2xsVG9Cb3R0b20oJ2JlaGF2aW9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsQ29udGVudC5zY3JvbGxUbygwLCAodGhpcy5fc2Nyb2xsQ29udGVudC5zY3JvbGxIZWlnaHQgLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wcmV2aW91c1Njcm9sbEhlaWdodCArIHRoaXMuc3RhdGUucHJldmlvdXNTY3JvbGxUb3AgLSA0NSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5fX0xPQURfTU9SRV9NRVNTQUdFUygtMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VzU2VsZWN0b3I6IF9fZ2V0VXNlck1lc3NhZ2VzKHtkYXRhOiB0aGlzLnByb3BzLm1lc3NhZ2VzLCBwYWdlOiB0aGlzLnByb3BzLm1lc3NhZ2VzUGFnZX0pXHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxDb250ZW50Lm9uc2Nyb2xsID0gZGVib3VuY2UoKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1lc3NhZ2VzLmxlbmd0aCA+IF9FVkVSWV9QQUdFX0xJTUlUX01FU1NBR0VTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2hhbmRsZVNjcm9sbFRvcChlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICB0aGlzLl9fc2Nyb2xsVG9Cb3R0b20oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrUmVtb3ZlKTtcclxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvbUNsaWNrKTtcclxuICAgICAgICBCdXMudW5zdWJzY3JpYmUoJ2NhbmNlbEVkaXRpbmcnKTtcclxuICAgICAgICBCdXMudW5zdWJzY3JpYmUoJ2VuZEVkaXRpbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgRk4gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmFjdGl2ZVVzZXIgPyB0aGlzLnByb3BzLmFjdGl2ZVVzZXIuZnVsbE5hbWUuc3BsaXQoJyAnKVswXS5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpIDogJyc7XHJcbiAgICB9XHJcbiAgICBnZXQgTE4gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmFjdGl2ZVVzZXIgPyB0aGlzLnByb3BzLmFjdGl2ZVVzZXIuZnVsbE5hbWUuc3BsaXQoJyAnKVsxXT8uc2xpY2UoMCwgMSkgfHwgJycudG9VcHBlckNhc2UoKSA6ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtZXNzYWdlcy1jb250ZW50ICR7dGhpcy5zdGF0ZS5sb2FkaW5nTWVzc2FnZXMgPyAnc2Nyb2xsLWRpc2FibGUnIDogJyd9YH1cclxuICAgICAgICAgICAgICAgICAgICByZWY9eyhlbCkgPT4gdGhpcy5fc2Nyb2xsQ29udGVudCA9IGVsfT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5sb2FkaW5nTWVzc2FnZXMgJiYgPGRpdiBjbGFzc05hbWU9XCJzYmwtY2lyY1wiPjwvZGl2Pn1cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5tZXNzYWdlc1NlbGVjdG9yLm1hcCgobWVzc2FnZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzT3duZXIgPSBtZXNzYWdlLm93bmVyID09PSAnTWUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfZGF0YU1TRyA9IF9pc093bmVyID8gdGhpcy5wcm9wcy5sb2dnZWRVc2VyIDogdGhpcy5wcm9wcy5hY3RpdmVVc2VyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9kYXRhTVNHKSByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bWVzc2FnZS50aW1lICsgaW5kZXh9IGNsYXNzTmFtZT17X2lzT3duZXIgPyAnY29udGVudC1yaWdodF9vd25lcicgOiAnY29udGVudC1sZWZ0X293bmVyJ30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVJX0VMRU1FTlRTLlVzZXJJbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU9e19kYXRhTVNHLmZ1bGxOYW1lLnNwbGl0KCcgJylbMF19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lPXtfZGF0YU1TRy5mdWxsTmFtZS5zcGxpdCgnICcpWzFdIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPXtfZGF0YU1TRy5jb2xvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnJlbW92ZWQgPyA8ZGl2IGNsYXNzTmFtZT1cInJlbW92ZWQtbWVzc2FnZVwiPlJlbW92ZWQgbWVzc2FnZTwvZGl2PiA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BtZXNzYWdlLXRpbWUgJHtfX2RldGVjdENyeXB0SWNvbihtZXNzYWdlKSA/ICdjcnlwdC1tZXNzYWdlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLW1lc3NhZ2UtdHlwZT17bWVzc2FnZS5lbmNyeXB0VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbWVzc2FnZS1rZXk9e21lc3NhZ2Uua2V5fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VwYXJhdGUtcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gdGhpcy5fX3Nob3dFbmNyeXB0UG9wVXAoZSwgaW5kZXgsIF9fZGV0ZWN0Q3J5cHRJY29uKG1lc3NhZ2UpKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtaGludC1lbmNyeXB0PXtmYWxzZX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhfaXNPd25lciAmJiAhX19kZXRlY3RDcnlwdEljb24obWVzc2FnZSkgJiYgKCF0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc1JlbW92aW5nKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImVkaXQtcmVtb3ZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwibG5yIGxuci1wZW5jaWxcIiBvbkNsaWNrPXsoZSkgPT4gdGhpcy5fX2VkaXRNZXNzYWdlKGUsIG1lc3NhZ2UsIG1lc3NhZ2UudGltZSl9PjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJsbnIgbG5yLWNyb3NzXCIgb25DbGljaz17KGUpID0+IHRoaXMuX19yZW1vdmVNZXNzYWdlQ29uZmlybShlKX0+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVtb3ZlLWNvbmZpcm0tY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFyZSB5b3Ugc3VyZT9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJ0cmlnZ2VyLWNsb3NlLWRpYWxvZ1wiPk5vPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgb25DbGljaz17KCkgPT4gdGhpcy5fX3JlbW92ZU1lc3NhZ2UobWVzc2FnZS50aW1lKX0+WWVzPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+fVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImVuY3J5cHRQb3BVcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gdGhpcy5fX2RvRW5jcnlwdFR5cGUoZSwgaW5kZXgpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lbmNyeXB0SWNvbiA/IDxJY29uIG5hbWU9XCJ1bmxvY2tlZFwiIC8+IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwibG9ja2VkXCIgLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge19fZGV0ZWN0Q3J5cHRJY29uKG1lc3NhZ2UpID8gPGltZyBzcmM9XCIuL2Fzc2V0cy9pbWFnZXMva2V5LnBuZ1wiIGFsdD1cImljb25TZW5kXCIvPiA6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnttZXNzYWdlLmlzRW5jcnlwdCA9PT0gZmFsc2UgPyBtZXNzYWdlLmRlY3J5cHRlZE1zZyA6Ly90aGVyZSB3aWxsIGJlIHNvbWUgY2FzZSB3aGljaCBpcyBlcXVhbCB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc0VuY3J5cHQgPT09IHRydWUgPyBtZXNzYWdlLmVuY3J5cHRlZE1zZyA6IG1lc3NhZ2UubWVzc2FnZX0gPC9zcGFuPn0ge21lc3NhZ2UuZWRpdGVkICYmIDxzcGFuIGNsYXNzTmFtZT1cImVkaXRlZC1tc2dcIj4oZWRpdGVkKTwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aW1lLXdyYXBcIj57bW9tZW50KCttZXNzYWdlLnRpbWUpLmZvcm1hdCgnbGxsJyl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7X2lzT3duZXIgPyAoaW5kZXggPT09IHRoaXMuc3RhdGUubWVzc2FnZXNTZWxlY3Rvci5sZW5ndGggLSAxKSA/IHRoaXMucHJvcHMuYWN0aXZlVXNlci5pc1NlZW4gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGF0dXMtbWVzc2FnZVwiPlNlZW48L2Rpdj46IDxkaXYgY2xhc3NOYW1lPVwic3RhdHVzLW1lc3NhZ2VcIj5EZWxpdmVyZWQ8L2Rpdj4gOiAnJyA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiByZWY9eyhlbCkgPT4geyB0aGlzLl9tZXNzYWdlc0VuZCA9IGVsIH19PnsvKlNjcm9sbCBJbnRvIFZpZXcqL308L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuYWN0aXZlVXNlci5pc1R5cGluZyAmJiA8ZGl2IGNsYXNzTmFtZT1cImlzLXR5cGluZy13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuRk4gKyB0aGlzLkxOICsgJyBpcyB0eXBpbmcgJ31cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3Bpbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdib3VuY2UxJz48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JvdW5jZTInPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYm91bmNlMyc+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgICAgICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxyXG4gICAgICAgICAgICAgICAgICAgIC5zYmwtY2lyYyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDM1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMzVweDtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNWE1YTVhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZDtcclxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiByb3RhdGUgMXMgbGluZWFyIGluZmluaXRlOyBcclxuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogNXB4IGF1dG87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzIHJvdGF0ZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDApOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAxMDAlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlcy1jb250ZW50IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5zY3JvbGwtZGlzYWJsZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlcy1jb250ZW50IDo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDBweDtcclxuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLm1lc3NhZ2VzLWNvbnRlbnQgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLm1lc3NhZ2VzLWNvbnRlbnQgOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtcmlnaHRfb3duZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXgtZmxvdzogcm93LXJldmVyc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogN3B4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1sZWZ0X293bmVyIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBlbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgMTBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiA3cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LWxlZnRfb3duZXIgLm1lc3NhZ2UtdGltZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA1MCU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtbGVmdF9vd25lciAucmVtb3ZlZC1tZXNzYWdlLCAuY29udGVudC1yaWdodF9vd25lciAucmVtb3ZlZC1tZXNzYWdlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogNTAlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkOWQ3ZDc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI3cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM3Njc1NzU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtbGVmdF9vd25lciAucmVtb3ZlZC1tZXNzYWdlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5yZW1vdmVkLW1lc3NhZ2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5tZXNzYWdlLXRpbWUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDUwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1sZWZ0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBkaXYuc2VwYXJhdGUtcCAuZWRpdGVkLW1zZywgXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtcmlnaHRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wIC5lZGl0ZWQtbXNne1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LWxlZnRfb3duZXIgLmNyeXB0LW1lc3NhZ2UgPiBkaXYuc2VwYXJhdGUtcCwgXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtcmlnaHRfb3duZXIgLmNyeXB0LW1lc3NhZ2UgPiBkaXYuc2VwYXJhdGUtcCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyN3B4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1sZWZ0X293bmVyIC5jcnlwdC1tZXNzYWdlID4gZGl2LnNlcGFyYXRlLXAgaW1nLCBcclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1yaWdodF9vd25lciAuY3J5cHQtbWVzc2FnZSA+IGRpdi5zZXBhcmF0ZS1wIGltZ3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDMwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LWxlZnRfb3duZXIgLmNyeXB0LW1lc3NhZ2UgPiBkaXYuc2VwYXJhdGUtcDpiZWZvcmUsIC5jb250ZW50LXJpZ2h0X293bmVyIC5jcnlwdC1tZXNzYWdlID4gZGl2LnNlcGFyYXRlLXA6YmVmb3JlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAubWVzc2FnZS10aW1lIC5zdGF0dXMtbWVzc2FnZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM0MjQyNDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlLXRpbWU6aG92ZXIgPiBzcGFuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBzcGFuLFxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LWxlZnRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IHNwYW4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAuNHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogOXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IC0xM3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbi13aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogM3B4IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXgtc2hyaW5rOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtcmlnaHRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wIC5lZGl0LXJlbW92ZSBpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHggNHB4OyAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1yaWdodF9vd25lciAubWVzc2FnZS10aW1lID4gZGl2LnNlcGFyYXRlLXAgLmVkaXQtcmVtb3ZlIGkubG5yLXBlbmNpbDphZnRlcntcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhpcy5zdGF0ZS5yaWdodENvbG9yfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogLTVweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtcmlnaHRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wIC5lZGl0LXJlbW92ZSBpLmxuci1jcm9zczphZnRlcntcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhpcy5zdGF0ZS5yaWdodENvbG9yfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogLTVweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtcmlnaHRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wIC5lZGl0LXJlbW92ZSAucmVtb3ZlLWNvbmZpcm0tY29udGFpbmVyIHAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDRweCAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBkaXYuc2VwYXJhdGUtcCAuZWRpdC1yZW1vdmUgLnJlbW92ZS1jb25maXJtLWNvbnRhaW5lciBwID4gYTpmaXJzdC1jaGlsZHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxOXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDdweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLnN0YXRlLnJpZ2h0Q29sb3J9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgLm9wZW5lZC1wb3AtY29uZmlybS1yZW1vdmUgLmVkaXQtcmVtb3ZlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IC0xOHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBkaXYuc2VwYXJhdGUtcCAuZWRpdC1yZW1vdmUgLnJlbW92ZS1jb25maXJtLWNvbnRhaW5lciBwID4gYTpsYXN0LWNoaWxke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDE5cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDI1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNjNWNiY2E7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1yaWdodF9vd25lciAubWVzc2FnZS10aW1lID4gZGl2LnNlcGFyYXRlLXAgLmVkaXQtcmVtb3ZlIC5yZW1vdmUtY29uZmlybS1jb250YWluZXJ7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMjBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDE0cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDU1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDIyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAuNHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1yaWdodF9vd25lciAubWVzc2FnZS10aW1lID4gZGl2LnNlcGFyYXRlLXAgLmVkaXQtcmVtb3ZlIC5yZW1vdmUtY29uZmlybS1jb250YWluZXI6YWZ0ZXJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjZGNkY2RjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtNHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDIxcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1yaWdodF9vd25lciAubWVzc2FnZS10aW1lID4gZGl2LnNlcGFyYXRlLXAgLmVkaXQtcmVtb3ZlIC5yZW1vdmUtY29uZmlybS1jb250YWluZXI6YmVmb3Jle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgI2ZmZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogLTNweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLW1zLXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAyMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAyMjtcclxuICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIC5vcGVuZWQtcG9wLWNvbmZpcm0tcmVtb3ZlIC5yZW1vdmUtY29uZmlybS1jb250YWluZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLm9wZW5lZC1wb3AtY29uZmlybS1yZW1vdmUgKyAudGltZS13cmFwIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtcmlnaHRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wIC5lZGl0LXJlbW92ZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAtMTVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJHt0aGlzLnN0YXRlLnJpZ2h0Q29sb3J9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMThweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiA5cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjdweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC1tcy1mbGV4LXBhY2s6IGp1c3RpZnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IC4ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1yaWdodF9vd25lciAubWVzc2FnZS10aW1lID4gZGl2LnNlcGFyYXRlLXA6aG92ZXIgLmVkaXQtcmVtb3Zle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAtMThweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtcmlnaHRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wIC5lZGl0LXJlbW92ZTphZnRlcntcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAuOHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMThweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1yaWdodF9vd25lciAubWVzc2FnZS10aW1lID4gZGl2LnNlcGFyYXRlLXAgLmVkaXQtcmVtb3ZlOmJlZm9yZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtMXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI3cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwLjhweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAub3BlbmVkLWVuY3J5cHRQb3BVcCAuZWRpdC1yZW1vdmUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBkaXYuc2VwYXJhdGUtcCAuZW5jcnlwdFBvcFVwLFxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LWxlZnRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wIC5lbmNyeXB0UG9wVXB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBkaXYuc2VwYXJhdGUtcCAuZW5jcnlwdFBvcFVwIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogLTMwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LWxlZnRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wIC5lbmNyeXB0UG9wVXB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtMzBweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLm9wZW5lZC1lbmNyeXB0UG9wVXAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdlN2U3ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAub3BlbmVkLWVuY3J5cHRQb3BVcDpiZWZvcmUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItbGVmdC1jb2xvcjogI2U3ZTdlNyAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAub3BlbmVkLWVuY3J5cHRQb3BVcCAuZW5jcnlwdFBvcFVwe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuY29udGVudC1yaWdodF9vd25lciAubWVzc2FnZS10aW1lID4gZGl2LnNlcGFyYXRlLXAsXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQtbGVmdF9vd25lciAubWVzc2FnZS10aW1lID4gZGl2LnNlcGFyYXRlLXAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246bGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIDAgNXB4IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiAyN3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBkaXYuc2VwYXJhdGUtcCwgLmNvbnRlbnQtcmlnaHRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IHNwYW4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuc3RhdGUucmlnaHRDb2xvcn07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LWxlZnRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wLCAuY29udGVudC1sZWZ0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBzcGFuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLnN0YXRlLmxlZnRDb2xvcn07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LXJpZ2h0X293bmVyIC5tZXNzYWdlLXRpbWUgPiBkaXYuc2VwYXJhdGUtcDpiZWZvcmUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgJHt0aGlzLnN0YXRlLnJpZ2h0Q29sb3J9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtM3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiA3cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50LWxlZnRfb3duZXIgLm1lc3NhZ2UtdGltZSA+IGRpdi5zZXBhcmF0ZS1wOmJlZm9yZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAke3RoaXMuc3RhdGUubGVmdENvbG9yfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAtM3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMTgwZGVnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiA3cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC5pcy10eXBpbmctd3JhcCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA3cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmlzLXR5cGluZy13cmFwIC5zcGlubmVyeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5Qcml2YXRlTWVzc2FnZUNvbnRlbnQucHJvcFR5cGVzID0ge1xyXG4gICAgbWVzc2FnZXNIYXZlQmVlbkRlbGV0ZWQ6IFByb3BUeXBlcy5mdW5jLFxyXG59O1xyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHtcclxuICAgIGxvZ2dlZFVzZXI6IHN0YXRlLmNoYXQubG9nZ2VkVXNlcixcclxuICAgIGFjdGl2ZVVzZXI6IHN0YXRlLmNoYXQuYWN0aXZlVXNlcixcclxuICAgIG1lc3NhZ2VzOiBzdGF0ZS5jaGF0LmFjdGl2ZVVzZXJNZXNzYWdlcyxcclxuICAgIG1lc3NhZ2VzUGFnZTogc3RhdGUuY2hhdC5tZXNzYWdlc1BhZ2UsXHJcbn0pO1xyXG5cclxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0ge1xyXG4gICAgX19MT0FEX01PUkVfTUVTU0FHRVNcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXHJcbiAgICBtYXBTdGF0ZVRvUHJvcHMsXHJcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHNcclxuKShQcml2YXRlTWVzc2FnZUNvbnRlbnQpO1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\ruala\\\\\\\\Desktop\\\\\\\\ASahak\\\\\\\\daser\\\\\\\\next\\\\\\\\CryptoGraphy\\\\\\\\components\\\\\\\\elements\\\\\\\\PrivateMessageContent.jsx */\")));\n    }\n  }, {\n    key: \"FN\",\n    get: function get() {\n      return this.props.activeUser ? this.props.activeUser.fullName.split(' ')[0].slice(0, 1).toUpperCase() : '';\n    }\n  }, {\n    key: \"LN\",\n    get: function get() {\n      var _this$props$activeUse10;\n\n      return this.props.activeUser ? ((_this$props$activeUse10 = this.props.activeUser.fullName.split(' ')[1]) === null || _this$props$activeUse10 === void 0 ? void 0 : _this$props$activeUse10.slice(0, 1)) || ''.toUpperCase() : '';\n    }\n  }]);\n\n  return PrivateMessageContent;\n}(React.PureComponent);\n\nPrivateMessageContent.propTypes = {\n  messagesHaveBeenDeleted: PropTypes.func\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedUser: state.chat.loggedUser,\n    activeUser: state.chat.activeUser,\n    messages: state.chat.activeUserMessages,\n    messagesPage: state.chat.messagesPage\n  };\n};\n\nvar mapDispatchToProps = {\n  __LOAD_MORE_MESSAGES: __LOAD_MORE_MESSAGES\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(PrivateMessageContent);","map":{"version":3,"sources":["C:/Users/ruala/Desktop/ASahak/daser/next/CryptoGraphy/components/elements/PrivateMessageContent.jsx"],"names":["React","PropTypes","connect","UI_ELEMENTS","moment","Icon","debounce","__LOAD_MORE_MESSAGES","Bus","_EVERY_PAGE_LIMIT_MESSAGES","__getUserMessages","__detectCryptIcon","__EDIT_MESSAGE","__REMOVE_MESSAGE","PrivateMessageContent","props","state","leftColor","activeUser","color","rightColor","loggedUser","scrollLoadingAllow","messagesSelector","encryptIcon","scrollPosition","previousScrollHeight","previousScrollTop","loadingMessages","isEditing","isRemoving","editingMsgIndex","_messagesEnd","_handleDomClick","_handleClickRemove","__scrollToBottom","bind","__handleScrollTop","__showEncryptPopUp","__doEncryptType","__hidePopUpEncrypt","__editMessage","__removeMessageConfirm","__removeMessage","__clickRemovePopUp","_scrollContent","createRef","subscribe","setState","behavior","setTimeout","scrollIntoView","e","target","scrollTop","scrollHeight","evt","index","isKey","closest","_currentSrc","document","body","querySelector","setAttribute","classList","remove","dataIcon","getAttribute","isEncrypt","JSON","parse","forceUpdate","toggle","addEventListener","removeEventListener","stopPropagation","newEncryption","msg","time","messages","findIndex","idUser","id","myId","next","dispatch","alreadyDeclared","add","prevProps","prevState","snapshot","removedMessageIndex","removed","currentIndex","length","editedMsgIndex","message","editedArray","messagesHaveBeenDeleted","messagesPage","data","page","scrollTo","onscroll","unsubscribe","el","map","_isOwner","owner","_dataMSG","fullName","split","encryptType","key","decryptedMsg","encryptedMsg","edited","format","isSeen","isTyping","FN","LN","slice","toUpperCase","PureComponent","propTypes","func","mapStateToProps","chat","activeUserMessages","mapDispatchToProps"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SACIC,oBADJ,QAEO,eAFP;AAGA,SAASC,GAAT,QAAoB,+BAApB;AACA,SACIC,0BADJ,QAEO,qCAFP;AAGA,SAASC,iBAAT,QAAkC,gBAAlC;AACA,SACIC,iBADJ,QAEO,4CAFP;AAGA,SACIC,cADJ,EAEIC,gBAFJ,QAGO,YAHP;;IAKMC,qB;;;;;AACF,iCAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAAA;;AAChB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,MAAKF,KAAL,CAAWG,UAAX,8BAAyB,MAAKH,KAAL,CAAWG,UAApC,0DAAyB,sBAAuBC,KAAhD,KAAyD,SAD3D;AAETC,MAAAA,UAAU,EAAE,MAAKL,KAAL,CAAWG,UAAX,8BAAyB,MAAKH,KAAL,CAAWM,UAApC,0DAAyB,sBAAuBF,KAAhD,KAAyD,SAF5D;AAGTG,MAAAA,kBAAkB,EAAE,IAHX;AAITC,MAAAA,gBAAgB,EAAE,EAJT;AAKTC,MAAAA,WAAW,EAAE,IALJ;AAMTC,MAAAA,cAAc,EAAE,IANP;AAOTC,MAAAA,oBAAoB,EAAE,CAPb;AAQTC,MAAAA,iBAAiB,EAAE,CARV;AASTC,MAAAA,eAAe,EAAE,KATR;AAUTC,MAAAA,SAAS,EAAE,KAVF;AAWTC,MAAAA,UAAU,EAAE,KAXH;AAYTC,MAAAA,eAAe,EAAE;AAZR,KAAb;AAcA,UAAKC,YAAL,GAA8B,IAA9B;AACA,UAAKC,eAAL,GAA8B,IAA9B;AACA,UAAKC,kBAAL,GAA8B,IAA9B;AACA,UAAKC,gBAAL,GAA8B,MAAKA,gBAAL,CAAsBC,IAAtB,+BAA9B;AACA,UAAKC,iBAAL,GAA8B,MAAKA,iBAAL,CAAuBD,IAAvB,+BAA9B;AACA,UAAKE,kBAAL,GAA8B,MAAKA,kBAAL,CAAwBF,IAAxB,+BAA9B;AACA,UAAKG,eAAL,GAA8B,MAAKA,eAAL,CAAqBH,IAArB,+BAA9B;AACA,UAAKI,kBAAL,GAA8B,MAAKA,kBAAL,CAAwBJ,IAAxB,+BAA9B;AACA,UAAKK,aAAL,GAA8B,MAAKA,aAAL,CAAmBL,IAAnB,+BAA9B;AACA,UAAKM,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BN,IAA5B,+BAA9B;AACA,UAAKO,eAAL,GAA8B,MAAKA,eAAL,CAAqBP,IAArB,+BAA9B;AACA,UAAKQ,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBR,IAAxB,+BAA1B;AACA,UAAKS,cAAL,GAA0B7C,KAAK,CAAC8C,SAAN,EAA1B;AACAtC,IAAAA,GAAG,CAACuC,SAAJ,CAAc,eAAd,EAA+B,YAAM;AACjC,YAAKC,QAAL,CAAc;AACVnB,QAAAA,SAAS,EAAE;AADD,OAAd;AAGH,KAJD;AAKArB,IAAAA,GAAG,CAACuC,SAAJ,CAAc,YAAd,EAA4B,YAAM;AAC9B,YAAKC,QAAL,CAAc;AACVnB,QAAAA,SAAS,EAAE,KADD;AAEVC,QAAAA,UAAU,EAAE,KAFF;AAGVC,QAAAA,eAAe,EAAE;AAHP,OAAd;AAKH,KAND;AAlCgB;AAyCnB;;;;qCACiBkB,Q,EAAU;AAAA;;AACxBC,MAAAA,UAAU,CAAC,YAAM;AAAA;;AACb,+BAAA,MAAI,CAAClB,YAAL,4EAAmBmB,cAAnB,CAAkC;AAAEF,UAAAA,QAAQ,EAAGA,QAAQ,GAAG,QAAH,GAAc;AAAnC,SAAlC;AACH,OAFS,EAEP,CAFO,CAAV;AAGH;;;sCAEkBG,C,EAAG;AAAA;;AAElB,UAAI,KAAKpC,KAAL,CAAWM,kBAAX,IAAiC8B,CAAC,CAACC,MAAF,CAASC,SAAT,GAAqB,EAA1D,EAA8D;AAAA;;AAC1D,aAAKN,QAAL,CAAc;AACVrB,UAAAA,iBAAiB,0BAAE,KAAKkB,cAAP,yDAAE,qBAAqBS,SAD9B;AAEV5B,UAAAA,oBAAoB,2BAAE,KAAKmB,cAAP,0DAAE,sBAAqBU,YAFjC;AAGVjC,UAAAA,kBAAkB,EAAE,KAHV;AAIVM,UAAAA,eAAe,EAAE;AAJP,SAAd,EAKG,YAAM;AACLsB,UAAAA,UAAU,CAAC,YAAM;AACb,YAAA,MAAI,CAACnC,KAAL,CAAWR,oBAAX,CAAgC,CAAhC;AACH,WAFS,EAEP,IAFO,CAAV;AAGH,SATD;AAUH,OAXD,MAWO;AACH,aAAKyC,QAAL,CAAc;AACV1B,UAAAA,kBAAkB,EAAE;AADV,SAAd;AAGH;AACJ;;;uCAEmBkC,G,EAAKC,K,EAAOC,K,EAAO;AAAA;;AACnC,UAAIF,GAAG,CAACH,MAAJ,CAAWM,OAAX,CAAmB,2BAAnB,CAAJ,EAAqD;;AAErD,UAAMC,WAAW,GAAGJ,GAAG,CAACH,MAAJ,CAAWM,OAAX,CAAmB,aAAnB,CAApB;;AACA,UAAIE,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,sBAA5B,KACAF,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,sBAA5B,MAAwDH,WAD5D,EAEE;AACEC,QAAAA,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,sBAA5B,EAAoDC,YAApD,CAAiE,mBAAjE,EAAsF,KAAtF;AACAH,QAAAA,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,sBAA5B,EAAoDE,SAApD,CAA8DC,MAA9D,CAAqE,qBAArE;AACH;;AACD,UAAIR,KAAJ,EAAW;;AACX,UAAIE,WAAJ,EAAiB;AACb,YAAMO,QAAQ,GAAGP,WAAW,CAACQ,YAAZ,CAAyB,mBAAzB,CAAjB;;AACA,aAAKpD,KAAL,CAAWO,gBAAX,sBAAkC,KAAKP,KAAL,CAAWO,gBAA7C;AACA,aAAKP,KAAL,CAAWO,gBAAX,CAA4BkC,KAA5B,EAAmCY,SAAnC,GAA+C,KAA/C;AACA,aAAKrB,QAAL,CAAc;AACVxB,UAAAA,WAAW,EAAE8C,IAAI,CAACC,KAAL,CAAWJ,QAAX,CADH;AAEV5C,UAAAA,gBAAgB,EAAE,KAAKP,KAAL,CAAWO;AAFnB,SAAd,EAGG;AAAA,iBAAM,MAAI,CAACiD,WAAL,EAAN;AAAA,SAHH;;AAIAZ,QAAAA,WAAW,CAACK,SAAZ,CAAsBQ,MAAtB,CAA6B,qBAA7B;AACH;;AACDvB,MAAAA,UAAU,CAAC,YAAM;AACbwB,QAAAA,gBAAgB,CAAC,OAAD,EAAU,MAAI,CAACzC,eAAL,GAAuB,MAAI,CAACO,kBAAL,CAAwBJ,IAAxB,CAA6B,MAA7B,EAAmCqB,KAAnC,CAAjC,CAAhB;AACH,OAFS,EAEP,CAFO,CAAV;AAGH;;;uCAEmBA,K,EAAOL,C,EAAG;AAAA;;AAC1B,WAAKpC,KAAL,CAAWO,gBAAX,sBAAkC,KAAKP,KAAL,CAAWO,gBAA7C;AACA,aAAO,KAAKP,KAAL,CAAWO,gBAAX,CAA4BkC,KAA5B,EAAmCY,SAA1C;AACA,WAAKrB,QAAL,CAAc;AACVzB,QAAAA,gBAAgB,EAAE,KAAKP,KAAL,CAAWO;AADnB,OAAd,EAEG;AAAA,eAAM,MAAI,CAACiD,WAAL,EAAN;AAAA,OAFH;AAIAG,MAAAA,mBAAmB,CAAC,OAAD,EAAU,KAAK1C,eAAf,CAAnB;;AACA,UAAI,CAACmB,CAAC,CAACC,MAAF,CAASM,OAAT,CAAiB,wBAAjB,CAAD,IAA+CE,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,sBAA5B,CAAnD,EAAwG;AACpGF,QAAAA,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,sBAA5B,EAAoDC,YAApD,CAAiE,mBAAjE,EAAsF,KAAtF;AACAH,QAAAA,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,sBAA5B,EAAoDE,SAApD,CAA8DC,MAA9D,CAAqE,qBAArE;AACH;AACJ;;;oCAEgBd,C,EAAGK,K,EAAO;AAAA;;AACvB,UAAMG,WAAW,GAAGR,CAAC,CAACC,MAAF,CAASM,OAAT,CAAiB,aAAjB,CAApB;;AACAP,MAAAA,CAAC,CAACwB,eAAF;AAEA,WAAK5B,QAAL,CAAc;AACVxB,QAAAA,WAAW,EAAE,CAAC,KAAKR,KAAL,CAAWQ;AADf,OAAd,EAEG,YAAM;AACLoC,QAAAA,WAAW,CAACI,YAAZ,CAAyB,mBAAzB,EAA8C,MAAI,CAAChD,KAAL,CAAWQ,WAAzD;;AACA,YAAMqD,aAAa,sBAAO,MAAI,CAAC7D,KAAL,CAAWO,gBAAlB,CAAnB;;AACAsD,QAAAA,aAAa,CAACpB,KAAD,CAAb,CAAqBY,SAArB,GAAiC,MAAI,CAACrD,KAAL,CAAWQ,WAA5C;;AACA,QAAA,MAAI,CAACwB,QAAL,CAAc;AACVzB,UAAAA,gBAAgB,EAAEsD;AADR,SAAd;AAGH,OATD;AAUH;;;kCAEcrB,G,EAAKsB,G,EAAKC,I,EAAM;AAAA;;AAC3B,UAAMtB,KAAK,GAAG,KAAK1C,KAAL,CAAWiE,QAAX,CAAoBC,SAApB,CAA8B,UAAAH,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,KAAaA,IAAjB;AAAA,OAAjC,CAAd;;AACAnE,MAAAA,cAAc,CAAC,IAAD,EAAO6C,KAAP,EAAc;AAACyB,QAAAA,MAAM,4BAAE,KAAKnE,KAAL,CAAWG,UAAb,2DAAE,uBAAuBiE,EAAhC;AAAoCC,QAAAA,IAAI,4BAAE,KAAKrE,KAAL,CAAWM,UAAb,2DAAE,uBAAuB8D;AAAjE,OAAd,CAAd,CAAkGE,IAAlG;;AACA7B,MAAAA,GAAG,CAACoB,eAAJ;AACA,WAAK5B,QAAL,CAAc;AACVnB,QAAAA,SAAS,EAAE,IADD;AAEVE,QAAAA,eAAe,EAAE0B;AAFP,OAAd,EAGG,YAAM;AACLjD,QAAAA,GAAG,CAAC8E,QAAJ,CAAa,aAAb,EAA4B;AAACR,UAAAA,GAAG,EAAHA,GAAD;AAAMrB,UAAAA,KAAK,EAALA;AAAN,SAA5B;AACH,OALD;AAMH;;;2CAEwBD,G,EAAK;AAAA;AAAA;;AAC1BA,MAAAA,GAAG,CAACoB,eAAJ;;AACA,UAAMhB,WAAW,GAAQJ,GAAG,CAACH,MAAJ,CAAWM,OAAX,CAAmB,aAAnB,CAAzB;;AACA,UAAM4B,eAAe,0BAAI/B,GAAG,CAACH,MAAJ,CAAWM,OAAX,CAAmB,mBAAnB,CAAJ,wDAAI,oBAAyCI,aAAzC,CAAuD,4BAAvD,CAAzB;;AACA,UAAIwB,eAAJ,EAAqB;AACjBA,QAAAA,eAAe,CAACtB,SAAhB,CAA0BC,MAA1B,CAAiC,2BAAjC;AACH;;AACDN,MAAAA,WAAW,CAACK,SAAZ,CAAsBuB,GAAtB,CAA0B,2BAA1B;;AACAtC,MAAAA,UAAU,CAAC,YAAM;AACbwB,QAAAA,gBAAgB,CAAC,OAAD,EAAU,MAAI,CAACxC,kBAAL,GAA0B,MAAI,CAACU,kBAAL,CAAwBR,IAAxB,CAA6B,MAA7B,CAApC,CAAhB;AACH,OAFS,EAEP,CAFO,CAAV;AAGH;;;oCAEgB2C,I,EAAM;AAAA;;AACnBlE,MAAAA,gBAAgB,CAACkE,IAAD,EAAO;AAACG,QAAAA,MAAM,4BAAE,KAAKnE,KAAL,CAAWG,UAAb,2DAAE,uBAAuBiE,EAAhC;AAAoCC,QAAAA,IAAI,4BAAE,KAAKrE,KAAL,CAAWM,UAAb,2DAAE,uBAAuB8D;AAAjE,OAAP,CAAhB,CAA6FE,IAA7F;AACH;;;uCAEmB7B,G,EAAK;AAAA;;AACrB,UAAM+B,eAAe,2BAAI/B,GAAG,CAACH,MAAJ,CAAWM,OAAX,CAAmB,mBAAnB,CAAJ,yDAAI,qBAAyCI,aAAzC,CAAuD,4BAAvD,CAAzB;;AACA,UAAIwB,eAAe,IAAI,CAAC/B,GAAG,CAACH,MAAJ,CAAWM,OAAX,CAAmB,2BAAnB,CAApB,IAAuEH,GAAG,CAACH,MAAJ,CAAWM,OAAX,CAAmB,uBAAnB,CAA3E,EAAwH;AACpH4B,QAAAA,eAAe,CAACtB,SAAhB,CAA0BC,MAA1B,CAAiC,2BAAjC;AACAS,QAAAA,mBAAmB,CAAC,OAAD,EAAU,KAAKzC,kBAAf,CAAnB;AACH;AACJ;;;uCAEkBuD,S,EAAWC,S,EAAWC,Q,EAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAC/C;AACA;AACA;AAEA;AACA,UAAI,gCAAK5E,KAAL,CAAWG,UAAX,kFAAuB0E,mBAAvB,KAA8C,CAA9C,KACC,0BAAAH,SAAS,CAACT,QAAV,CAAmB,KAAKjE,KAAL,CAAWG,UAAX,CAAsB0E,mBAAzC,iFAA+DC,OAA/D,gCAA2E,KAAK9E,KAAL,CAAWiE,QAAX,CAAoB,KAAKjE,KAAL,CAAWG,UAAX,CAAsB0E,mBAA1C,CAA3E,0DAA2E,sBAAgEC,OAA3I,KACD,CAAE,YAAM;AAAA;;AACJ,YAAMC,YAAY,GAAG,MAAI,CAAC9E,KAAL,CAAWO,gBAAX,CAA4BwE,MAA5B,IAAsC,MAAI,CAAChF,KAAL,CAAWiE,QAAX,CAAoBe,MAApB,GAA6B,MAAI,CAAChF,KAAL,CAAWG,UAAX,CAAsB0E,mBAAzF,CAArB;AACA,YAAIE,YAAY,GAAG,CAAnB,EAAsB,OAAO,KAAP;AACtB,wCAAO,MAAI,CAAC9E,KAAL,CAAWO,gBAAX,CAA4BuE,YAA5B,CAAP,0DAAO,sBAA2CD,OAAlD;AACH,OAJA,EAFD,CAAJ,EAOE;AACE,YAAMC,YAAY,GAAG,KAAK9E,KAAL,CAAWO,gBAAX,CAA4BwE,MAA5B,IAAsC,KAAKhF,KAAL,CAAWiE,QAAX,CAAoBe,MAApB,GAA6B,KAAKhF,KAAL,CAAWG,UAAX,CAAsB0E,mBAAzF,CAArB;;AACA,YAAIE,YAAY,IAAI,CAApB,EAAuB;AACnB,cAAMjB,aAAa,sBAAO,KAAK7D,KAAL,CAAWO,gBAAlB,CAAnB;;AACA,cAAIsD,aAAa,CAACiB,YAAD,CAAjB,EAAiC;AAC7BjB,YAAAA,aAAa,CAACiB,YAAD,CAAb,CAA4BD,OAA5B,GAAsC,IAAtC;AACA,iBAAK7C,QAAL,CAAc;AACVzB,cAAAA,gBAAgB,EAAEsD;AADR,aAAd;AAGH;AACJ;AACJ,OAxB8C,CA0B/C;;;AACA,UAAI,gCAAK9D,KAAL,CAAWG,UAAX,kFAAuB8E,cAAvB,KAAyC,CAAzC,KACC,KAAKjF,KAAL,CAAWiE,QAAX,2BAAoB,KAAKjE,KAAL,CAAWG,UAA/B,2DAAoB,uBAAuB8E,cAA3C,EAA2DC,OAA3D,KAAuER,SAAS,CAACT,QAAV,2BAAmB,KAAKjE,KAAL,CAAWG,UAA9B,2DAAmB,uBAAuB8E,cAA1C,EAA0DC,OAAjI,IACA,YAAM;AAAA;;AACH,YAAMH,YAAY,GAAG,MAAI,CAAC9E,KAAL,CAAWO,gBAAX,CAA4BwE,MAA5B,IAAsC,MAAI,CAAChF,KAAL,CAAWiE,QAAX,CAAoBe,MAApB,6BAA6B,MAAI,CAAChF,KAAL,CAAWG,UAAxC,0DAA6B,sBAAuB8E,cAApD,CAAtC,CAArB;AACA,YAAIF,YAAY,GAAG,CAAnB,EAAsB,OAAO,KAAP;AACtB,eAAO,MAAI,CAAC9E,KAAL,CAAWO,gBAAX,CAA4BuE,YAA5B,EAA0CG,OAA1C,KAAsD,MAAI,CAAClF,KAAL,CAAWiE,QAAX,2BAAoB,MAAI,CAACjE,KAAL,CAAWG,UAA/B,2DAAoB,uBAAuB8E,cAA3C,EAA2DC,OAAxH;AACH,OAJD,EAFA,CAAJ,EAOE;AAAA;;AACE,YAAMH,aAAY,GAAG,KAAK9E,KAAL,CAAWO,gBAAX,CAA4BwE,MAA5B,IAAsC,KAAKhF,KAAL,CAAWiE,QAAX,CAAoBe,MAApB,8BAA6B,KAAKhF,KAAL,CAAWG,UAAxC,2DAA6B,uBAAuB8E,cAApD,CAAtC,CAArB;;AACA,YAAIF,aAAY,IAAI,CAApB,EAAuB;AAAA;;AACnB,cAAMI,WAAW,sBAAO,KAAKlF,KAAL,CAAWO,gBAAlB,CAAjB;;AACA2E,UAAAA,WAAW,CAACJ,aAAD,CAAX,GAA4B,KAAK/E,KAAL,CAAWiE,QAAX,2BAAoB,KAAKjE,KAAL,CAAWG,UAA/B,2DAAoB,uBAAuB8E,cAA3C,CAA5B;AACA,eAAKhD,QAAL,CAAc;AACVnB,YAAAA,SAAS,EAAE,KADD;AAEVC,YAAAA,UAAU,EAAE,KAFF;AAGVC,YAAAA,eAAe,EAAE,IAHP;AAIVR,YAAAA,gBAAgB,EAAE2E;AAJR,WAAd;AAMH;AACJ,OA9C8C,CA+C/C;;;AACA,UAAI,KAAKnF,KAAL,CAAWiE,QAAX,CAAoBe,MAApB,KAA+B,CAA/B,IAAoC,KAAKhF,KAAL,CAAWiE,QAAX,CAAoB,CAApB,EAAuBiB,OAAvB,KAAmC,EAAvE,IAA6ER,SAAS,CAACT,QAAV,CAAmBe,MAAnB,KAA8B,CAA9B,IAAmCN,SAAS,CAACT,QAAV,CAAmB,CAAnB,EAAsBiB,OAAtB,KAAkC,EAAtJ,EAA0J;AACtJ,aAAKlF,KAAL,CAAWoF,uBAAX;AACH,OAlD8C,CAmD/C;;;AACA,UAAKV,SAAS,CAACW,YAAV,KAA2B,KAAKrF,KAAL,CAAWqF,YAAtC,IAAsDX,SAAS,CAACT,QAAV,CAAmBe,MAAnB,KAA8B,KAAKhF,KAAL,CAAWiE,QAAX,CAAoBe,MAA7G,EAAsH;AAClH,YAAI,CAAC,KAAKhF,KAAL,CAAWqF,YAAX,GAA0B,CAA3B,IAAgC3F,0BAAhC,IAA8D,KAAKM,KAAL,CAAWiE,QAAX,CAAoBe,MAAtF,EAA+F;AAC3F,eAAK/C,QAAL,CAAc;AACV1B,YAAAA,kBAAkB,EAAE,IADV;AAEVM,YAAAA,eAAe,EAAE,KAFP;AAGVL,YAAAA,gBAAgB,EAAEb,iBAAiB,CAAC;AAAC2F,cAAAA,IAAI,EAAE,KAAKtF,KAAL,CAAWiE,QAAlB;AAA4BsB,cAAAA,IAAI,EAAE,KAAKvF,KAAL,CAAWqF;AAA7C,aAAD;AAHzB,WAAd,EAIG,YAAM;AACL,gBAAIX,SAAS,CAACT,QAAV,CAAmBe,MAAnB,KAA8B,MAAI,CAAChF,KAAL,CAAWiE,QAAX,CAAoBe,MAAtD,EAA8D;AAC1D,cAAA,MAAI,CAAC5D,gBAAL,CAAsB,UAAtB;AACH,aAFD,MAEO;AACH,cAAA,MAAI,CAACU,cAAL,CAAoB0D,QAApB,CAA6B,CAA7B,EAAiC,MAAI,CAAC1D,cAAL,CAAoBU,YAApB,GAC7B,MAAI,CAACvC,KAAL,CAAWU,oBADkB,GACK,MAAI,CAACV,KAAL,CAAWW,iBADhB,GACoC,EADrE;AAEH;AACJ,WAXD;AAYH,SAbD,MAaO;AACH,eAAKZ,KAAL,CAAWR,oBAAX,CAAgC,CAAC,CAAjC;AACH;AACJ;AACJ;;;wCAEmB;AAAA;;AAChB,WAAKyC,QAAL,CAAc;AACVzB,QAAAA,gBAAgB,EAAEb,iBAAiB,CAAC;AAAC2F,UAAAA,IAAI,EAAE,KAAKtF,KAAL,CAAWiE,QAAlB;AAA4BsB,UAAAA,IAAI,EAAE,KAAKvF,KAAL,CAAWqF;AAA7C,SAAD;AADzB,OAAd,EAEG,YAAM;AACL,QAAA,MAAI,CAACvD,cAAL,CAAoB2D,QAApB,GAA+BlG,QAAQ,CAAC,UAAC8C,CAAD,EAAO;AAC3C,cAAI,MAAI,CAACrC,KAAL,CAAWiE,QAAX,CAAoBe,MAApB,GAA6BtF,0BAAjC,EAA6D;AACzD,YAAA,MAAI,CAAC4B,iBAAL,CAAuBe,CAAvB;AACH;AACJ,SAJsC,EAIpC,GAJoC,CAAvC;;AAKA,QAAA,MAAI,CAACjB,gBAAL;AACH,OATD;AAUH;;;2CAEsB;AACnBwC,MAAAA,mBAAmB,CAAC,OAAD,EAAU,KAAKzC,kBAAf,CAAnB;AACAyC,MAAAA,mBAAmB,CAAC,OAAD,EAAU,KAAK1C,eAAf,CAAnB;AACAzB,MAAAA,GAAG,CAACiG,WAAJ,CAAgB,eAAhB;AACAjG,MAAAA,GAAG,CAACiG,WAAJ,CAAgB,YAAhB;AACH;;;6BASS;AAAA;;AACN,aACI,4BACI;AAEI,QAAA,GAAG,EAAE,aAACC,EAAD;AAAA,iBAAQ,OAAI,CAAC7D,cAAL,GAAsB6D,EAA9B;AAAA,SAFT;AAAA,sDAmNsB,OAAI,CAAC1F,KAAL,CAAWI,UAnNjC,EA4NsB,OAAI,CAACJ,KAAL,CAAWI,UA5NjC,EA+O4B,OAAI,CAACJ,KAAL,CAAWI,UA/OvC,EAgUsB,OAAI,CAACJ,KAAL,CAAWI,UAhUjC,EAoa4B,OAAI,CAACJ,KAAL,CAAWI,UApavC,EAua4B,OAAI,CAACJ,KAAL,CAAWC,SAvavC,EA+aiC,OAAI,CAACD,KAAL,CAAWI,UA/a5C,EA2biC,OAAI,CAACJ,KAAL,CAAWC,SA3b5C,wCACmC,KAAKD,KAAL,CAAWY,eAAX,GAA6B,gBAA7B,GAAgD,EADnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGK,KAAKZ,KAAL,CAAWY,eAAX,IAA8B;AAAA,sDAgNb,OAAI,CAACZ,KAAL,CAAWI,UAhNE,EAyNb,OAAI,CAACJ,KAAL,CAAWI,UAzNE,EA4OP,OAAI,CAACJ,KAAL,CAAWI,UA5OJ,EA6Tb,OAAI,CAACJ,KAAL,CAAWI,UA7TE,EAiaP,OAAI,CAACJ,KAAL,CAAWI,UAjaJ,EAoaP,OAAI,CAACJ,KAAL,CAAWC,SApaJ,EA4aF,OAAI,CAACD,KAAL,CAAWI,UA5aT,EAwbF,OAAI,CAACJ,KAAL,CAAWC,SAxbT,aAAe,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHnC,EAIK,KAAKD,KAAL,CAAWO,gBAAX,CAA4BoF,GAA5B,CAAgC,UAACV,OAAD,EAAUxC,KAAV,EAAoB;AACjD,YAAMmD,QAAQ,GAAGX,OAAO,CAACY,KAAR,KAAkB,IAAnC;;AACA,YAAMC,QAAQ,GAAGF,QAAQ,GAAG,OAAI,CAAC7F,KAAL,CAAWM,UAAd,GAA2B,OAAI,CAACN,KAAL,CAAWG,UAA/D;;AACA,YAAI,CAAC4F,QAAL,EAAe,OAAO,EAAP;AACf,eACI;AAAK,UAAA,GAAG,EAAEb,OAAO,CAAClB,IAAR,GAAetB,KAAzB;AAAA,wDA0MU,OAAI,CAACzC,KAAL,CAAWI,UA1MrB,EAmNU,OAAI,CAACJ,KAAL,CAAWI,UAnNrB,EAsOgB,OAAI,CAACJ,KAAL,CAAWI,UAtO3B,EAuTU,OAAI,CAACJ,KAAL,CAAWI,UAvTrB,EA2ZgB,OAAI,CAACJ,KAAL,CAAWI,UA3Z3B,EA8ZgB,OAAI,CAACJ,KAAL,CAAWC,SA9Z3B,EAsaqB,OAAI,CAACD,KAAL,CAAWI,UAtahC,EAkbqB,OAAI,CAACJ,KAAL,CAAWC,SAlbhC,eAA2C2F,QAAQ,GAAG,qBAAH,GAA2B,oBAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,WAAD,CAAa,SAAb;AACI,UAAA,SAAS,EAAEE,QAAQ,CAACC,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CADf;AAEI,UAAA,QAAQ,EAAEF,QAAQ,CAACC,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,KAAmC,EAFjD;AAGI,UAAA,IAAI,EAAEF,QAAQ,CAAC3F,KAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAMK8E,OAAO,CAACJ,OAAR,GAAkB;AAAA,wDAoMb,OAAI,CAAC7E,KAAL,CAAWI,UApME,EA6Mb,OAAI,CAACJ,KAAL,CAAWI,UA7ME,EAgOP,OAAI,CAACJ,KAAL,CAAWI,UAhOJ,EAiTb,OAAI,CAACJ,KAAL,CAAWI,UAjTE,EAqZP,OAAI,CAACJ,KAAL,CAAWI,UArZJ,EAwZP,OAAI,CAACJ,KAAL,CAAWC,SAxZJ,EAgaF,OAAI,CAACD,KAAL,CAAWI,UAhaT,EA4aF,OAAI,CAACJ,KAAL,CAAWC,SA5aT,aAAe,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAlB,GACD;AACK,+BAAmBgF,OAAO,CAACgB,WADhC;AAEK,8BAAkBhB,OAAO,CAACiB,GAF/B;AAAA,wDAmMM,OAAI,CAAClG,KAAL,CAAWI,UAnMjB,EA4MM,OAAI,CAACJ,KAAL,CAAWI,UA5MjB,EA+NY,OAAI,CAACJ,KAAL,CAAWI,UA/NvB,EAgTM,OAAI,CAACJ,KAAL,CAAWI,UAhTjB,EAoZY,OAAI,CAACJ,KAAL,CAAWI,UApZvB,EAuZY,OAAI,CAACJ,KAAL,CAAWC,SAvZvB,EA+ZiB,OAAI,CAACD,KAAL,CAAWI,UA/Z5B,EA2aiB,OAAI,CAACJ,KAAL,CAAWC,SA3a5B,oCAAgCN,iBAAiB,CAACsF,OAAD,CAAjB,GAA6B,eAA7B,GAA+C,EAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGI;AAEI,UAAA,OAAO,EAAE,iBAAC7C,CAAD;AAAA,mBAAO,OAAI,CAACd,kBAAL,CAAwBc,CAAxB,EAA2BK,KAA3B,EAAkC9C,iBAAiB,CAACsF,OAAD,CAAnD,CAAP;AAAA,WAFb;AAGI,+BAAmB,KAHvB;AAAA,wDAgME,OAAI,CAACjF,KAAL,CAAWI,UAhMb,EAyME,OAAI,CAACJ,KAAL,CAAWI,UAzMb,EA4NQ,OAAI,CAACJ,KAAL,CAAWI,UA5NnB,EA6SE,OAAI,CAACJ,KAAL,CAAWI,UA7Sb,EAiZQ,OAAI,CAACJ,KAAL,CAAWI,UAjZnB,EAoZQ,OAAI,CAACJ,KAAL,CAAWC,SApZnB,EA4Za,OAAI,CAACD,KAAL,CAAWI,UA5ZxB,EAwaa,OAAI,CAACJ,KAAL,CAAWC,SAxaxB,aACc,YADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKM2F,QAAQ,IAAI,CAACjG,iBAAiB,CAACsF,OAAD,CAA9B,IAA4C,CAAC,OAAI,CAACjF,KAAL,CAAWa,SAAZ,IAAyB,CAAC,OAAI,CAACb,KAAL,CAAWc,UAAlF,IACD;AAAA,wDA0LF,OAAI,CAACd,KAAL,CAAWI,UA1LT,EAmMF,OAAI,CAACJ,KAAL,CAAWI,UAnMT,EAsNI,OAAI,CAACJ,KAAL,CAAWI,UAtNf,EAuSF,OAAI,CAACJ,KAAL,CAAWI,UAvST,EA2YI,OAAI,CAACJ,KAAL,CAAWI,UA3Yf,EA8YI,OAAI,CAACJ,KAAL,CAAWC,SA9Yf,EAsZS,OAAI,CAACD,KAAL,CAAWI,UAtZpB,EAkaS,OAAI,CAACJ,KAAL,CAAWC,SAlapB,aAAgB,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAA8B,UAAA,OAAO,EAAE,iBAACmC,CAAD;AAAA,mBAAO,OAAI,CAACX,aAAL,CAAmBW,CAAnB,EAAsB6C,OAAtB,EAA+BA,OAAO,CAAClB,IAAvC,CAAP;AAAA,WAAvC;AAAA,wDAyLN,OAAI,CAAC/D,KAAL,CAAWI,UAzLL,EAkMN,OAAI,CAACJ,KAAL,CAAWI,UAlML,EAqNA,OAAI,CAACJ,KAAL,CAAWI,UArNX,EAsSN,OAAI,CAACJ,KAAL,CAAWI,UAtSL,EA0YA,OAAI,CAACJ,KAAL,CAAWI,UA1YX,EA6YA,OAAI,CAACJ,KAAL,CAAWC,SA7YX,EAqZK,OAAI,CAACD,KAAL,CAAWI,UArZhB,EAiaK,OAAI,CAACJ,KAAL,CAAWC,SAjahB,aAAa,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI;AAA6B,UAAA,OAAO,EAAE,iBAACmC,CAAD;AAAA,mBAAO,OAAI,CAACV,sBAAL,CAA4BU,CAA5B,CAAP;AAAA,WAAtC;AAAA,wDAwLN,OAAI,CAACpC,KAAL,CAAWI,UAxLL,EAiMN,OAAI,CAACJ,KAAL,CAAWI,UAjML,EAoNA,OAAI,CAACJ,KAAL,CAAWI,UApNX,EAqSN,OAAI,CAACJ,KAAL,CAAWI,UArSL,EAyYA,OAAI,CAACJ,KAAL,CAAWI,UAzYX,EA4YA,OAAI,CAACJ,KAAL,CAAWC,SA5YX,EAoZK,OAAI,CAACD,KAAL,CAAWI,UApZhB,EAgaK,OAAI,CAACJ,KAAL,CAAWC,SAhahB,aAAa,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,EAGI;AAAA,wDAuLN,OAAI,CAACD,KAAL,CAAWI,UAvLL,EAgMN,OAAI,CAACJ,KAAL,CAAWI,UAhML,EAmNA,OAAI,CAACJ,KAAL,CAAWI,UAnNX,EAoSN,OAAI,CAACJ,KAAL,CAAWI,UApSL,EAwYA,OAAI,CAACJ,KAAL,CAAWI,UAxYX,EA2YA,OAAI,CAACJ,KAAL,CAAWC,SA3YX,EAmZK,OAAI,CAACD,KAAL,CAAWI,UAnZhB,EA+ZK,OAAI,CAACJ,KAAL,CAAWC,SA/ZhB,aAAe,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAEI;AAAA,wDAqLV,OAAI,CAACD,KAAL,CAAWI,UArLD,EA8LV,OAAI,CAACJ,KAAL,CAAWI,UA9LD,EAiNJ,OAAI,CAACJ,KAAL,CAAWI,UAjNP,EAkSV,OAAI,CAACJ,KAAL,CAAWI,UAlSD,EAsYJ,OAAI,CAACJ,KAAL,CAAWI,UAtYP,EAyYJ,OAAI,CAACJ,KAAL,CAAWC,SAzYP,EAiZC,OAAI,CAACD,KAAL,CAAWI,UAjZZ,EA6ZC,OAAI,CAACJ,KAAL,CAAWC,SA7ZZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA,wDAoLd,OAAI,CAACD,KAAL,CAAWI,UApLG,EA6Ld,OAAI,CAACJ,KAAL,CAAWI,UA7LG,EAgNR,OAAI,CAACJ,KAAL,CAAWI,UAhNH,EAiSd,OAAI,CAACJ,KAAL,CAAWI,UAjSG,EAqYR,OAAI,CAACJ,KAAL,CAAWI,UArYH,EAwYR,OAAI,CAACJ,KAAL,CAAWC,SAxYH,EAgZH,OAAI,CAACD,KAAL,CAAWI,UAhZR,EA4ZH,OAAI,CAACJ,KAAL,CAAWC,SA5ZR,aAAa,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAG,UAAA,OAAO,EAAE;AAAA,mBAAM,OAAI,CAAC0B,eAAL,CAAqBsD,OAAO,CAAClB,IAA7B,CAAN;AAAA,WAAZ;AAAA,wDAmLd,OAAI,CAAC/D,KAAL,CAAWI,UAnLG,EA4Ld,OAAI,CAACJ,KAAL,CAAWI,UA5LG,EA+MR,OAAI,CAACJ,KAAL,CAAWI,UA/MH,EAgSd,OAAI,CAACJ,KAAL,CAAWI,UAhSG,EAoYR,OAAI,CAACJ,KAAL,CAAWI,UApYH,EAuYR,OAAI,CAACJ,KAAL,CAAWC,SAvYH,EA+YH,OAAI,CAACD,KAAL,CAAWI,UA/YR,EA2ZH,OAAI,CAACJ,KAAL,CAAWC,SA3ZR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CAFJ,CAHJ,CANJ,EAkBI;AACM,UAAA,OAAO,EAAE,iBAACmC,CAAD;AAAA,mBAAO,OAAI,CAACb,eAAL,CAAqBa,CAArB,EAAwBK,KAAxB,CAAP;AAAA,WADf;AAAA,wDA8KF,OAAI,CAACzC,KAAL,CAAWI,UA9KT,EAuLF,OAAI,CAACJ,KAAL,CAAWI,UAvLT,EA0MI,OAAI,CAACJ,KAAL,CAAWI,UA1Mf,EA2RF,OAAI,CAACJ,KAAL,CAAWI,UA3RT,EA+XI,OAAI,CAACJ,KAAL,CAAWI,UA/Xf,EAkYI,OAAI,CAACJ,KAAL,CAAWC,SAlYf,EA0YS,OAAI,CAACD,KAAL,CAAWI,UA1YpB,EAsZS,OAAI,CAACJ,KAAL,CAAWC,SAtZpB,aAAgB,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEK,OAAI,CAACD,KAAL,CAAWQ,WAAX,GAAyB,MAAC,IAAD;AAAM,UAAA,IAAI,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAzB,GACD,MAAC,IAAD;AAAM,UAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHJ,CAlBJ,EAwBKb,iBAAiB,CAACsF,OAAD,CAAjB,GAA6B;AAAK,UAAA,GAAG,EAAC,yBAAT;AAAmC,UAAA,GAAG,EAAC,UAAvC;AAAA,wDAwKhC,OAAI,CAACjF,KAAL,CAAWI,UAxKqB,EAiLhC,OAAI,CAACJ,KAAL,CAAWI,UAjLqB,EAoM1B,OAAI,CAACJ,KAAL,CAAWI,UApMe,EAqRhC,OAAI,CAACJ,KAAL,CAAWI,UArRqB,EAyX1B,OAAI,CAACJ,KAAL,CAAWI,UAzXe,EA4X1B,OAAI,CAACJ,KAAL,CAAWC,SA5Xe,EAoYrB,OAAI,CAACD,KAAL,CAAWI,UApYU,EAgZrB,OAAI,CAACJ,KAAL,CAAWC,SAhZU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA7B,GAEG;AAAA,wDAsKN,OAAI,CAACD,KAAL,CAAWI,UAtKL,EA+KN,OAAI,CAACJ,KAAL,CAAWI,UA/KL,EAkMA,OAAI,CAACJ,KAAL,CAAWI,UAlMX,EAmRN,OAAI,CAACJ,KAAL,CAAWI,UAnRL,EAuXA,OAAI,CAACJ,KAAL,CAAWI,UAvXX,EA0XA,OAAI,CAACJ,KAAL,CAAWC,SA1XX,EAkYK,OAAI,CAACD,KAAL,CAAWI,UAlYhB,EA8YK,OAAI,CAACJ,KAAL,CAAWC,SA9YhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAOgF,OAAO,CAAC5B,SAAR,KAAsB,KAAtB,GAA8B4B,OAAO,CAACkB,YAAtC,GAAoD;AACvDlB,QAAAA,OAAO,CAAC5B,SAAR,KAAsB,IAAtB,GAA6B4B,OAAO,CAACmB,YAArC,GAAoDnB,OAAO,CAACA,OADhE,MA1BR,OA2B2FA,OAAO,CAACoB,MAAR,IAAkB;AAAA,wDAqK3G,OAAI,CAACrG,KAAL,CAAWI,UArKgG,EA8K3G,OAAI,CAACJ,KAAL,CAAWI,UA9KgG,EAiMrG,OAAI,CAACJ,KAAL,CAAWI,UAjM0F,EAkR3G,OAAI,CAACJ,KAAL,CAAWI,UAlRgG,EAsXrG,OAAI,CAACJ,KAAL,CAAWI,UAtX0F,EAyXrG,OAAI,CAACJ,KAAL,CAAWC,SAzX0F,EAiYhG,OAAI,CAACD,KAAL,CAAWI,UAjYqF,EA6YhG,OAAI,CAACJ,KAAL,CAAWC,SA7YqF,aAAgB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBA3B7G,CAHJ,EAgCI;AAAA,wDAmKE,OAAI,CAACD,KAAL,CAAWI,UAnKb,EA4KE,OAAI,CAACJ,KAAL,CAAWI,UA5Kb,EA+LQ,OAAI,CAACJ,KAAL,CAAWI,UA/LnB,EAgRE,OAAI,CAACJ,KAAL,CAAWI,UAhRb,EAoXQ,OAAI,CAACJ,KAAL,CAAWI,UApXnB,EAuXQ,OAAI,CAACJ,KAAL,CAAWC,SAvXnB,EA+Xa,OAAI,CAACD,KAAL,CAAWI,UA/XxB,EA2Ya,OAAI,CAACJ,KAAL,CAAWC,SA3YxB,aAAgB,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6Bb,MAAM,CAAC,CAAC6F,OAAO,CAAClB,IAAV,CAAN,CAAsBuC,MAAtB,CAA6B,KAA7B,CAA7B,CAhCJ,EAiCKV,QAAQ,GAAInD,KAAK,KAAK,OAAI,CAACzC,KAAL,CAAWO,gBAAX,CAA4BwE,MAA5B,GAAqC,CAAhD,GAAqD,OAAI,CAAChF,KAAL,CAAWG,UAAX,CAAsBqG,MAAtB,GAC7D;AAAA,wDAiKF,OAAI,CAACvG,KAAL,CAAWI,UAjKT,EA0KF,OAAI,CAACJ,KAAL,CAAWI,UA1KT,EA6LI,OAAI,CAACJ,KAAL,CAAWI,UA7Lf,EA8QF,OAAI,CAACJ,KAAL,CAAWI,UA9QT,EAkXI,OAAI,CAACJ,KAAL,CAAWI,UAlXf,EAqXI,OAAI,CAACJ,KAAL,CAAWC,SArXf,EA6XS,OAAI,CAACD,KAAL,CAAWI,UA7XpB,EAyYS,OAAI,CAACJ,KAAL,CAAWC,SAzYpB,aAAe,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAD6D,GACjB;AAAA,wDAiK9C,OAAI,CAACD,KAAL,CAAWI,UAjKmC,EA0K9C,OAAI,CAACJ,KAAL,CAAWI,UA1KmC,EA6LxC,OAAI,CAACJ,KAAL,CAAWI,UA7L6B,EA8Q9C,OAAI,CAACJ,KAAL,CAAWI,UA9QmC,EAkXxC,OAAI,CAACJ,KAAL,CAAWI,UAlX6B,EAqXxC,OAAI,CAACJ,KAAL,CAAWC,SArX6B,EA6XnC,OAAI,CAACD,KAAL,CAAWI,UA7XwB,EAyYnC,OAAI,CAACJ,KAAL,CAAWC,SAzYwB,aAAe,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADpC,GACsF,EADzF,GAC8F,EAlC3G,CAPJ,CADJ;AA8CH,OAlDA,CAJL,EAuDI;AAAK,QAAA,GAAG,EAAE,aAACyF,EAAD,EAAQ;AAAE,UAAA,OAAI,CAAC1E,YAAL,GAAoB0E,EAApB;AAAwB,SAA5C;AAAA,sDA4JkB,OAAI,CAAC1F,KAAL,CAAWI,UA5J7B,EAqKkB,OAAI,CAACJ,KAAL,CAAWI,UArK7B,EAwLwB,OAAI,CAACJ,KAAL,CAAWI,UAxLnC,EAyQkB,OAAI,CAACJ,KAAL,CAAWI,UAzQ7B,EA6WwB,OAAI,CAACJ,KAAL,CAAWI,UA7WnC,EAgXwB,OAAI,CAACJ,KAAL,CAAWC,SAhXnC,EAwX6B,OAAI,CAACD,KAAL,CAAWI,UAxXxC,EAoY6B,OAAI,CAACJ,KAAL,CAAWC,SApYxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvDJ,CADJ,EA0DK,KAAKF,KAAL,CAAWG,UAAX,CAAsBsG,QAAtB,IAAkC;AAAA,sDA0Jb,OAAI,CAACxG,KAAL,CAAWI,UA1JE,EAmKb,OAAI,CAACJ,KAAL,CAAWI,UAnKE,EAsLP,OAAI,CAACJ,KAAL,CAAWI,UAtLJ,EAuQb,OAAI,CAACJ,KAAL,CAAWI,UAvQE,EA2WP,OAAI,CAACJ,KAAL,CAAWI,UA3WJ,EA8WP,OAAI,CAACJ,KAAL,CAAWC,SA9WJ,EAsXF,OAAI,CAACD,KAAL,CAAWI,UAtXT,EAkYF,OAAI,CAACJ,KAAL,CAAWC,SAlYT,aAAe,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAC9B,KAAKwG,EAAL,GAAU,KAAKC,EAAf,GAAoB,aADU,EAE/B;AAAA,sDAwJkB,OAAI,CAAC1G,KAAL,CAAWI,UAxJ7B,EAiKkB,OAAI,CAACJ,KAAL,CAAWI,UAjK7B,EAoLwB,OAAI,CAACJ,KAAL,CAAWI,UApLnC,EAqQkB,OAAI,CAACJ,KAAL,CAAWI,UArQ7B,EAyWwB,OAAI,CAACJ,KAAL,CAAWI,UAzWnC,EA4WwB,OAAI,CAACJ,KAAL,CAAWC,SA5WnC,EAoX6B,OAAI,CAACD,KAAL,CAAWI,UApXxC,EAgY6B,OAAI,CAACJ,KAAL,CAAWC,SAhYxC,aAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA,sDAuJc,OAAI,CAACD,KAAL,CAAWI,UAvJzB,EAgKc,OAAI,CAACJ,KAAL,CAAWI,UAhKzB,EAmLoB,OAAI,CAACJ,KAAL,CAAWI,UAnL/B,EAoQc,OAAI,CAACJ,KAAL,CAAWI,UApQzB,EAwWoB,OAAI,CAACJ,KAAL,CAAWI,UAxW/B,EA2WoB,OAAI,CAACJ,KAAL,CAAWC,SA3W/B,EAmXyB,OAAI,CAACD,KAAL,CAAWI,UAnXpC,EA+XyB,OAAI,CAACJ,KAAL,CAAWC,SA/XpC,aAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA,sDAsJc,OAAI,CAACD,KAAL,CAAWI,UAtJzB,EA+Jc,OAAI,CAACJ,KAAL,CAAWI,UA/JzB,EAkLoB,OAAI,CAACJ,KAAL,CAAWI,UAlL/B,EAmQc,OAAI,CAACJ,KAAL,CAAWI,UAnQzB,EAuWoB,OAAI,CAACJ,KAAL,CAAWI,UAvW/B,EA0WoB,OAAI,CAACJ,KAAL,CAAWC,SA1W/B,EAkXyB,OAAI,CAACD,KAAL,CAAWI,UAlXpC,EA8XyB,OAAI,CAACJ,KAAL,CAAWC,SA9XpC,aAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI;AAAA,sDAqJc,OAAI,CAACD,KAAL,CAAWI,UArJzB,EA8Jc,OAAI,CAACJ,KAAL,CAAWI,UA9JzB,EAiLoB,OAAI,CAACJ,KAAL,CAAWI,UAjL/B,EAkQc,OAAI,CAACJ,KAAL,CAAWI,UAlQzB,EAsWoB,OAAI,CAACJ,KAAL,CAAWI,UAtW/B,EAyWoB,OAAI,CAACJ,KAAL,CAAWC,SAzW/B,EAiXyB,OAAI,CAACD,KAAL,CAAWI,UAjXpC,EA6XyB,OAAI,CAACJ,KAAL,CAAWC,SA7XpC,aAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CAF+B,CA1DvC;AAAA;AAAA,kBAoN0B,OAAI,CAACD,KAAL,CAAWI,UApNrC,EA6N0B,OAAI,CAACJ,KAAL,CAAWI,UA7NrC,EAgPgC,OAAI,CAACJ,KAAL,CAAWI,UAhP3C,EAiU0B,OAAI,CAACJ,KAAL,CAAWI,UAjUrC,EAqagC,OAAI,CAACJ,KAAL,CAAWI,UAra3C,EAwagC,OAAI,CAACJ,KAAL,CAAWC,SAxa3C,EAgbqC,OAAI,CAACD,KAAL,CAAWI,UAhbhD,EA4bqC,OAAI,CAACJ,KAAL,CAAWC,SA5bhD;AAAA;AAAA,66HAoN0B,KAAKD,KAAL,CAAWI,UApNrC,8KA6N0B,KAAKJ,KAAL,CAAWI,UA7NrC,+kBAgPgC,KAAKJ,KAAL,CAAWI,UAhP3C,s1DAiU0B,KAAKJ,KAAL,CAAWI,UAjUrC,+mEAqagC,KAAKJ,KAAL,CAAWI,UAra3C,wHAwagC,KAAKJ,KAAL,CAAWC,SAxa3C,+LAgbqC,KAAKD,KAAL,CAAWI,UAhbhD,oTA4bqC,KAAKJ,KAAL,CAAWC,SA5bhD,4rpDADJ;AAkdH;;;wBA1dS;AACN,aAAO,KAAKF,KAAL,CAAWG,UAAX,GAAwB,KAAKH,KAAL,CAAWG,UAAX,CAAsB6F,QAAtB,CAA+BC,KAA/B,CAAqC,GAArC,EAA0C,CAA1C,EAA6CW,KAA7C,CAAmD,CAAnD,EAAsD,CAAtD,EAAyDC,WAAzD,EAAxB,GAAiG,EAAxG;AACH;;;wBACS;AAAA;;AACN,aAAO,KAAK7G,KAAL,CAAWG,UAAX,GAAwB,iCAAKH,KAAL,CAAWG,UAAX,CAAsB6F,QAAtB,CAA+BC,KAA/B,CAAqC,GAArC,EAA0C,CAA1C,qFAA8CW,KAA9C,CAAoD,CAApD,EAAuD,CAAvD,MAA6D,GAAGC,WAAH,EAArF,GAAwG,EAA/G;AACH;;;;EAnQ+B5H,KAAK,CAAC6H,a;;AA2tB1C/G,qBAAqB,CAACgH,SAAtB,GAAkC;AAC9B3B,EAAAA,uBAAuB,EAAElG,SAAS,CAAC8H;AADL,CAAlC;;AAIA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAhH,KAAK;AAAA,SAAK;AAC9BK,IAAAA,UAAU,EAAEL,KAAK,CAACiH,IAAN,CAAW5G,UADO;AAE9BH,IAAAA,UAAU,EAAEF,KAAK,CAACiH,IAAN,CAAW/G,UAFO;AAG9B8D,IAAAA,QAAQ,EAAEhE,KAAK,CAACiH,IAAN,CAAWC,kBAHS;AAI9B9B,IAAAA,YAAY,EAAEpF,KAAK,CAACiH,IAAN,CAAW7B;AAJK,GAAL;AAAA,CAA7B;;AAOA,IAAM+B,kBAAkB,GAAG;AACvB5H,EAAAA,oBAAoB,EAApBA;AADuB,CAA3B;AAIA,eAAeL,OAAO,CAClB8H,eADkB,EAElBG,kBAFkB,CAAP,CAGbrH,qBAHa,CAAf","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from \"react-redux\";\r\nimport UI_ELEMENTS from \"components/shared/UI\";\r\nimport * as moment from 'moment';\r\nimport Icon from 'components/Icons/icon';\r\nimport debounce from \"lodash.debounce\";\r\nimport {\r\n    __LOAD_MORE_MESSAGES,\r\n} from 'store/actions';\r\nimport { Bus } from 'components/shared/helpers/Bus';\r\nimport {\r\n    _EVERY_PAGE_LIMIT_MESSAGES\r\n} from 'components/shared/helpers/constants';\r\nimport { __getUserMessages } from 'store/reselect';\r\nimport {\r\n    __detectCryptIcon\r\n} from 'components/shared/helpers/global-functions';\r\nimport {\r\n    __EDIT_MESSAGE,\r\n    __REMOVE_MESSAGE,\r\n} from \"store/saga\";\r\n\r\nclass PrivateMessageContent extends React.PureComponent{\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            leftColor: this.props.activeUser && this.props.activeUser?.color || '#0C4651',\r\n            rightColor: this.props.activeUser && this.props.loggedUser?.color || '#1BBC9B',\r\n            scrollLoadingAllow: true,\r\n            messagesSelector: [],\r\n            encryptIcon: true,\r\n            scrollPosition: null,\r\n            previousScrollHeight: 0,\r\n            previousScrollTop: 0,\r\n            loadingMessages: false,\r\n            isEditing: false,\r\n            isRemoving: false,\r\n            editingMsgIndex: null,\r\n        };\r\n        this._messagesEnd           = null;\r\n        this._handleDomClick        = null;\r\n        this._handleClickRemove     = null;\r\n        this.__scrollToBottom       = this.__scrollToBottom.bind(this);\r\n        this.__handleScrollTop      = this.__handleScrollTop.bind(this);\r\n        this.__showEncryptPopUp     = this.__showEncryptPopUp.bind(this);\r\n        this.__doEncryptType        = this.__doEncryptType.bind(this);\r\n        this.__hidePopUpEncrypt     = this.__hidePopUpEncrypt.bind(this);\r\n        this.__editMessage          = this.__editMessage.bind(this);\r\n        this.__removeMessageConfirm = this.__removeMessageConfirm.bind(this);\r\n        this.__removeMessage        = this.__removeMessage.bind(this);\r\n        this.__clickRemovePopUp = this.__clickRemovePopUp.bind(this);\r\n        this._scrollContent     = React.createRef();\r\n        Bus.subscribe('cancelEditing', () => {\r\n            this.setState({\r\n                isEditing: false\r\n            })\r\n        });\r\n        Bus.subscribe('endEditing', () => {\r\n            this.setState({\r\n                isEditing: false,\r\n                isRemoving: false,\r\n                editingMsgIndex: null,\r\n            })\r\n        });\r\n    }\r\n    __scrollToBottom (behavior) {\r\n        setTimeout(() => {\r\n            this._messagesEnd?.scrollIntoView({ behavior: (behavior ? 'smooth' : 'auto')});\r\n        }, 0)\r\n    }\r\n\r\n    __handleScrollTop (e) {\r\n\r\n        if (this.state.scrollLoadingAllow && e.target.scrollTop < 50) {\r\n            this.setState({\r\n                previousScrollTop: this._scrollContent?.scrollTop,\r\n                previousScrollHeight: this._scrollContent?.scrollHeight,\r\n                scrollLoadingAllow: false,\r\n                loadingMessages: true,\r\n            }, () => {\r\n                setTimeout(() => {\r\n                    this.props.__LOAD_MORE_MESSAGES(1);\r\n                }, 1000);\r\n            })\r\n        } else {\r\n            this.setState({\r\n                scrollLoadingAllow: true\r\n            })\r\n        }\r\n    }\r\n\r\n    __showEncryptPopUp (evt, index, isKey) {\r\n        if (evt.target.closest('.remove-confirm-container')) return;\r\n\r\n        const _currentSrc = evt.target.closest('.separate-p');\r\n        if (document.body.querySelector('.opened-encryptPopUp') &&\r\n            document.body.querySelector('.opened-encryptPopUp') !== _currentSrc\r\n        ) {\r\n            document.body.querySelector('.opened-encryptPopUp').setAttribute('data-hint-encrypt', false);\r\n            document.body.querySelector('.opened-encryptPopUp').classList.remove('opened-encryptPopUp')\r\n        }\r\n        if (isKey) return;\r\n        if (_currentSrc) {\r\n            const dataIcon = _currentSrc.getAttribute('data-hint-encrypt');\r\n            this.state.messagesSelector = [...this.state.messagesSelector];\r\n            this.state.messagesSelector[index].isEncrypt = false;\r\n            this.setState({\r\n                encryptIcon: JSON.parse(dataIcon),\r\n                messagesSelector: this.state.messagesSelector\r\n            }, () => this.forceUpdate());\r\n            _currentSrc.classList.toggle('opened-encryptPopUp');\r\n        }\r\n        setTimeout(() => {\r\n            addEventListener('click', this._handleDomClick = this.__hidePopUpEncrypt.bind(this, index))\r\n        }, 0)\r\n    }\r\n\r\n    __hidePopUpEncrypt (index, e) {\r\n        this.state.messagesSelector = [...this.state.messagesSelector];\r\n        delete this.state.messagesSelector[index].isEncrypt;\r\n        this.setState({\r\n            messagesSelector: this.state.messagesSelector\r\n        }, () => this.forceUpdate());\r\n\r\n        removeEventListener('click', this._handleDomClick);\r\n        if (!e.target.closest('div[data-hint-encrypt]') && document.body.querySelector('.opened-encryptPopUp')) {\r\n            document.body.querySelector('.opened-encryptPopUp').setAttribute('data-hint-encrypt', false);\r\n            document.body.querySelector('.opened-encryptPopUp').classList.remove('opened-encryptPopUp')\r\n        }\r\n    }\r\n\r\n    __doEncryptType (e, index) {\r\n        const _currentSrc = e.target.closest('.separate-p');\r\n        e.stopPropagation();\r\n\r\n        this.setState({\r\n            encryptIcon: !this.state.encryptIcon\r\n        }, () => {\r\n            _currentSrc.setAttribute('data-hint-encrypt', this.state.encryptIcon);\r\n            const newEncryption = [...this.state.messagesSelector];\r\n            newEncryption[index].isEncrypt = this.state.encryptIcon;\r\n            this.setState({\r\n                messagesSelector: newEncryption\r\n            })\r\n        })\r\n    }\r\n\r\n    __editMessage (evt, msg, time) {\r\n        const index = this.props.messages.findIndex(msg => msg.time === time);\r\n        __EDIT_MESSAGE(null, index, {idUser: this.props.activeUser?.id, myId: this.props.loggedUser?.id}).next();\r\n        evt.stopPropagation();\r\n        this.setState({\r\n            isEditing: true,\r\n            editingMsgIndex: index\r\n        }, () => {\r\n            Bus.dispatch('editMessage', {msg, index});\r\n        })\r\n    }\r\n\r\n     __removeMessageConfirm (evt) {\r\n        evt.stopPropagation();\r\n        const _currentSrc      = evt.target.closest('.separate-p');\r\n        const alreadyDeclared  = evt.target.closest('.messages-content')?.querySelector('.opened-pop-confirm-remove');\r\n        if (alreadyDeclared) {\r\n            alreadyDeclared.classList.remove('opened-pop-confirm-remove');\r\n        }\r\n        _currentSrc.classList.add('opened-pop-confirm-remove');\r\n        setTimeout(() => {\r\n            addEventListener('click', this._handleClickRemove = this.__clickRemovePopUp.bind(this))\r\n        }, 0);\r\n    }\r\n\r\n    __removeMessage (time) {\r\n        __REMOVE_MESSAGE(time, {idUser: this.props.activeUser?.id, myId: this.props.loggedUser?.id}).next();\r\n    }\r\n\r\n    __clickRemovePopUp (evt) {\r\n        const alreadyDeclared  = evt.target.closest('.messages-content')?.querySelector('.opened-pop-confirm-remove');\r\n        if (alreadyDeclared && !evt.target.closest('.remove-confirm-container') || evt.target.closest('.trigger-close-dialog')) {\r\n            alreadyDeclared.classList.remove('opened-pop-confirm-remove');\r\n            removeEventListener('click', this._handleClickRemove);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        // if (prevProps.activeUser.isTyping !== this.props.activeUser.isTyping) { todo\r\n        //     this.props.activeUser.isTyping && this.__scrollToBottom('behavior');\r\n        // }\r\n\r\n        // Detect if there are removed message\r\n        if (this.props.activeUser?.removedMessageIndex >= 0 &&\r\n            (prevProps.messages[this.props.activeUser.removedMessageIndex]?.removed !== this.props.messages[this.props.activeUser.removedMessageIndex]?.removed ||\r\n            !(() => {\r\n                const currentIndex = this.state.messagesSelector.length - (this.props.messages.length - this.props.activeUser.removedMessageIndex);\r\n                if (currentIndex < 0) return false;\r\n                return this.state.messagesSelector[currentIndex]?.removed\r\n            })())\r\n        ) {\r\n            const currentIndex = this.state.messagesSelector.length - (this.props.messages.length - this.props.activeUser.removedMessageIndex);\r\n            if (currentIndex >= 0) {\r\n                const newEncryption = [...this.state.messagesSelector];\r\n                if (newEncryption[currentIndex]) {\r\n                    newEncryption[currentIndex].removed = true;\r\n                    this.setState({\r\n                        messagesSelector: newEncryption\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n        // when editing have been finished\r\n        if (this.props.activeUser?.editedMsgIndex >= 0 &&\r\n            (this.props.messages[this.props.activeUser?.editedMsgIndex].message !== prevProps.messages[this.props.activeUser?.editedMsgIndex].message ||\r\n            (() => {\r\n                const currentIndex = this.state.messagesSelector.length - (this.props.messages.length - this.props.activeUser?.editedMsgIndex);\r\n                if (currentIndex < 0) return false;\r\n                return this.state.messagesSelector[currentIndex].message !== this.props.messages[this.props.activeUser?.editedMsgIndex].message;\r\n            })())\r\n        ) {\r\n            const currentIndex = this.state.messagesSelector.length - (this.props.messages.length - this.props.activeUser?.editedMsgIndex);\r\n            if (currentIndex >= 0) {\r\n                const editedArray = [...this.state.messagesSelector];\r\n                editedArray[currentIndex] = this.props.messages[this.props.activeUser?.editedMsgIndex];\r\n                this.setState({\r\n                    isEditing: false,\r\n                    isRemoving: false,\r\n                    editingMsgIndex: null,\r\n                    messagesSelector: editedArray\r\n                });\r\n            }\r\n        }\r\n        // Sending notification when there was not any messages\r\n        if (this.props.messages.length === 1 && this.props.messages[0].message === '' || prevProps.messages.length === 1 && prevProps.messages[0].message === '') {\r\n            this.props.messagesHaveBeenDeleted();\r\n        }\r\n        // Update message list\r\n        if ((prevProps.messagesPage !== this.props.messagesPage || prevProps.messages.length !== this.props.messages.length)) {\r\n            if ((this.props.messagesPage - 1) * _EVERY_PAGE_LIMIT_MESSAGES <= this.props.messages.length ) {\r\n                this.setState({\r\n                    scrollLoadingAllow: true,\r\n                    loadingMessages: false,\r\n                    messagesSelector: __getUserMessages({data: this.props.messages, page: this.props.messagesPage})\r\n                }, () => {\r\n                    if (prevProps.messages.length !== this.props.messages.length) {\r\n                        this.__scrollToBottom('behavior');\r\n                    } else {\r\n                        this._scrollContent.scrollTo(0, (this._scrollContent.scrollHeight -\r\n                            this.state.previousScrollHeight + this.state.previousScrollTop - 45));\r\n                    }\r\n                });\r\n            } else {\r\n                this.props.__LOAD_MORE_MESSAGES(-1);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            messagesSelector: __getUserMessages({data: this.props.messages, page: this.props.messagesPage})\r\n        }, () => {\r\n            this._scrollContent.onscroll = debounce((e) => {\r\n                if (this.props.messages.length > _EVERY_PAGE_LIMIT_MESSAGES) {\r\n                    this.__handleScrollTop(e)\r\n                }\r\n            }, 100);\r\n            this.__scrollToBottom();\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        removeEventListener('click', this._handleClickRemove);\r\n        removeEventListener('click', this._handleDomClick);\r\n        Bus.unsubscribe('cancelEditing');\r\n        Bus.unsubscribe('endEditing');\r\n    }\r\n\r\n    get FN () {\r\n        return this.props.activeUser ? this.props.activeUser.fullName.split(' ')[0].slice(0, 1).toUpperCase() : '';\r\n    }\r\n    get LN () {\r\n        return this.props.activeUser ? this.props.activeUser.fullName.split(' ')[1]?.slice(0, 1) || ''.toUpperCase() : '';\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div\r\n                    className={`messages-content ${this.state.loadingMessages ? 'scroll-disable' : ''}`}\r\n                    ref={(el) => this._scrollContent = el}>\r\n                    {this.state.loadingMessages && <div className=\"sbl-circ\"></div>}\r\n                    {this.state.messagesSelector.map((message, index) => {\r\n                        const _isOwner = message.owner === 'Me';\r\n                        const _dataMSG = _isOwner ? this.props.loggedUser : this.props.activeUser;\r\n                        if (!_dataMSG) return '';\r\n                        return (\r\n                            <div key={message.time + index} className={_isOwner ? 'content-right_owner' : 'content-left_owner'}>\r\n                                <UI_ELEMENTS.UserImage\r\n                                    firstName={_dataMSG.fullName.split(' ')[0]}\r\n                                    lastName={_dataMSG.fullName.split(' ')[1] || ''}\r\n                                    fill={_dataMSG.color}\r\n                                />\r\n                                {message.removed ? <div className=\"removed-message\">Removed message</div> :\r\n                                <div className={`message-time ${__detectCryptIcon(message) ? 'crypt-message' : ''}`}\r\n                                     data-message-type={message.encryptType}\r\n                                     data-message-key={message.key}>\r\n                                    <div\r\n                                        className=\"separate-p\"\r\n                                        onClick={(e) => this.__showEncryptPopUp(e, index, __detectCryptIcon(message))}\r\n                                        data-hint-encrypt={false}>\r\n\r\n                                        {(_isOwner && !__detectCryptIcon(message) && (!this.state.isEditing && !this.state.isRemoving)) &&\r\n                                        <span className=\"edit-remove\">\r\n                                            <i className=\"lnr lnr-pencil\" onClick={(e) => this.__editMessage(e, message, message.time)}></i>\r\n                                            <i className=\"lnr lnr-cross\" onClick={(e) => this.__removeMessageConfirm(e)}></i>\r\n                                            <div className=\"remove-confirm-container\">\r\n                                                Are you sure?\r\n                                                <p>\r\n                                                    <a className=\"trigger-close-dialog\">No</a>\r\n                                                    <a onClick={() => this.__removeMessage(message.time)}>Yes</a>\r\n                                                </p>\r\n                                            </div>\r\n                                        </span>}\r\n\r\n                                        <span className=\"encryptPopUp\"\r\n                                              onClick={(e) => this.__doEncryptType(e, index)}>\r\n                                            {this.state.encryptIcon ? <Icon name=\"unlocked\" /> :\r\n                                            <Icon name=\"locked\" />}\r\n                                        </span>\r\n\r\n                                        {__detectCryptIcon(message) ? <img src=\"./assets/images/key.png\" alt=\"iconSend\"/> :\r\n\r\n                                            <span>{message.isEncrypt === false ? message.decryptedMsg ://there will be some case which is equal undefined\r\n                                                message.isEncrypt === true ? message.encryptedMsg : message.message} </span>} {message.edited && <span className=\"edited-msg\">(edited)</span>}\r\n                                    </div>\r\n                                    <span className=\"time-wrap\">{moment(+message.time).format('lll')}</span>\r\n                                    {_isOwner ? (index === this.state.messagesSelector.length - 1) ? this.props.activeUser.isSeen ?\r\n                                        <div className=\"status-message\">Seen</div>: <div className=\"status-message\">Delivered</div> : '' : ''}\r\n                                </div>}\r\n                            </div>\r\n                        )\r\n                    })}\r\n                    <div ref={(el) => { this._messagesEnd = el }}>{/*Scroll Into View*/}</div>\r\n                </div>\r\n                {this.props.activeUser.isTyping && <div className=\"is-typing-wrap\">\r\n                    {this.FN + this.LN + ' is typing '}\r\n                    <div className='spinner'>\r\n                        <div className='bounce1'></div>\r\n                        <div className='bounce2'></div>\r\n                        <div className='bounce3'></div>\r\n                    </div>\r\n                </div>}\r\n                <style jsx global>{`\r\n                    .sbl-circ {\r\n                      height: 35px;\r\n                      width: 35px;\r\n                      color: #5a5a5a;\r\n                      position: relative;\r\n                      display: block;\r\n                      border: 2px solid;\r\n                      border-radius: 50%;\r\n                      border-top-color: transparent;\r\n                      animation: rotate 1s linear infinite; \r\n                      margin: 5px auto;\r\n                    }\r\n\r\n                    @keyframes rotate {\r\n                      0% {\r\n                        transform: rotate(0); }\r\n                      100% {\r\n                        transform: rotate(360deg); } \r\n                    }\r\n                        \r\n                    .messages-content {\r\n                        height: 100%;\r\n                        overflow-x: hidden;\r\n                        position: relative;\r\n                        padding-top: 10px;\r\n                    }\r\n                    .scroll-disable {\r\n                        overflow: hidden;\r\n                    }\r\n                    .messages-content ::-webkit-scrollbar {\r\n                      width: 0px;\r\n                      height: 10px;\r\n                    }\r\n                    \r\n                    .messages-content ::-webkit-scrollbar-thumb {\r\n                      background: transparent;\r\n                    }\r\n                    \r\n                    .messages-content ::-webkit-scrollbar-track {\r\n                      background: transparent;\r\n                    }\r\n                    .content-right_owner {\r\n                        display: flex;\r\n                        justify-content: flex-start;\r\n                        flex-flow: row-reverse;\r\n                        text-align: right;\r\n                        padding: 0 10px;\r\n                        margin: 7px;\r\n                    }\r\n                    .content-left_owner {\r\n                        display: flex;\r\n                        justify-content: end;\r\n                        text-align: left;\r\n                        padding: 0 10px;\r\n                        margin: 7px;\r\n                    }\r\n                    .content-left_owner .message-time {\r\n                        display: flex;\r\n                        flex-direction: column;\r\n                        align-items: flex-start;\r\n                        padding: 5px 10px;\r\n                        max-width: 50%;\r\n                        position: relative;\r\n                    }\r\n                    .content-left_owner .removed-message, .content-right_owner .removed-message {\r\n                        padding: 5px 10px;\r\n                        max-width: 50%;\r\n                        position: relative;\r\n                        background-color: #d9d7d7;\r\n                        border-radius: 6px;\r\n                        font-size: 14px;\r\n                        height: 27px;\r\n                        font-style: italic;\r\n                        color: #767575;\r\n                        margin-top: 5px;\r\n                        margin-bottom: 10px;\r\n                    }\r\n                    .content-left_owner .removed-message {\r\n                        margin-left: 10px;\r\n                    }\r\n                    .content-right_owner .removed-message {\r\n                        margin-right: 10px;\r\n                    }\r\n                    .content-right_owner .message-time {\r\n                        display: flex;\r\n                        flex-direction: column;\r\n                        align-items: flex-end;\r\n                        padding: 5px 10px;\r\n                        max-width: 50%;\r\n                        position: relative;\r\n                    }\r\n                    .content-left_owner .message-time > div.separate-p .edited-msg, \r\n                    .content-right_owner .message-time > div.separate-p .edited-msg{\r\n                        font-size: 10px;\r\n                        font-family: sans-serif;\r\n                        font-style: italic;\r\n                    }\r\n                    .content-left_owner .crypt-message > div.separate-p, \r\n                    .content-right_owner .crypt-message > div.separate-p {\r\n                        background-color: transparent !important;\r\n                        padding: 0 !important;\r\n                        height: 27px;\r\n                    }\r\n                    .content-left_owner .crypt-message > div.separate-p img, \r\n                    .content-right_owner .crypt-message > div.separate-p img{\r\n                        width: 30px;\r\n                    }\r\n                    .content-left_owner .crypt-message > div.separate-p:before, .content-right_owner .crypt-message > div.separate-p:before {\r\n                        border-color: transparent !important;\r\n                    }\r\n                    .message-time .status-message {\r\n                        font-size: 12px;\r\n                        color: #424242;\r\n                    }\r\n                    .message-time:hover > span {\r\n                        opacity: 1 !important;\r\n                        visibility: visible !important;\r\n                    }\r\n                    .content-right_owner .message-time > span,\r\n                    .content-left_owner .message-time > span {\r\n                        opacity: 0;\r\n                        transition: .4s;\r\n                        font-size: 9px;\r\n                        font-family: sans-serif;\r\n                        position: absolute;\r\n                        top: -13px;\r\n                        text-align: center;\r\n                        min-width: fit-content;\r\n                        background-color: red;\r\n                        padding: 3px 5px;\r\n                        color: #fff;\r\n                        flex-shrink: 0;\r\n                        white-space: nowrap;\r\n                        border-radius: 4px;\r\n                        visibility: hidden;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove i{\r\n                        padding: 2px 4px;    \r\n                        position: relative;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove i.lnr-pencil:after{\r\n                        content: '';\r\n                        position: absolute;\r\n                        width: 5px;\r\n                        height: 5px;\r\n                        background: ${this.state.rightColor};\r\n                        top: 0;\r\n                        right: -5px;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove i.lnr-cross:after{\r\n                        content: '';\r\n                        position: absolute;\r\n                        width: 5px;\r\n                        height: 5px;\r\n                        background: ${this.state.rightColor};\r\n                        bottom: 0;\r\n                        right: -5px;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove .remove-confirm-container p {\r\n                        margin: 4px 0 0;\r\n                        display: flex;\r\n                        justify-content: flex-end;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove .remove-confirm-container p > a:first-child{\r\n                        height: 19px;\r\n                        display: inline-block;\r\n                        border: 1px solid #ccc;\r\n                        width: 25px;\r\n                        border-radius: 2px;\r\n                        text-align: center;\r\n                        font-size: 12px;\r\n                        vertical-align: middle;\r\n                        margin-right: 7px;\r\n                        background-color: ${this.state.rightColor};\r\n                        color: #fff;\r\n                        cursor: pointer;\r\n                    } \r\n                    .opened-pop-confirm-remove .edit-remove {\r\n                        opacity: 1 !important;\r\n                        visibility: visible !important;\r\n                        left: -18px !important;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove .remove-confirm-container p > a:last-child{\r\n                        height: 19px;\r\n                        display: inline-block;\r\n                        border: 1px solid #ccc;\r\n                        width: 25px;\r\n                        border-radius: 2px;\r\n                        text-align: center;\r\n                        font-size: 12px;\r\n                        vertical-align: middle;\r\n                        background-color: #c5cbca;\r\n                        color: #fff;\r\n                        cursor: pointer;\r\n                    } \r\n                    .content-right_owner .message-time > div.separate-p .edit-remove .remove-confirm-container{ \r\n                        position: absolute;\r\n                        width: 120px;\r\n                        right: 24px;\r\n                        padding: 6px;\r\n                        color: #000;\r\n                        font-size: 13px;\r\n                        border: 1px solid #ccc;\r\n                        border-radius: 3px;\r\n                        top: 14px;\r\n                        bottom: 0;\r\n                        margin: auto;\r\n                        height: 55px;\r\n                        opacity: 0;\r\n                        z-index: 22;\r\n                        background: #fff;\r\n                        transition: .4s;\r\n                        visibility: hidden;\r\n                        cursor: default;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove .remove-confirm-container:after{\r\n                        content: '';\r\n                        width: 0;\r\n                        height: 0;\r\n                        border-top: 4px solid transparent;\r\n                        border-bottom: 4px solid transparent;\r\n                        border-left: 4px solid #dcdcdc;\r\n                        position: absolute;\r\n                        right: -4px;\r\n                        -webkit-transform: rotate(0deg);\r\n                        -ms-transform: rotate(0deg);\r\n                        transform: rotate(0deg);\r\n                        top: 21px;\r\n                    } \r\n                    .content-right_owner .message-time > div.separate-p .edit-remove .remove-confirm-container:before{\r\n                        content: '';\r\n                        width: 0;\r\n                        height: 0;\r\n                        border-top: 3px solid transparent;\r\n                        border-bottom: 3px solid transparent;\r\n                        border-left: 3px solid #fff;\r\n                        position: absolute;\r\n                        right: -3px;\r\n                        -webkit-transform: rotate(0deg);\r\n                        -ms-transform: rotate(0deg);\r\n                        transform: rotate(0deg);\r\n                        top: 22px;\r\n                        z-index: 22;\r\n                    } \r\n                    .opened-pop-confirm-remove .remove-confirm-container {\r\n                        opacity: 1 !important;\r\n                        visibility: visible !important;\r\n                    }\r\n                    .opened-pop-confirm-remove + .time-wrap {\r\n                        display: none;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove{\r\n                        position: absolute;\r\n                        left: -15px;\r\n                        background: ${this.state.rightColor};\r\n                        display: -webkit-box;\r\n                        display: -webkit-flex;\r\n                        display: -ms-flexbox;\r\n                        display: flex;\r\n                        -webkit-flex-direction: column;\r\n                        -ms-flex-direction: column;\r\n                        flex-direction: column;\r\n                        top: 0;\r\n                        width: 18px;\r\n                        font-size: 9px;\r\n                        height: 27px;\r\n                        -webkit-box-pack: justify;\r\n                        -webkit-justify-content: space-between;\r\n                        -ms-flex-pack: justify;\r\n                        justify-content: space-between;\r\n                        border-right: 1px solid;\r\n                        opacity: 0;\r\n                        transition: .2s;\r\n                        visibility: hidden;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p:hover .edit-remove{\r\n                        opacity: 1;\r\n                        visibility: visible;\r\n                        left: -18px;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove:after{\r\n                        content: '';\r\n                        position: absolute;\r\n                        top: 0;\r\n                        bottom: 0;\r\n                        left: 0;\r\n                        right: 0;\r\n                        height: 0.8px;\r\n                        width: 18px;\r\n                        margin: auto;\r\n                        background: #fff;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .edit-remove:before{\r\n                        content: '';\r\n                        position: absolute;\r\n                        top: 0;\r\n                        bottom: 0;\r\n                        right: -1px;\r\n                        height: 27px;\r\n                        width: 0.8px;\r\n                        margin: auto;\r\n                        background: #fff;\r\n                        z-index: 2;\r\n                    }\r\n                    .opened-encryptPopUp .edit-remove {\r\n                        display: none !important;\r\n                    }\r\n                    \r\n                    .content-right_owner .message-time > div.separate-p .encryptPopUp,\r\n                    .content-left_owner .message-time > div.separate-p .encryptPopUp{\r\n                        position: absolute;\r\n                        height: 25px;\r\n                        display: none;\r\n                        width: 25px;\r\n                        padding: 2px;\r\n                        bottom: 0;\r\n                        top: 0;\r\n                        margin: auto;\r\n                        cursor: pointer;\r\n                        border-radius: 5px;\r\n                        \r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p .encryptPopUp {\r\n                        left: -30px;\r\n                    }\r\n                    .content-left_owner .message-time > div.separate-p .encryptPopUp{\r\n                        right: -30px;\r\n                    }\r\n                    \r\n                    .opened-encryptPopUp {\r\n                        background-color: #e7e7e7 !important;\r\n                        color: #000 !important;\r\n                    } \r\n                    .opened-encryptPopUp:before {\r\n                        border-left-color: #e7e7e7 !important;\r\n                    }\r\n                    .opened-encryptPopUp .encryptPopUp{\r\n                        display: block !important;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p,\r\n                    .content-left_owner .message-time > div.separate-p {\r\n                        cursor: pointer;\r\n                        text-align:left;\r\n                        margin: 0 0 5px 0;\r\n                        display: inline-block;\r\n                        padding: 5px 10px;\r\n                        color: #fff;\r\n                        font-size: 13px;\r\n                        border-radius: 5px;\r\n                        position: relative;\r\n                        min-height: 27px;\r\n                        word-break: break-all;\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p, .content-right_owner .message-time > span {\r\n                        background-color: ${this.state.rightColor};\r\n                    }\r\n                    .content-left_owner .message-time > div.separate-p, .content-left_owner .message-time > span {\r\n                        background-color: ${this.state.leftColor};\r\n                    }\r\n                    .content-right_owner .message-time > div.separate-p:before {\r\n                        content: '';\r\n                        width: 0;\r\n                        height: 0;\r\n                        border-top: 4px solid transparent;\r\n                        border-bottom: 4px solid transparent;\r\n                        border-left: 4px solid ${this.state.rightColor};\r\n                        position: absolute;\r\n                        right: -3px;\r\n                        transform: rotate(0deg);\r\n                        top: 7px;\r\n                    }\r\n                    .content-left_owner .message-time > div.separate-p:before {\r\n                        content: '';\r\n                        width: 0;\r\n                        height: 0;\r\n                        border-top: 4px solid transparent;\r\n                        border-bottom: 4px solid transparent;\r\n                        border-left: 4px solid ${this.state.leftColor};\r\n                        position: absolute;\r\n                        left: -3px;\r\n                        transform: rotate(-180deg);\r\n                        top: 7px;\r\n                    }\r\n                    \r\n                    .is-typing-wrap {\r\n                        margin-left: 20px;\r\n                        margin-bottom: 7px;\r\n                        display: flex;\r\n                        align-items: center;\r\n                        font-size: 13px;\r\n                    }\r\n                    .is-typing-wrap .spinner{ \r\n                        margin-top: 5px;\r\n                        margin-left: 10px;\r\n                    }\r\n                `}</style>\r\n            </>\r\n       )\r\n    }\r\n}\r\n\r\nPrivateMessageContent.propTypes = {\r\n    messagesHaveBeenDeleted: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedUser: state.chat.loggedUser,\r\n    activeUser: state.chat.activeUser,\r\n    messages: state.chat.activeUserMessages,\r\n    messagesPage: state.chat.messagesPage,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    __LOAD_MORE_MESSAGES\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(PrivateMessageContent);\r\n"]},"metadata":{},"sourceType":"module"}