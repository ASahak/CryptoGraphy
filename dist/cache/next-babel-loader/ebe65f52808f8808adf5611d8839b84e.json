{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruala\\\\Desktop\\\\ASahak\\\\daser\\\\next\\\\CryptoGraphy\\\\components\\\\elements\\\\TextAreaMessage.jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { classDebounce } from 'hooks/use-debounce';\nimport { __CHANGE_IS_SEEN } from \"../../store/saga\";\nimport { Bus } from \"components/shared/helpers/Bus\";\n\nconst SendIcon = props => {\n  return __jsx(React.Fragment, null, props.inProcessing ? __jsx(\"div\", {\n    className: \"jsx-148590241\" + \" \" + \"sbl-circ\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 35\n    }\n  }) : props.value ? __jsx(\"img\", {\n    src: \"./assets/images/send.png\",\n    onClick: () => props.sendMessage('message'),\n    className: \"jsx-148590241\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 17\n    }\n  }) : __jsx(\"img\", {\n    src: \"./assets/images/key.png\",\n    onClick: () => props.sendMessage('key'),\n    className: \"jsx-148590241\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 17\n    }\n  }), __jsx(_JSXStyle, {\n    id: \"148590241\",\n    __self: this\n  }, \".sbl-circ.jsx-148590241{height:22px;width:22px;color:#5a5a5a;position:relative;display:block;border:2px solid;border-radius:50%;border-top-color:transparent;-webkit-animation:rotate-jsx-148590241 1s linear infinite;animation:rotate-jsx-148590241 1s linear infinite;margin:5px 10px 5px 5px;}@-webkit-keyframes rotate-jsx-148590241{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}@keyframes rotate-jsx-148590241{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccnVhbGFcXERlc2t0b3BcXEFTYWhha1xcZGFzZXJcXG5leHRcXENyeXB0b0dyYXBoeVxcY29tcG9uZW50c1xcZWxlbWVudHNcXFRleHRBcmVhTWVzc2FnZS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZXdCLEFBRytCLEFBY1UsQUFFSyxZQWZoQixXQUNHLGNBQ0ksa0JBQ0osY0FDRyxHQVNNLGNBUkwsQ0FVVSxpQkFUQyw2QkFDTyw0R0FDWix3QkFDMUIiLCJmaWxlIjoiQzpcXFVzZXJzXFxydWFsYVxcRGVza3RvcFxcQVNhaGFrXFxkYXNlclxcbmV4dFxcQ3J5cHRvR3JhcGh5XFxjb21wb25lbnRzXFxlbGVtZW50c1xcVGV4dEFyZWFNZXNzYWdlLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IGNsYXNzRGVib3VuY2UgfSBmcm9tICdob29rcy91c2UtZGVib3VuY2UnO1xyXG5pbXBvcnQge1xyXG4gICAgX19DSEFOR0VfSVNfU0VFTlxyXG59IGZyb20gXCIuLi8uLi9zdG9yZS9zYWdhXCI7XHJcbmltcG9ydCB7IEJ1cyB9IGZyb20gXCJjb21wb25lbnRzL3NoYXJlZC9oZWxwZXJzL0J1c1wiO1xyXG5cclxuY29uc3QgU2VuZEljb24gPSAocHJvcHMpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAge3Byb3BzLmluUHJvY2Vzc2luZyA/IDxkaXYgY2xhc3NOYW1lPVwic2JsLWNpcmNcIj48L2Rpdj4gOiBwcm9wcy52YWx1ZSA/XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vYXNzZXRzL2ltYWdlcy9zZW5kLnBuZ1wiIG9uQ2xpY2s9eygpID0+IHByb3BzLnNlbmRNZXNzYWdlKCdtZXNzYWdlJyl9Lz4gOlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2Fzc2V0cy9pbWFnZXMva2V5LnBuZ1wiIG9uQ2xpY2s9eygpID0+IHByb3BzLnNlbmRNZXNzYWdlKCdrZXknKX0vPlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgICAgIC5zYmwtY2lyYyB7XHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogMjJweDtcclxuICAgICAgICAgICAgICAgICAgd2lkdGg6IDIycHg7XHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNWE1YTVhO1xyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZDtcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgICAgICAgICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiByb3RhdGUgMXMgbGluZWFyIGluZmluaXRlOyBcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiA1cHggMTBweCA1cHggNXB4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIEBrZXlmcmFtZXMgcm90YXRlIHtcclxuICAgICAgICAgICAgICAgICAgMCUge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDApOyB9XHJcbiAgICAgICAgICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICA8Lz5cclxuICAgIClcclxufTtcclxuU2VuZEljb24ucHJvcFR5cGVzID0ge1xyXG4gICAgaW5Qcm9jZXNzaW5nOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgc2VuZE1lc3NhZ2U6IFByb3BUeXBlcy5mdW5jLFxyXG59O1xyXG5cclxuY2xhc3MgVGV4dEFyZWFNZXNzYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlQXJlYSA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VWYWx1ZTogJycsXHJcbiAgICAgICAgICAgIGluUHJvY2Vzc2luZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGVkaXRNZXNzYWdlOiB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogbnVsbCxcclxuICAgICAgICAgICAgICAgIG1zZzogJycsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX19kZWJvdW5jZVR5cGluZyAgICAgPSB0aGlzLl9fZGVib3VuY2VUeXBpbmcuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fc2V0TWVzc2FnZVZhbHVlICAgID0gdGhpcy5fX3NldE1lc3NhZ2VWYWx1ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX19hdXRvU2l6ZSAgICAgICAgICAgPSB0aGlzLl9fYXV0b1NpemUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fc3VibWl0TWVzc2FnZSAgICAgID0gdGhpcy5fX3N1Ym1pdE1lc3NhZ2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fdXNlcklzT25saW5lICAgICAgID0gdGhpcy5fX3VzZXJJc09ubGluZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX191c2VySXNPZmZsaW5lICAgICAgPSB0aGlzLl9fdXNlcklzT2ZmbGluZS5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICBCdXMuc3Vic2NyaWJlKCdlZGl0TWVzc2FnZScsICh7bXNnLCBpbmRleH0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBlZGl0TWVzc2FnZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1haW5PYmo6IG1zZyxcclxuICAgICAgICAgICAgICAgICAgICBtc2c6IG1zZz8ubWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXhcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgKCkgPT4gdGhpcy5tZXNzYWdlQXJlYS5jdXJyZW50Py5mb2N1cygpKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEJ1cy5zdWJzY3JpYmUoJ21lc3NhZ2VTZW5kaW5nRmluaXNoJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGluUHJvY2Vzc2luZzogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZWRpdE1lc3NhZ2UuaGFzT3duUHJvcGVydHkoJ21haW5PYmonKSAmJiAhdGhpcy5zdGF0ZS5lZGl0TWVzc2FnZS5tc2cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaXNUeXBpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBfX2F1dG9TaXplICgpIHtcclxuICAgICAgICB0aGlzLm1lc3NhZ2VBcmVhLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUFyZWEuY3VycmVudC5zdHlsZS5oZWlnaHQgPSAodGhpcy5tZXNzYWdlQXJlYS5jdXJyZW50LnNjcm9sbEhlaWdodCkgKyAncHgnO1xyXG4gICAgfVxyXG5cclxuICAgIF9fdXNlcklzT2ZmbGluZSAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZWRpdE1lc3NhZ2UuaGFzT3duUHJvcGVydHkoJ21haW5PYmonKSAmJiAhdGhpcy5zdGF0ZS5lZGl0TWVzc2FnZS5tc2cpIHtcclxuICAgICAgICAgICAgQnVzLmRpc3BhdGNoKCdjYW5jZWxFZGl0aW5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZWRpdE1lc3NhZ2U6IHt9LFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfX3VzZXJJc09ubGluZSAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVXNlcj8uaWQgJiYgdGhpcy5wcm9wcy5sb2dnZWRVc2VySWQgJiYgIXRoaXMucHJvcHMuYWN0aXZlVXNlcj8uaXNTZW5kZXIpIHtcclxuICAgICAgICAgICAgX19DSEFOR0VfSVNfU0VFTih7c2VuZGVySUQ6IHRoaXMucHJvcHMuYWN0aXZlVXNlcj8uaWQsIG15SUQ6IHRoaXMucHJvcHMubG9nZ2VkVXNlcklkfSkubmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgX19kZWJvdW5jZVR5cGluZyA9IGNsYXNzRGVib3VuY2UodGhpcy5fX2lzVHlwaW5nLCA2MDApO1xyXG5cclxuICAgIF9faXNUeXBpbmcgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2VWYWx1ZSAhPT0gJycgJiYgIXRoaXMuc3RhdGUuZWRpdE1lc3NhZ2UubXNnICkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmlzVHlwaW5nKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfX3N1Ym1pdE1lc3NhZ2UgKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQua2V5ID09PSAnRW50ZXInICYmIGV2dC5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldnQgPT09ICdrZXknKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2VuZE1lc3NhZ2UoJ2tleScsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGluUHJvY2Vzc2luZzogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGV2dCA9PT0gJ21lc3NhZ2UnIHx8IGV2dC5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpblByb2Nlc3Npbmc6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmVkaXRNZXNzYWdlLm1zZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZW5kTWVzc2FnZSh0aGlzLnN0YXRlLmVkaXRNZXNzYWdlLm1zZywgdGhpcy5zdGF0ZS5lZGl0TWVzc2FnZSlcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2VWYWx1ZSAhPT0gJycgKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VuZE1lc3NhZ2UodGhpcy5zdGF0ZS5tZXNzYWdlVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZUFyZWEuY3VycmVudC5ibHVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZWRpdE1lc3NhZ2U6IHt9LFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZVZhbHVlOiAnJ1xyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VBcmVhLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZXZ0LmtleSAmJiBldnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfX3NldE1lc3NhZ2VWYWx1ZSAoZXZ0KSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIC4uLih0aGlzLnN0YXRlLmVkaXRNZXNzYWdlLm1zZyAmJiB7XHJcbiAgICAgICAgICAgICAgICBlZGl0TWVzc2FnZToge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuc3RhdGUuZWRpdE1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbXNnOiBldnQudGFyZ2V0LnZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBtZXNzYWdlVmFsdWU6IGV2dC50YXJnZXQudmFsdWVcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2VWYWx1ZSA9PT0gJycgJiYgIXRoaXMuc3RhdGUuZWRpdE1lc3NhZ2UubXNnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmlzVHlwaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgQnVzLnVuc3Vic2NyaWJlKCdlZGl0TWVzc2FnZScpO1xyXG4gICAgICAgIEJ1cy51bnN1YnNjcmliZSgnbWVzc2FnZVNlbmRpbmdGaW5pc2gnKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIgKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2Utc2VuZC1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXt0aGlzLm1lc3NhZ2VBcmVhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lZGl0TWVzc2FnZS5tc2cgfHwgdGhpcy5zdGF0ZS5tZXNzYWdlVmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9e3RoaXMuc3RhdGUucm93TGluZUNvdW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXt0aGlzLl9fdXNlcklzT25saW5lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e3RoaXMuX191c2VySXNPZmZsaW5lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbklucHV0PXt0aGlzLl9fYXV0b1NpemV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZ0KSA9PiB7dGhpcy5fX3NldE1lc3NhZ2VWYWx1ZShldnQpOyB0aGlzLl9fZGVib3VuY2VUeXBpbmcoKX19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBtZXNzYWdlLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLl9fc3VibWl0TWVzc2FnZX0+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICAgICAgICA8U2VuZEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5Qcm9jZXNzaW5nPXt0aGlzLnN0YXRlLmluUHJvY2Vzc2luZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2U9e3RoaXMuX19zdWJtaXRNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5tZXNzYWdlVmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcclxuICAgICAgICAgICAgICAgICAgICAubWVzc2FnZS1zZW5kLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogM3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2IoMjI3LCAyMjIsIDIyMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlLXNlbmQtY29udGFpbmVyIGltZyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogN3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlLXNlbmQtY29udGFpbmVyIHRleHRhcmVhIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiA3MHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gMzBweCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLm1lc3NhZ2Utc2VuZC1jb250YWluZXIgdGV4dGFyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlLXNlbmQtY29udGFpbmVyIHRleHRhcmVhOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLm1lc3NhZ2Utc2VuZC1jb250YWluZXIgdGV4dGFyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5UZXh0QXJlYU1lc3NhZ2UucHJvcFR5cGVzID0ge1xyXG4gICAgbG9nZ2VkVXNlcklkOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgYWN0aXZlVXNlcjogUHJvcFR5cGVzLm9iamVjdCxcclxuICAgIGlzVHlwaW5nOiBQcm9wVHlwZXMuZnVuYyxcclxuICAgIHNlbmRNZXNzYWdlOiBQcm9wVHlwZXMuZnVuYyxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRleHRBcmVhTWVzc2FnZTsiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\ruala\\\\\\\\Desktop\\\\\\\\ASahak\\\\\\\\daser\\\\\\\\next\\\\\\\\CryptoGraphy\\\\\\\\components\\\\\\\\elements\\\\\\\\TextAreaMessage.jsx */\"));\n};\n\nSendIcon.propTypes = {\n  inProcessing: PropTypes.bool,\n  value: PropTypes.string,\n  sendMessage: PropTypes.func\n};\n\nclass TextAreaMessage extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"__debounceTyping\", classDebounce(this.__isTyping, 600));\n\n    this.messageArea = React.createRef();\n    this.state = {\n      messageValue: '',\n      inProcessing: false,\n      editMessage: {\n        index: null,\n        msg: ''\n      }\n    };\n    this.__debounceTyping = this.__debounceTyping.bind(this);\n    this.__setMessageValue = this.__setMessageValue.bind(this);\n    this.__autoSize = this.__autoSize.bind(this);\n    this.__submitMessage = this.__submitMessage.bind(this);\n    this.__userIsOnline = this.__userIsOnline.bind(this);\n    this.__userIsOffline = this.__userIsOffline.bind(this);\n    Bus.subscribe('editMessage', ({\n      msg,\n      index\n    }) => {\n      this.setState({\n        editMessage: {\n          mainObj: msg,\n          msg: msg === null || msg === void 0 ? void 0 : msg.message,\n          index: index\n        }\n      }, () => {\n        var _this$messageArea$cur;\n\n        return (_this$messageArea$cur = this.messageArea.current) === null || _this$messageArea$cur === void 0 ? void 0 : _this$messageArea$cur.focus();\n      });\n    });\n    Bus.subscribe('messageSendingFinish', () => {\n      this.setState({\n        inProcessing: false\n      });\n    });\n    addEventListener('blur', () => {\n      if (this.state.editMessage.hasOwnProperty('mainObj') && !this.state.editMessage.msg) {\n        this.props.isTyping(false);\n      }\n    });\n  }\n\n  __autoSize() {\n    this.messageArea.current.style.height = 'auto';\n    this.messageArea.current.style.height = this.messageArea.current.scrollHeight + 'px';\n  }\n\n  __userIsOffline() {\n    if (this.state.editMessage.hasOwnProperty('mainObj') && !this.state.editMessage.msg) {\n      Bus.dispatch('cancelEditing');\n      this.setState({\n        editMessage: {}\n      });\n    }\n  }\n\n  __userIsOnline() {\n    var _this$props$activeUse, _this$props$activeUse2;\n\n    if (((_this$props$activeUse = this.props.activeUser) === null || _this$props$activeUse === void 0 ? void 0 : _this$props$activeUse.id) && this.props.loggedUserId && !((_this$props$activeUse2 = this.props.activeUser) === null || _this$props$activeUse2 === void 0 ? void 0 : _this$props$activeUse2.isSender)) {\n      var _this$props$activeUse3;\n\n      __CHANGE_IS_SEEN({\n        senderID: (_this$props$activeUse3 = this.props.activeUser) === null || _this$props$activeUse3 === void 0 ? void 0 : _this$props$activeUse3.id,\n        myID: this.props.loggedUserId\n      }).next();\n    }\n  }\n\n  __isTyping() {\n    if (this.state.messageValue !== '' && !this.state.editMessage.msg) {\n      this.props.isTyping(true);\n    }\n  }\n\n  __submitMessage(evt) {\n    if (evt.key === 'Enter' && evt.shiftKey) {\n      return;\n    }\n\n    if (evt === 'key') {\n      this.props.sendMessage('key', true);\n      this.setState({\n        inProcessing: true\n      });\n    } else if (evt === 'message' || evt.key === 'Enter') {\n      this.setState({\n        inProcessing: true\n      });\n\n      if (this.state.editMessage.msg) {\n        this.props.sendMessage(this.state.editMessage.msg, this.state.editMessage);\n      } else if (this.state.messageValue !== '') {\n        this.props.sendMessage(this.state.messageValue);\n      }\n\n      this.messageArea.current.blur();\n      this.setState({\n        editMessage: {},\n        messageValue: ''\n      }, () => {\n        this.messageArea.current.style.height = 'auto';\n      });\n      evt.key && evt.preventDefault();\n    }\n  }\n\n  __setMessageValue(evt) {\n    this.setState(_objectSpread({}, this.state.editMessage.msg && {\n      editMessage: _objectSpread({}, this.state.editMessage, {\n        msg: evt.target.value\n      })\n    }, {\n      messageValue: evt.target.value\n    }), () => {\n      if (this.state.messageValue === '' && !this.state.editMessage.msg) {\n        this.props.isTyping(false);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    Bus.unsubscribe('editMessage');\n    Bus.unsubscribe('messageSendingFinish');\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"jsx-1746285459\" + \" \" + \"message-send-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, __jsx(\"textarea\", {\n      ref: this.messageArea,\n      value: this.state.editMessage.msg || this.state.messageValue,\n      rows: this.state.rowLineCount,\n      onFocus: this.__userIsOnline,\n      onBlur: this.__userIsOffline,\n      onInput: this.__autoSize,\n      onChange: evt => {\n        this.__setMessageValue(evt);\n\n        this.__debounceTyping();\n      },\n      placeholder: \"Type message...\",\n      onKeyDown: this.__submitMessage,\n      className: \"jsx-1746285459\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }), __jsx(SendIcon, {\n      inProcessing: this.state.inProcessing,\n      sendMessage: this.__submitMessage,\n      value: this.state.messageValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    })), __jsx(_JSXStyle, {\n      id: \"1746285459\",\n      __self: this\n    }, \".message-send-container{padding-left:3px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-top:1px solid rgb(227,222,222);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.message-send-container img{width:25px;height:25px;margin-right:7px;cursor:pointer;}.message-send-container textarea{resize:none;max-height:70px;width:calc(100% - 30px);border:none;outline:none;}.message-send-container textarea::-webkit-scrollbar{width:0px;height:10px;}.message-send-container textarea::-webkit-scrollbar-thumb{background:transparent;}.message-send-container textarea::-webkit-scrollbar-track{background:transparent;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccnVhbGFcXERlc2t0b3BcXEFTYWhha1xcZGFzZXJcXG5leHRcXENyeXB0b0dyYXBoeVxcY29tcG9uZW50c1xcZWxlbWVudHNcXFRleHRBcmVhTWVzc2FnZS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd0xtQyxBQUcwQyxBQU9OLEFBTUMsQUFPSixBQUthLEFBSUEsVUFSWCxDQWJFLENBTUksS0FiSCxLQXFCakIsQ0FicUIsQUFpQnJCLEFBSUEsS0FmNEIsWUFMVCxZQU1ILEdBTGhCLFNBTWlCLGFBQ2pCLGNBaEJrQyxtSEFDVSxzQ0FDckIsNkZBQ3ZCIiwiZmlsZSI6IkM6XFxVc2Vyc1xccnVhbGFcXERlc2t0b3BcXEFTYWhha1xcZGFzZXJcXG5leHRcXENyeXB0b0dyYXBoeVxcY29tcG9uZW50c1xcZWxlbWVudHNcXFRleHRBcmVhTWVzc2FnZS5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyBjbGFzc0RlYm91bmNlIH0gZnJvbSAnaG9va3MvdXNlLWRlYm91bmNlJztcclxuaW1wb3J0IHtcclxuICAgIF9fQ0hBTkdFX0lTX1NFRU5cclxufSBmcm9tIFwiLi4vLi4vc3RvcmUvc2FnYVwiO1xyXG5pbXBvcnQgeyBCdXMgfSBmcm9tIFwiY29tcG9uZW50cy9zaGFyZWQvaGVscGVycy9CdXNcIjtcclxuXHJcbmNvbnN0IFNlbmRJY29uID0gKHByb3BzKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICAgIHtwcm9wcy5pblByb2Nlc3NpbmcgPyA8ZGl2IGNsYXNzTmFtZT1cInNibC1jaXJjXCI+PC9kaXY+IDogcHJvcHMudmFsdWUgP1xyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2Fzc2V0cy9pbWFnZXMvc2VuZC5wbmdcIiBvbkNsaWNrPXsoKSA9PiBwcm9wcy5zZW5kTWVzc2FnZSgnbWVzc2FnZScpfS8+IDpcclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9hc3NldHMvaW1hZ2VzL2tleS5wbmdcIiBvbkNsaWNrPXsoKSA9PiBwcm9wcy5zZW5kTWVzc2FnZSgna2V5Jyl9Lz5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAgICAgICAuc2JsLWNpcmMge1xyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDIycHg7XHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMnB4O1xyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogIzVhNWE1YTtcclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQ7XHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogcm90YXRlIDFzIGxpbmVhciBpbmZpbml0ZTsgXHJcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogNXB4IDEwcHggNXB4IDVweDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzIHJvdGF0ZSB7XHJcbiAgICAgICAgICAgICAgICAgIDAlIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwKTsgfVxyXG4gICAgICAgICAgICAgICAgICAxMDAlIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC8+XHJcbiAgICApXHJcbn07XHJcblNlbmRJY29uLnByb3BUeXBlcyA9IHtcclxuICAgIGluUHJvY2Vzc2luZzogUHJvcFR5cGVzLmJvb2wsXHJcbiAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIHNlbmRNZXNzYWdlOiBQcm9wVHlwZXMuZnVuYyxcclxufTtcclxuXHJcbmNsYXNzIFRleHRBcmVhTWVzc2FnZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUFyZWEgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlVmFsdWU6ICcnLFxyXG4gICAgICAgICAgICBpblByb2Nlc3Npbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBlZGl0TWVzc2FnZToge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICcnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9fZGVib3VuY2VUeXBpbmcgICAgID0gdGhpcy5fX2RlYm91bmNlVHlwaW5nLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5fX3NldE1lc3NhZ2VWYWx1ZSAgICA9IHRoaXMuX19zZXRNZXNzYWdlVmFsdWUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fYXV0b1NpemUgICAgICAgICAgID0gdGhpcy5fX2F1dG9TaXplLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5fX3N1Ym1pdE1lc3NhZ2UgICAgICA9IHRoaXMuX19zdWJtaXRNZXNzYWdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5fX3VzZXJJc09ubGluZSAgICAgICA9IHRoaXMuX191c2VySXNPbmxpbmUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9fdXNlcklzT2ZmbGluZSAgICAgID0gdGhpcy5fX3VzZXJJc09mZmxpbmUuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgQnVzLnN1YnNjcmliZSgnZWRpdE1lc3NhZ2UnLCAoe21zZywgaW5kZXh9KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZWRpdE1lc3NhZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYWluT2JqOiBtc2csXHJcbiAgICAgICAgICAgICAgICAgICAgbXNnOiBtc2c/Lm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sICgpID0+IHRoaXMubWVzc2FnZUFyZWEuY3VycmVudD8uZm9jdXMoKSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBCdXMuc3Vic2NyaWJlKCdtZXNzYWdlU2VuZGluZ0ZpbmlzaCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpblByb2Nlc3Npbmc6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmVkaXRNZXNzYWdlLmhhc093blByb3BlcnR5KCdtYWluT2JqJykgJiYgIXRoaXMuc3RhdGUuZWRpdE1lc3NhZ2UubXNnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmlzVHlwaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgX19hdXRvU2l6ZSAoKSB7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlQXJlYS5jdXJyZW50LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcclxuICAgICAgICB0aGlzLm1lc3NhZ2VBcmVhLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gKHRoaXMubWVzc2FnZUFyZWEuY3VycmVudC5zY3JvbGxIZWlnaHQpICsgJ3B4JztcclxuICAgIH1cclxuXHJcbiAgICBfX3VzZXJJc09mZmxpbmUgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmVkaXRNZXNzYWdlLmhhc093blByb3BlcnR5KCdtYWluT2JqJykgJiYgIXRoaXMuc3RhdGUuZWRpdE1lc3NhZ2UubXNnKSB7XHJcbiAgICAgICAgICAgIEJ1cy5kaXNwYXRjaCgnY2FuY2VsRWRpdGluZycpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGVkaXRNZXNzYWdlOiB7fSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX191c2VySXNPbmxpbmUgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVVzZXI/LmlkICYmIHRoaXMucHJvcHMubG9nZ2VkVXNlcklkICYmICF0aGlzLnByb3BzLmFjdGl2ZVVzZXI/LmlzU2VuZGVyKSB7XHJcbiAgICAgICAgICAgIF9fQ0hBTkdFX0lTX1NFRU4oe3NlbmRlcklEOiB0aGlzLnByb3BzLmFjdGl2ZVVzZXI/LmlkLCBteUlEOiB0aGlzLnByb3BzLmxvZ2dlZFVzZXJJZH0pLm5leHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9fZGVib3VuY2VUeXBpbmcgPSBjbGFzc0RlYm91bmNlKHRoaXMuX19pc1R5cGluZywgNjAwKTtcclxuXHJcbiAgICBfX2lzVHlwaW5nICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5tZXNzYWdlVmFsdWUgIT09ICcnICYmICF0aGlzLnN0YXRlLmVkaXRNZXNzYWdlLm1zZyApIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5pc1R5cGluZyh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX19zdWJtaXRNZXNzYWdlIChldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VudGVyJyAmJiBldnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZ0ID09PSAna2V5Jykge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNlbmRNZXNzYWdlKCdrZXknLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpblByb2Nlc3Npbmc6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldnQgPT09ICdtZXNzYWdlJyB8fCBldnQua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaW5Qcm9jZXNzaW5nOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0TWVzc2FnZS5tc2cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VuZE1lc3NhZ2UodGhpcy5zdGF0ZS5lZGl0TWVzc2FnZS5tc2csIHRoaXMuc3RhdGUuZWRpdE1lc3NhZ2UpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5tZXNzYWdlVmFsdWUgIT09ICcnICl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlbmRNZXNzYWdlKHRoaXMuc3RhdGUubWVzc2FnZVZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VBcmVhLmN1cnJlbnQuYmx1cigpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGVkaXRNZXNzYWdlOiB7fSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VWYWx1ZTogJydcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlQXJlYS5jdXJyZW50LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGV2dC5rZXkgJiYgZXZ0LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX19zZXRNZXNzYWdlVmFsdWUgKGV2dCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAuLi4odGhpcy5zdGF0ZS5lZGl0TWVzc2FnZS5tc2cgJiYge1xyXG4gICAgICAgICAgICAgICAgZWRpdE1lc3NhZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLmVkaXRNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogZXZ0LnRhcmdldC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbWVzc2FnZVZhbHVlOiBldnQudGFyZ2V0LnZhbHVlXHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5tZXNzYWdlVmFsdWUgPT09ICcnICYmICF0aGlzLnN0YXRlLmVkaXRNZXNzYWdlLm1zZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pc1R5cGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIEJ1cy51bnN1YnNjcmliZSgnZWRpdE1lc3NhZ2UnKTtcclxuICAgICAgICBCdXMudW5zdWJzY3JpYmUoJ21lc3NhZ2VTZW5kaW5nRmluaXNoJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyICgpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXNlbmQtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5tZXNzYWdlQXJlYX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZWRpdE1lc3NhZ2UubXNnIHx8IHRoaXMuc3RhdGUubWVzc2FnZVZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzPXt0aGlzLnN0YXRlLnJvd0xpbmVDb3VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17dGhpcy5fX3VzZXJJc09ubGluZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXt0aGlzLl9fdXNlcklzT2ZmbGluZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25JbnB1dD17dGhpcy5fX2F1dG9TaXplfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2dCkgPT4ge3RoaXMuX19zZXRNZXNzYWdlVmFsdWUoZXZ0KTsgdGhpcy5fX2RlYm91bmNlVHlwaW5nKCl9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgbWVzc2FnZS4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5fX3N1Ym1pdE1lc3NhZ2V9PjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgICAgICAgICAgPFNlbmRJY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluUHJvY2Vzc2luZz17dGhpcy5zdGF0ZS5pblByb2Nlc3Npbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlPXt0aGlzLl9fc3VibWl0TWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubWVzc2FnZVZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPntgXHJcbiAgICAgICAgICAgICAgICAgICAgLm1lc3NhZ2Utc2VuZC1jb250YWluZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDNweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiKDIyNywgMjIyLCAyMjIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAubWVzc2FnZS1zZW5kLWNvbnRhaW5lciBpbWcge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDdweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAubWVzc2FnZS1zZW5kLWNvbnRhaW5lciB0ZXh0YXJlYSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4LWhlaWdodDogNzBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDMwcHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlLXNlbmQtY29udGFpbmVyIHRleHRhcmVhOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAubWVzc2FnZS1zZW5kLWNvbnRhaW5lciB0ZXh0YXJlYTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlLXNlbmQtY29udGFpbmVyIHRleHRhcmVhOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuVGV4dEFyZWFNZXNzYWdlLnByb3BUeXBlcyA9IHtcclxuICAgIGxvZ2dlZFVzZXJJZDogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGFjdGl2ZVVzZXI6IFByb3BUeXBlcy5vYmplY3QsXHJcbiAgICBpc1R5cGluZzogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBzZW5kTWVzc2FnZTogUHJvcFR5cGVzLmZ1bmMsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZXh0QXJlYU1lc3NhZ2U7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\ruala\\\\\\\\Desktop\\\\\\\\ASahak\\\\\\\\daser\\\\\\\\next\\\\\\\\CryptoGraphy\\\\\\\\components\\\\\\\\elements\\\\\\\\TextAreaMessage.jsx */\"));\n  }\n\n}\n\nTextAreaMessage.propTypes = {\n  loggedUserId: PropTypes.string,\n  activeUser: PropTypes.object,\n  isTyping: PropTypes.func,\n  sendMessage: PropTypes.func\n};\nexport default TextAreaMessage;","map":{"version":3,"sources":["C:/Users/ruala/Desktop/ASahak/daser/next/CryptoGraphy/components/elements/TextAreaMessage.jsx"],"names":["React","PropTypes","classDebounce","__CHANGE_IS_SEEN","Bus","SendIcon","props","inProcessing","value","sendMessage","propTypes","bool","string","func","TextAreaMessage","PureComponent","constructor","__isTyping","messageArea","createRef","state","messageValue","editMessage","index","msg","__debounceTyping","bind","__setMessageValue","__autoSize","__submitMessage","__userIsOnline","__userIsOffline","subscribe","setState","mainObj","message","current","focus","addEventListener","hasOwnProperty","isTyping","style","height","scrollHeight","dispatch","activeUser","id","loggedUserId","isSender","senderID","myID","next","evt","key","shiftKey","blur","preventDefault","target","componentWillUnmount","unsubscribe","render","rowLineCount","object"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classDebounce } from 'hooks/use-debounce';\r\nimport {\r\n    __CHANGE_IS_SEEN\r\n} from \"../../store/saga\";\r\nimport { Bus } from \"components/shared/helpers/Bus\";\r\n\r\nconst SendIcon = (props) => {\r\n    return (\r\n        <>\r\n            {props.inProcessing ? <div className=\"sbl-circ\"></div> : props.value ?\r\n                <img src=\"./assets/images/send.png\" onClick={() => props.sendMessage('message')}/> :\r\n                <img src=\"./assets/images/key.png\" onClick={() => props.sendMessage('key')}/>\r\n            }\r\n            <style jsx>{`\r\n                .sbl-circ {\r\n                  height: 22px;\r\n                  width: 22px;\r\n                  color: #5a5a5a;\r\n                  position: relative;\r\n                  display: block;\r\n                  border: 2px solid;\r\n                  border-radius: 50%;\r\n                  border-top-color: transparent;\r\n                  animation: rotate 1s linear infinite; \r\n                  margin: 5px 10px 5px 5px;\r\n                }\r\n\r\n                @keyframes rotate {\r\n                  0% {\r\n                    transform: rotate(0); }\r\n                  100% {\r\n                    transform: rotate(360deg); } \r\n                }\r\n            `}</style>\r\n        </>\r\n    )\r\n};\r\nSendIcon.propTypes = {\r\n    inProcessing: PropTypes.bool,\r\n    value: PropTypes.string,\r\n    sendMessage: PropTypes.func,\r\n};\r\n\r\nclass TextAreaMessage extends React.PureComponent {\r\n    constructor (props) {\r\n        super(props);\r\n        this.messageArea = React.createRef();\r\n        this.state = {\r\n            messageValue: '',\r\n            inProcessing: false,\r\n            editMessage: {\r\n                index: null,\r\n                msg: '',\r\n            }\r\n        };\r\n        this.__debounceTyping     = this.__debounceTyping.bind(this);\r\n        this.__setMessageValue    = this.__setMessageValue.bind(this);\r\n        this.__autoSize           = this.__autoSize.bind(this);\r\n        this.__submitMessage      = this.__submitMessage.bind(this);\r\n        this.__userIsOnline       = this.__userIsOnline.bind(this);\r\n        this.__userIsOffline      = this.__userIsOffline.bind(this);\r\n\r\n        Bus.subscribe('editMessage', ({msg, index}) => {\r\n            this.setState({\r\n                editMessage: {\r\n                    mainObj: msg,\r\n                    msg: msg?.message,\r\n                    index: index\r\n                }\r\n            }, () => this.messageArea.current?.focus())\r\n        });\r\n        Bus.subscribe('messageSendingFinish', () => {\r\n            this.setState({\r\n                inProcessing: false\r\n            });\r\n        });\r\n        addEventListener('blur', () => {\r\n            if (this.state.editMessage.hasOwnProperty('mainObj') && !this.state.editMessage.msg) {\r\n                this.props.isTyping(false);\r\n            }\r\n        })\r\n    }\r\n\r\n    __autoSize () {\r\n        this.messageArea.current.style.height = 'auto';\r\n        this.messageArea.current.style.height = (this.messageArea.current.scrollHeight) + 'px';\r\n    }\r\n\r\n    __userIsOffline () {\r\n        if (this.state.editMessage.hasOwnProperty('mainObj') && !this.state.editMessage.msg) {\r\n            Bus.dispatch('cancelEditing');\r\n            this.setState({\r\n                editMessage: {},\r\n            })\r\n        }\r\n    }\r\n\r\n    __userIsOnline () {\r\n        if (this.props.activeUser?.id && this.props.loggedUserId && !this.props.activeUser?.isSender) {\r\n            __CHANGE_IS_SEEN({senderID: this.props.activeUser?.id, myID: this.props.loggedUserId}).next();\r\n        }\r\n    }\r\n\r\n\r\n    __debounceTyping = classDebounce(this.__isTyping, 600);\r\n\r\n    __isTyping () {\r\n        if (this.state.messageValue !== '' && !this.state.editMessage.msg ) {\r\n            this.props.isTyping(true);\r\n        }\r\n    }\r\n\r\n    __submitMessage (evt) {\r\n        if (evt.key === 'Enter' && evt.shiftKey) {\r\n            return;\r\n        }\r\n        if (evt === 'key') {\r\n            this.props.sendMessage('key', true);\r\n            this.setState({\r\n                inProcessing: true\r\n            });\r\n        } else if (evt === 'message' || evt.key === 'Enter') {\r\n            this.setState({\r\n                inProcessing: true\r\n            });\r\n            if (this.state.editMessage.msg) {\r\n                this.props.sendMessage(this.state.editMessage.msg, this.state.editMessage)\r\n            } else if (this.state.messageValue !== '' ){\r\n                this.props.sendMessage(this.state.messageValue);\r\n            }\r\n            this.messageArea.current.blur();\r\n            this.setState({\r\n                editMessage: {},\r\n                messageValue: ''\r\n            }, () => {\r\n                this.messageArea.current.style.height = 'auto';\r\n            });\r\n            evt.key && evt.preventDefault()\r\n        }\r\n    }\r\n\r\n    __setMessageValue (evt) {\r\n        this.setState({\r\n            ...(this.state.editMessage.msg && {\r\n                editMessage: {\r\n                    ...this.state.editMessage,\r\n                    msg: evt.target.value\r\n                }\r\n            }),\r\n            messageValue: evt.target.value\r\n        }, () => {\r\n            if (this.state.messageValue === '' && !this.state.editMessage.msg) {\r\n                this.props.isTyping(false);\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        Bus.unsubscribe('editMessage');\r\n        Bus.unsubscribe('messageSendingFinish');\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"message-send-container\">\r\n                    <textarea\r\n                        ref={this.messageArea}\r\n                        value={this.state.editMessage.msg || this.state.messageValue}\r\n                        rows={this.state.rowLineCount}\r\n                        onFocus={this.__userIsOnline}\r\n                        onBlur={this.__userIsOffline}\r\n                        onInput={this.__autoSize}\r\n                        onChange={(evt) => {this.__setMessageValue(evt); this.__debounceTyping()}}\r\n                        placeholder=\"Type message...\"\r\n                        onKeyDown={this.__submitMessage}></textarea>\r\n                    <SendIcon\r\n                        inProcessing={this.state.inProcessing}\r\n                        sendMessage={this.__submitMessage}\r\n                        value={this.state.messageValue}\r\n                    />\r\n                </div>\r\n                <style jsx global>{`\r\n                    .message-send-container {\r\n                        padding-left: 3px;\r\n                        display: flex;\r\n                        justify-content: space-between;\r\n                        border-top: 1px solid rgb(227, 222, 222);\r\n                        align-items: center;\r\n                    }\r\n                    .message-send-container img {\r\n                        width: 25px;\r\n                        height: 25px;\r\n                        margin-right: 7px;\r\n                        cursor: pointer;\r\n                    }\r\n                    .message-send-container textarea {\r\n                        resize: none;\r\n                        max-height: 70px;\r\n                        width: calc(100% - 30px);\r\n                        border: none;\r\n                        outline: none;\r\n                    }\r\n                    .message-send-container textarea::-webkit-scrollbar {\r\n                      width: 0px;\r\n                      height: 10px;\r\n                    }\r\n                    \r\n                    .message-send-container textarea::-webkit-scrollbar-thumb {\r\n                      background: transparent;\r\n                    }\r\n                    \r\n                    .message-send-container textarea::-webkit-scrollbar-track {\r\n                      background: transparent;\r\n                    }\r\n                `}</style>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nTextAreaMessage.propTypes = {\r\n    loggedUserId: PropTypes.string,\r\n    activeUser: PropTypes.object,\r\n    isTyping: PropTypes.func,\r\n    sendMessage: PropTypes.func,\r\n};\r\n\r\nexport default TextAreaMessage;"]},"metadata":{},"sourceType":"module"}